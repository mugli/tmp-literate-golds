<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Package: github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds</title>
<link href="../../../../../../css/light-v0.3.2-preview.css" rel="stylesheet">
<script src="../../../../../../jvs/golds-v0.3.2-preview.js"></script>
<body onload="onPageLoad()"><div>

<pre id="package-details"><code><span style="font-size:xx-large;">package <b>ec2rolecreds</b></span>

<span class="title">Import Path</span>
	<a href="../../../../../../index.html#pkg-github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds">github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds</a><i> (on <a href="https://pkg.go.dev/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds" target="_blank">go.dev</a>)</i>

<span class="title">Dependency Relation</span>
	imports <a href="../../../../../../dep/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds.html">12 packages</a>, and imported by <a href="../../../../../../dep/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds.html#imported-by">one package</a>

<div id="files"><span class="title">Involved Source Files</span>

	<span class="nodocs">      <a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds/ec2_role_provider.go.html">ec2_role_provider.go</a></span></div>
<div id="exported-types"><span class="title">Package-Level Type Names<span class="title-stat"><i> (total 2, in which 1 are exported)</i></span></span>

<div id="exported-types-buttons" class="js-on">	/* sort exporteds by: <label id="sort-types-by-alphabet" class="button">alphabet</label> | <label id="sort-types-by-popularity" class="button">popularity</label> */</div><div class="anchor type-res" id="name-EC2RoleProvider" data-popularity="400">	<input type='checkbox' class="fold" id="EC2RoleProvider-fold-content"><label for="EC2RoleProvider-fold-content"> <a href="../../../../../../use/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds..EC2RoleProvider.html">type</a> <a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds/ec2_role_provider.go.html#line-39">EC2RoleProvider</a> <i>(struct)</i></label><span id='EC2RoleProvider-fold-content-docs' class="fold-docs">
		A EC2RoleProvider retrieves credentials from the EC2 service, and keeps track if
		those credentials are expired.

		Example how to configure the EC2RoleProvider with custom http Client, Endpoint
		or ExpiryWindow

		    p := &amp;ec2rolecreds.EC2RoleProvider{
		        // Pass in a custom timeout to be used when requesting
		        // IAM EC2 Role credentials.
		        Client: ec2metadata.New(sess, aws.Config{
		            HTTPClient: &amp;http.Client{Timeout: 10 * time.Second},
		        }),

		        // Do not use early expiry of credentials. If a non zero value is
		        // specified the credentials will be expired early
		        ExpiryWindow: 0,
		    }

		<input type='checkbox' class="fold" id="EC2RoleProvider-fold-fields"><label for="EC2RoleProvider-fold-fields">Fields (<i>total 5, in which 4 are exported</i>)</label><span id='EC2RoleProvider-fold-fields-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="EC2RoleProvider-fold-field-Client"><label for="EC2RoleProvider-fold-field-Client"><a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds/ec2_role_provider.go.html#line-43">Client</a> <i>*<a href="../ec2metadata.html">ec2metadata</a>.<a href="../ec2metadata.html#name-EC2Metadata">EC2Metadata</a></i></label><span id='EC2RoleProvider-fold-field-Client-docs' class="fold-docs">
				Required EC2Metadata client to use when connecting to EC2 metadata service.
</span></span><span>
			<span class="nodocs"><a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds/ec2_role_provider.go.html#line-40">Expiry</a> <i><a href="../credentials.html">credentials</a>.<a href="../credentials.html#name-Expiry">Expiry</a></i></span></span><span>
			<input type='checkbox' class="fold" id="EC2RoleProvider-fold-field-CurrentTime"><label for="EC2RoleProvider-fold-field-CurrentTime"><a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds/ec2_role_provider.go.html#line-40" class="path-duplicate">Expiry</a>.<a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/credentials.go.html#line-164">CurrentTime</a> <i>func() <a href="../../../../../time.html">time</a>.<a href="../../../../../time.html#name-Time">Time</a></i></label><span id='EC2RoleProvider-fold-field-CurrentTime-docs' class="fold-docs">
				If set will be used by IsExpired to determine the current time.
				Defaults to time.Now if CurrentTime is not set.  Available for testing
				to be able to mock out the current time.
</span></span><span>
			<input type='checkbox' class="fold" id="EC2RoleProvider-fold-field-ExpiryWindow"><label for="EC2RoleProvider-fold-field-ExpiryWindow"><a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds/ec2_role_provider.go.html#line-54">ExpiryWindow</a> <i><a href="../../../../../time.html">time</a>.<a href="../../../../../time.html#name-Duration">Duration</a></i></label><span id='EC2RoleProvider-fold-field-ExpiryWindow-docs' class="fold-docs">
				ExpiryWindow will allow the credentials to trigger refreshing prior to
				the credentials actually expiring. This is beneficial so race conditions
				with expiring credentials do not cause request to fail unexpectedly
				due to ExpiredTokenException exceptions.

				So a ExpiryWindow of 10s would cause calls to IsExpired() to return true
				10 seconds before the credentials are actually expired.

				If ExpiryWindow is 0 or less it will be ignored.
</span></span>
			<input type='checkbox' class="showhide" id="EC2RoleProvider-showhide-fields"><i><label for="EC2RoleProvider-showhide-fields" class="show-inline">/* one unexported ... */</label><label for="EC2RoleProvider-showhide-fields" class="hide-inline">/* one unexported: */</label></i><span class="hidden"><i>
			<input type='checkbox' class="fold" id="EC2RoleProvider-fold-field-expiration"><label for="EC2RoleProvider-fold-field-expiration"><a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds/ec2_role_provider.go.html#line-40">Expiry</a>.<a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/credentials.go.html#line-159">expiration</a> <i><a href="../../../../../time.html">time</a>.<a href="../../../../../time.html#name-Time">Time</a></i></label><span id='EC2RoleProvider-fold-field-expiration-docs' class="fold-docs">
				The date/time when to expire on
</span></i></span></span>
		<input type='checkbox' class="fold" id="EC2RoleProvider-fold-methods"><label for="EC2RoleProvider-fold-methods">Methods (<i>total 5, all are exported</i>)</label><span id='EC2RoleProvider-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="EC2RoleProvider-fold-method-ExpiresAt"><label for="EC2RoleProvider-fold-method-ExpiresAt">(*T) <a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/credentials.go.html#line-192">ExpiresAt</a>() <a href="../../../../../time.html">time</a>.<a href="../../../../../time.html#name-Time">Time</a></label><span id='EC2RoleProvider-fold-method-ExpiresAt-docs' class="fold-docs">
				ExpiresAt returns the expiration time of the credential
</span></span><span>
			<input type='checkbox' class="fold" id="EC2RoleProvider-fold-method-IsExpired"><label for="EC2RoleProvider-fold-method-IsExpired">(*T) <a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/credentials.go.html#line-183">IsExpired</a>() <a href="../../../../../builtin.html#name-bool">bool</a></label><span id='EC2RoleProvider-fold-method-IsExpired-docs' class="fold-docs">
				IsExpired returns if the credentials are expired.
</span></span><span>
			<input type='checkbox' class="fold" id="EC2RoleProvider-fold-method-Retrieve"><label for="EC2RoleProvider-fold-method-Retrieve">(*T) <a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds/ec2_role_provider.go.html#line-90">Retrieve</a>() (<a href="../credentials.html">credentials</a>.<a href="../credentials.html#name-Value">Value</a>, <a href="../../../../../builtin.html#name-error">error</a>)</label><span id='EC2RoleProvider-fold-method-Retrieve-docs' class="fold-docs">
				Retrieve retrieves credentials from the EC2 service.
				Error will be returned if the request fails, or unable to extract
				the desired credentials.
</span></span><span>
			<input type='checkbox' class="fold" id="EC2RoleProvider-fold-method-RetrieveWithContext"><label for="EC2RoleProvider-fold-method-RetrieveWithContext">(*T) <a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds/ec2_role_provider.go.html#line-97">RetrieveWithContext</a>(ctx <a href="../credentials.html">credentials</a>.<a href="../credentials.html#name-Context">Context</a>) (<a href="../credentials.html">credentials</a>.<a href="../credentials.html#name-Value">Value</a>, <a href="../../../../../builtin.html#name-error">error</a>)</label><span id='EC2RoleProvider-fold-method-RetrieveWithContext-docs' class="fold-docs">
				RetrieveWithContext retrieves credentials from the EC2 service.
				Error will be returned if the request fails, or unable to extract
				the desired credentials.
</span></span><span>
			<input type='checkbox' class="fold" id="EC2RoleProvider-fold-method-SetExpiration"><label for="EC2RoleProvider-fold-method-SetExpiration">(*T) <a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/credentials.go.html#line-175">SetExpiration</a>(expiration <a href="../../../../../time.html">time</a>.<a href="../../../../../time.html#name-Time">Time</a>, window <a href="../../../../../time.html">time</a>.<a href="../../../../../time.html#name-Duration">Duration</a>)</label><span id='EC2RoleProvider-fold-method-SetExpiration-docs' class="fold-docs">
				SetExpiration sets the expiration IsExpired will check when called.

				If window is greater than 0 the expiration time will be reduced by the
				window value.

				Using a window is helpful to trigger credentials to expire sooner than
				the expiration time given to ensure no requests are made with expired
				tokens.
</span></span></span>
		<input type='checkbox' class="fold" id="EC2RoleProvider-fold-impls"><label for="EC2RoleProvider-fold-impls">Implements (<i>at least 3, all are exported</i>)</label><span id='EC2RoleProvider-fold-impls-items' class="fold-items"><span>
			*T : github.com/aws/aws-sdk-go/aws/credentials.<a href="../credentials.html#name-Expirer">Expirer</a></span><span>
			*T : github.com/aws/aws-sdk-go/aws/credentials.<a href="../credentials.html#name-Provider">Provider</a></span><span>
			*T : github.com/aws/aws-sdk-go/aws/credentials.<a href="../credentials.html#name-ProviderWithContext">ProviderWithContext</a></span></span>

</span></div></div><div>	<input type='checkbox' class="showhide" id="unexported-typenames-showhide"><i><label for="unexported-typenames-showhide" class="show-inline">/* one unexported ... */</label><label for="unexported-typenames-showhide" class="hide-inline">/* one unexported: */</label></i><div class="anchor type-res hidden" id="name-ec2RoleCredRespBody" data-popularity="75">	<input type='checkbox' class="fold" id="ec2RoleCredRespBody-fold-content"><label for="ec2RoleCredRespBody-fold-content"> <a href="../../../../../../use/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds..ec2RoleCredRespBody*915f5.html">type</a> <a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds/ec2_role_provider.go.html#line-125">ec2RoleCredRespBody</a> <i>(struct)</i></label><span id='ec2RoleCredRespBody-fold-content-docs' class="fold-docs">
		A ec2RoleCredRespBody provides the shape for unmarshaling credential
		request responses.

		<input type='checkbox' class="fold" id="ec2RoleCredRespBody-fold-fields"><label for="ec2RoleCredRespBody-fold-fields">Fields (<i>total 6, all are exported</i>)</label><span id='ec2RoleCredRespBody-fold-fields-items' class="fold-items"><span>
			<span class="nodocs"><a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds/ec2_role_provider.go.html#line-128">AccessKeyID</a> <i><a href="../../../../../builtin.html#name-string">string</a></i></span></span><span>
			<input type='checkbox' class="fold" id="ec2RoleCredRespBody-fold-field-Code"><label for="ec2RoleCredRespBody-fold-field-Code"><a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds/ec2_role_provider.go.html#line-133">Code</a> <i><a href="../../../../../builtin.html#name-string">string</a></i></label><span id='ec2RoleCredRespBody-fold-field-Code-docs' class="fold-docs">
				Error state
</span></span><span>
			<input type='checkbox' class="fold" id="ec2RoleCredRespBody-fold-field-Expiration"><label for="ec2RoleCredRespBody-fold-field-Expiration"><a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds/ec2_role_provider.go.html#line-127">Expiration</a> <i><a href="../../../../../time.html">time</a>.<a href="../../../../../time.html#name-Time">Time</a></i></label><span id='ec2RoleCredRespBody-fold-field-Expiration-docs' class="fold-docs">
				Success State
</span></span><span>
			<span class="nodocs"><a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds/ec2_role_provider.go.html#line-134">Message</a> <i><a href="../../../../../builtin.html#name-string">string</a></i></span></span><span>
			<span class="nodocs"><a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds/ec2_role_provider.go.html#line-129">SecretAccessKey</a> <i><a href="../../../../../builtin.html#name-string">string</a></i></span></span><span>
			<span class="nodocs"><a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds/ec2_role_provider.go.html#line-130">Token</a> <i><a href="../../../../../builtin.html#name-string">string</a></i></span></span></span>
		<input type='checkbox' class="fold" id="ec2RoleCredRespBody-fold-results"><label for="ec2RoleCredRespBody-fold-results">As Outputs Of (<i>at least one unexported</i>)</label><span id='ec2RoleCredRespBody-fold-results-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="ec2RoleCredRespBody-showhide-inputofs"><i><label for="ec2RoleCredRespBody-showhide-inputofs" class="show-inline">/* at least one unexported ... */</label><label for="ec2RoleCredRespBody-showhide-inputofs" class="hide-inline">/* at least one unexported: */</label></i><span class="hidden"><i>
			func <a href="#name-requestCred">requestCred</a>(ctx <a href="../../aws.html">aws</a>.<a href="../../aws.html#name-Context">Context</a>, client *<a href="../ec2metadata.html">ec2metadata</a>.<a href="../ec2metadata.html#name-EC2Metadata">EC2Metadata</a>, credsName <a href="../../../../../builtin.html#name-string">string</a>) (<b>ec2RoleCredRespBody</b>, <a href="../../../../../builtin.html#name-error">error</a>)</i></span></span>

</span></div></div>
<div id="exported-functions"><span class="title">Package-Level Functions<span class="title-stat"><i> (total 4, in which 2 are exported)</i></span></span>

<div class="anchor value-res" id="name-NewCredentials">	<input type='checkbox' class="fold" id="NewCredentials-fold-content"><label for="NewCredentials-fold-content"> <a href="../../../../../../use/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds..NewCredentials.html">func</a> <a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds/ec2_role_provider.go.html#line-60">NewCredentials</a>(c <a href="../client.html">client</a>.<a href="../client.html#name-ConfigProvider">ConfigProvider</a>, options ...func(*<a href="#name-EC2RoleProvider">EC2RoleProvider</a>)) *<a href="../credentials.html">credentials</a>.<a href="../credentials.html#name-Credentials">Credentials</a></label><span id='NewCredentials-fold-content-docs' class="fold-docs">
		NewCredentials returns a pointer to a new Credentials object wrapping
		the EC2RoleProvider. Takes a ConfigProvider to create a EC2Metadata client.
		The ConfigProvider is satisfied by the session.Session type.

</span></div><div class="anchor value-res" id="name-NewCredentialsWithClient">	<input type='checkbox' class="fold" id="NewCredentialsWithClient-fold-content"><label for="NewCredentialsWithClient-fold-content"> <a href="../../../../../../use/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds..NewCredentialsWithClient.html">func</a> <a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds/ec2_role_provider.go.html#line-75">NewCredentialsWithClient</a>(client *<a href="../ec2metadata.html">ec2metadata</a>.<a href="../ec2metadata.html#name-EC2Metadata">EC2Metadata</a>, options ...func(*<a href="#name-EC2RoleProvider">EC2RoleProvider</a>)) *<a href="../credentials.html">credentials</a>.<a href="../credentials.html#name-Credentials">Credentials</a></label><span id='NewCredentialsWithClient-fold-content-docs' class="fold-docs">
		NewCredentialsWithClient returns a pointer to a new Credentials object wrapping
		the EC2RoleProvider. Takes a EC2Metadata client to use when connecting to EC2
		metadata service.

</span></div>	<input type='checkbox' class="showhide" id="unexported-functions-showhide"><i><label for="unexported-functions-showhide" class="show-inline">/* 2 unexporteds ... */</label><label for="unexported-functions-showhide" class="hide-inline">/* 2 unexporteds: */</label></i><div class="anchor value-res hidden" id="name-requestCred"><i>	<input type='checkbox' class="fold" id="requestCred-fold-content"><label for="requestCred-fold-content"> <a href="../../../../../../use/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds..requestCred*0f865.html">func</a> <a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds/ec2_role_provider.go.html#line-165">requestCred</a>(ctx <a href="../../aws.html">aws</a>.<a href="../../aws.html#name-Context">Context</a>, client *<a href="../ec2metadata.html">ec2metadata</a>.<a href="../ec2metadata.html#name-EC2Metadata">EC2Metadata</a>, credsName <a href="../../../../../builtin.html#name-string">string</a>) (<a href="#name-ec2RoleCredRespBody">ec2RoleCredRespBody</a>, <a href="../../../../../builtin.html#name-error">error</a>)</label><span id='requestCred-fold-content-docs' class="fold-docs">
		requestCred requests the credentials for a specific credentials from the EC2 service.

		If the credentials cannot be found, or there is an error reading the response
		and error will be returned.

</span></i></div><div class="anchor value-res hidden" id="name-requestCredList"><i>	<input type='checkbox' class="fold" id="requestCredList-fold-content"><label for="requestCredList-fold-content"> <a href="../../../../../../use/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds..requestCredList*201dc.html">func</a> <a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds/ec2_role_provider.go.html#line-141">requestCredList</a>(ctx <a href="../../aws.html">aws</a>.<a href="../../aws.html#name-Context">Context</a>, client *<a href="../ec2metadata.html">ec2metadata</a>.<a href="../ec2metadata.html#name-EC2Metadata">EC2Metadata</a>) ([]<a href="../../../../../builtin.html#name-string">string</a>, <a href="../../../../../builtin.html#name-error">error</a>)</label><span id='requestCredList-fold-content-docs' class="fold-docs">
		requestCredList requests a list of credentials from the EC2 service.
		If there are no credentials, or there is an error making or receiving the request

</span></i></div></div>
<div id="exported-constants"><span class="title">Package-Level Constants<span class="title-stat"><i> (total 2, in which 1 are exported)</i></span></span>

<div class="anchor value-res" id="name-ProviderName">	<input type='checkbox' class="fold" id="ProviderName-fold-content"><label for="ProviderName-fold-content"><a href="../../../../../../use/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds..ProviderName.html">const</a> <a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds/ec2_role_provider.go.html#line-20">ProviderName</a> = "EC2RoleProvider"</label><span id='ProviderName-fold-content-docs' class="fold-docs">
		ProviderName provides a name of EC2Role provider

</span></div>	<input type='checkbox' class="showhide" id="unexported-constants-showhide"><i><label for="unexported-constants-showhide" class="show-inline">/* one unexported ... */</label><label for="unexported-constants-showhide" class="hide-inline">/* one unexported: */</label></i><div class="anchor value-res hidden" id="name-iamSecurityCredsPath"><i>	<span class="nodocs"><a href="../../../../../../use/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds..iamSecurityCredsPath*e12f8.html">const</a> <a href="../../../../../../src/github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds/ec2_role_provider.go.html#line-137">iamSecurityCredsPath</a> = "iam/security-credentials/"</span></i></div></div></code></pre><pre id="footer">
<table><tr><td><img src="../../../../../../png/go101-twitter.png"></td>
<td>The pages are generated with <a href="https://go101.org/article/tool-golds.html"><b>Golds</b></a> <i>v0.3.2-preview</i>. (GOOS=darwin GOARCH=amd64)
<b>Golds</b> is a <a href="https://go101.org">Go 101</a> project developed by <a href="https://tapirgames.com">Tapir Liu</a>.
PR and bug reports are welcome and can be submitted to <a href="https://github.com/go101/golds">the issue list</a>.
Please follow <a href="https://twitter.com/go100and1">@Go100and1</a> (reachable from the left QR code) to get the latest news of <b>Golds</b>.</td></tr></table></pre>