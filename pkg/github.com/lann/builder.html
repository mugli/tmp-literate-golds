<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Package: github.com/lann/builder</title>
<link href="../../../css/light-v0.3.2-preview.css" rel="stylesheet">
<script src="../../../jvs/golds-v0.3.2-preview.js"></script>
<body onload="onPageLoad()"><div>

<pre id="package-details"><code><span style="font-size:xx-large;">package <b>builder</b></span>

<span class="title">Import Path</span>
	<a href="../../../index.html#pkg-github.com/lann/builder">github.com/lann/builder</a><i> (on <a href="https://pkg.go.dev/github.com/lann/builder" target="_blank">go.dev</a>)</i>

<span class="title">Dependency Relation</span>
	imports <a href="../../../dep/github.com/lann/builder.html">4 packages</a>, and imported by <a href="../../../dep/github.com/lann/builder.html#imported-by">one package</a>

<div id="files"><span class="title">Involved Source Files</span>

	<input type='checkbox' checked class="fold" id="file-0-fold-content"><label for="file-0-fold-content">   <a href="../../../src/github.com/lann/builder/builder.go.html#doc">dâžœ</a> <a href="../../../src/github.com/lann/builder/builder.go.html">builder.go</a></label><span id='file-0-fold-content-items' class="fold-items">
		Package builder provides a method for writing fluent immutable builders.
</span>
	<span class="nodocs">      <a href="../../../src/github.com/lann/builder/reflect.go.html">reflect.go</a></span>
	<span class="nodocs">      <a href="../../../src/github.com/lann/builder/registry.go.html">registry.go</a></span></div>
<div id="examples"><span class="title">Code Examples</span>

	<input type='checkbox' class="fold" id="example-0-fold-content"><label for="example-0-fold-content">_basic</label><span id='example-0-fold-content-items' class="fold-items">
		package main
		
		import (
			"fmt"
			"github.com/lann/builder"
		)
		
		// Simple math expression allowing multiple adds/subtracts and a single
		// (optional) multiply.
		type simpleExpr struct {
			Multiplier int
			Adds       []int
			Subtracts  []int
		}
		
		func (e simpleExpr) Equals() (total int) {
			for _, i := range e.Adds {
				total += i
			}
			for _, i := range e.Subtracts {
				total -= i
			}
			if e.Multiplier != 0 {
				total *= e.Multiplier
			}
			return
		}
		
		// Start builder definition
		
		type simpleExprBuilder builder.Builder
		
		func (b simpleExprBuilder) Multiplier(i int) simpleExprBuilder {
			return builder.Set(b, "Multiplier", i).(simpleExprBuilder)
		}
		
		func (b simpleExprBuilder) Add(i int) simpleExprBuilder {
			return builder.Append(b, "Adds", i).(simpleExprBuilder)
		}
		
		func (b simpleExprBuilder) Subtract(i int) simpleExprBuilder {
			return builder.Append(b, "Subtracts", i).(simpleExprBuilder)
		}
		
		func (b simpleExprBuilder) Equals() int {
			return builder.GetStruct(b).(simpleExpr).Equals()
		}
		
		// SimpleExprBuilder is an empty builder
		var SimpleExprBuilder = builder.Register(simpleExprBuilder{}, simpleExpr{}).(simpleExprBuilder)
		
		// End builder definition
		
		func main() {
			b := SimpleExprBuilder.Add(10).Subtract(3)
		
			// Intermediate values can be reused
			b2 := b.Multiplier(2)
			b3 := b.Multiplier(3)
		
			fmt.Println(b.Equals(), b2.Equals(), b3.Equals())
		
		}
</span>
</div>
<div id="exported-types"><span class="title">Package-Level Type Names<span class="title-stat"><i> (only one, which is exported)</i></span></span>

<div id="exported-types-buttons" class="js-on">	/* sort exporteds by: <label id="sort-types-by-alphabet" class="button">alphabet</label> | <label id="sort-types-by-popularity" class="button">popularity</label> */</div><div class="anchor type-res" id="name-Builder" data-popularity="5">	<input type='checkbox' class="fold" id="Builder-fold-content"><label for="Builder-fold-content"> <a href="../../../use/github.com/lann/builder..Builder.html">type</a> <a href="../../../src/github.com/lann/builder/builder.go.html#line-18">Builder</a> <i>(struct)</i></label><span id='Builder-fold-content-docs' class="fold-docs">
		Builder stores a set of named values.

		New types can be declared with underlying type Builder and used with the
		functions in this package. See example.

		Instances of Builder should be treated as immutable. It is up to the
		implementor to ensure mutable values set on a Builder are not mutated while
		the Builder is in use.

		<input type='checkbox' class="fold" id="Builder-fold-fields"><label for="Builder-fold-fields">Fields (<i>only one, which is unexported</i>)</label><span id='Builder-fold-fields-items' class="fold-items">
			<input type='checkbox' class="showhide" id="Builder-showhide-fields"><i><label for="Builder-showhide-fields" class="show-inline">/* one unexported ... */</label><label for="Builder-showhide-fields" class="hide-inline">/* one unexported: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/github.com/lann/builder/builder.go.html#line-19">builderMap</a> <i><a href="ps.html">ps</a>.<a href="ps.html#name-Map">Map</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="Builder-fold-values"><label for="Builder-fold-values">As Types Of (<i>only one, which is exported</i>)</label><span id='Builder-fold-values-items' class="fold-items"><span>
			  var <a href="#name-EmptyBuilder">EmptyBuilder</a></span></span>

</span></div></div>
<div id="exported-functions"><span class="title">Package-Level Functions<span class="title-stat"><i> (total 17, in which 10 are exported)</i></span></span>

<div class="anchor value-res" id="name-Append">	<input type='checkbox' class="fold" id="Append-fold-content"><label for="Append-fold-content"> <a href="../../../use/github.com/lann/builder..Append.html">func</a> <a href="../../../src/github.com/lann/builder/builder.go.html#line-56">Append</a>(builder interface{}, name <a href="../../builtin.html#name-string">string</a>, vs ...interface{}) interface{}</label><span id='Append-fold-content-docs' class="fold-docs">
		Append returns a copy of the given builder with new value(s) appended to the
		named list. If the value was previously unset or set with Set (even to a e.g.
		slice values), the new value(s) will be appended to an empty list.

</span></div><div class="anchor value-res" id="name-Delete">	<input type='checkbox' class="fold" id="Delete-fold-content"><label for="Delete-fold-content"> <a href="../../../use/github.com/lann/builder..Delete.html">func</a> <a href="../../../src/github.com/lann/builder/builder.go.html#line-48">Delete</a>(builder interface{}, name <a href="../../builtin.html#name-string">string</a>) interface{}</label><span id='Delete-fold-content-docs' class="fold-docs">
		Delete returns a copy of the given builder with the given named value unset.

</span></div><div class="anchor value-res" id="name-Extend">	<input type='checkbox' class="fold" id="Extend-fold-content"><label for="Extend-fold-content"> <a href="../../../use/github.com/lann/builder..Extend.html">func</a> <a href="../../../src/github.com/lann/builder/builder.go.html#line-67">Extend</a>(builder interface{}, name <a href="../../builtin.html#name-string">string</a>, vs interface{}) interface{}</label><span id='Extend-fold-content-docs' class="fold-docs">
		Extend behaves like Append, except it takes a single slice or array value
		which will be concatenated to the named list.

		Unlike a variadic call to Append - which requires a []interface{} value -
		Extend accepts slices or arrays of any type.

		Extend will panic if the given value is not a slice, array, or nil.

</span></div><div class="anchor value-res" id="name-Get">	<input type='checkbox' class="fold" id="Get-fold-content"><label for="Get-fold-content"> <a href="../../../use/github.com/lann/builder..Get.html">func</a> <a href="../../../src/github.com/lann/builder/builder.go.html#line-113">Get</a>(builder interface{}, name <a href="../../builtin.html#name-string">string</a>) (interface{}, <a href="../../builtin.html#name-bool">bool</a>)</label><span id='Get-fold-content-docs' class="fold-docs">
		Get retrieves a single named value from the given builder.
		If the value has not been set, it returns (nil, false). Otherwise, it will
		return (value, true).

		If the named value was last set with Append or Extend, the returned value
		will be a slice. If the given Builder has been registered with Register or
		RegisterType and the given name is an exported field of the registered
		struct, the returned slice will have the same type as that field. Otherwise
		the slice will have type []interface{}. It will panic if the given name is a
		registered struct's exported field and the value set on the Builder is not
		assignable to the field.

</span></div><div class="anchor value-res" id="name-GetMap">	<input type='checkbox' class="fold" id="GetMap-fold-content"><label for="GetMap-fold-content"> <a href="../../../use/github.com/lann/builder..GetMap.html">func</a> <a href="../../../src/github.com/lann/builder/builder.go.html#line-143">GetMap</a>(builder interface{}) map[<a href="../../builtin.html#name-string">string</a>]interface{}</label><span id='GetMap-fold-content-docs' class="fold-docs">
		GetMap returns a map[string]interface{} of the values set in the given
		builder.

		See notes on Get regarding returned slices.

</span></div><div class="anchor value-res" id="name-GetStruct">	<input type='checkbox' class="fold" id="GetStruct-fold-content"><label for="GetStruct-fold-content"> <a href="../../../use/github.com/lann/builder..GetStruct.html">func</a> <a href="../../../src/github.com/lann/builder/builder.go.html#line-180">GetStruct</a>(builder interface{}) interface{}</label><span id='GetStruct-fold-content-docs' class="fold-docs">
		GetStruct builds a new struct from the given registered builder.
		It will return nil if the given builder's type has not been registered with
		Register or RegisterValue.

		All values set on the builder with names that start with an uppercase letter
		(i.e. which would be exported if they were identifiers) are assigned to the
		corresponding exported fields of the struct.

		GetStruct will panic if any of these "exported" values are not assignable to
		their corresponding struct fields.

</span></div><div class="anchor value-res" id="name-GetStructLike">	<input type='checkbox' class="fold" id="GetStructLike-fold-content"><label for="GetStructLike-fold-content"> <a href="../../../use/github.com/lann/builder..GetStructLike.html">func</a> <a href="../../../src/github.com/lann/builder/builder.go.html#line-197">GetStructLike</a>(builder interface{}, strct interface{}) interface{}</label><span id='GetStructLike-fold-content-docs' class="fold-docs">
		GetStructLike builds a new struct from the given builder with the same type
		as the given struct.

		All values set on the builder with names that start with an uppercase letter
		(i.e. which would be exported if they were identifiers) are assigned to the
		corresponding exported fields of the struct.

		ScanStruct will panic if any of these "exported" values are not assignable to
		their corresponding struct fields.

</span></div><div class="anchor value-res" id="name-Register">	<input type='checkbox' class="fold" id="Register-fold-content"><label for="Register-fold-content"> <a href="../../../use/github.com/lann/builder..Register.html">func</a> <a href="../../../src/github.com/lann/builder/registry.go.html#line-34">Register</a>(builderProto, structProto interface{}) interface{}</label><span id='Register-fold-content-docs' class="fold-docs">
		Register wraps RegisterType, taking instances instead of Types.

		Returns an empty instance of the registered builder type which can be used
		as the initial value for builder expressions. See example.

</span></div><div class="anchor value-res" id="name-RegisterType">	<input type='checkbox' class="fold" id="RegisterType-fold-content"><label for="RegisterType-fold-content"> <a href="../../../use/github.com/lann/builder..RegisterType.html">func</a> <a href="../../../src/github.com/lann/builder/registry.go.html#line-21">RegisterType</a>(builderType <a href="../../reflect.html">reflect</a>.<a href="../../reflect.html#name-Type">Type</a>, structType <a href="../../reflect.html">reflect</a>.<a href="../../reflect.html#name-Type">Type</a>) *<a href="../../reflect.html">reflect</a>.<a href="../../reflect.html#name-Value">Value</a></label><span id='RegisterType-fold-content-docs' class="fold-docs">
		RegisterType maps the given builderType to a structType.
		This mapping affects the type of slices returned by Get and is required for
		GetStruct to work.

		Returns a Value containing an empty instance of the registered builderType.

		RegisterType will panic if builderType's underlying type is not Builder or
		if structType's Kind is not Struct.

</span></div><div class="anchor value-res" id="name-Set">	<input type='checkbox' class="fold" id="Set-fold-content"><label for="Set-fold-content"> <a href="../../../use/github.com/lann/builder..Set.html">func</a> <a href="../../../src/github.com/lann/builder/builder.go.html#line-42">Set</a>(builder interface{}, name <a href="../../builtin.html#name-string">string</a>, v interface{}) interface{}</label><span id='Set-fold-content-docs' class="fold-docs">
		Set returns a copy of the given builder with a new value set for the given
		name.

		Set (and all other functions taking a builder in this package) will panic if
		the given builder's underlying type is not Builder.

</span></div>	<input type='checkbox' class="showhide" id="unexported-functions-showhide"><i><label for="unexported-functions-showhide" class="show-inline">/* 7 unexporteds ... */</label><label for="unexported-functions-showhide" class="hide-inline">/* 7 unexporteds: */</label></i><div class="anchor value-res hidden" id="name-convert"><i>	<span class="nodocs"> <a href="../../../use/github.com/lann/builder..convert*c4757.html">func</a> <a href="../../../src/github.com/lann/builder/reflect.go.html#line-5">convert</a>(from interface{}, to interface{}) interface{}</span></i></div><div class="anchor value-res hidden" id="name-forEach"><i>	<span class="nodocs"> <a href="../../../use/github.com/lann/builder..forEach*0842a.html">func</a> <a href="../../../src/github.com/lann/builder/reflect.go.html#line-12">forEach</a>(s interface{}, f func(interface{}))</span></i></div><div class="anchor value-res hidden" id="name-getBuilderMap"><i>	<span class="nodocs"> <a href="../../../use/github.com/lann/builder..getBuilderMap*cb039.html">func</a> <a href="../../../src/github.com/lann/builder/builder.go.html#line-27">getBuilderMap</a>(builder interface{}) <a href="ps.html">ps</a>.<a href="ps.html#name-Map">Map</a></span></i></div><div class="anchor value-res hidden" id="name-getBuilderStructType"><i>	<span class="nodocs"> <a href="../../../use/github.com/lann/builder..getBuilderStructType*42379.html">func</a> <a href="../../../src/github.com/lann/builder/registry.go.html#line-42">getBuilderStructType</a>(builderType <a href="../../reflect.html">reflect</a>.<a href="../../reflect.html#name-Type">Type</a>) *<a href="../../reflect.html">reflect</a>.<a href="../../reflect.html#name-Type">Type</a></span></i></div><div class="anchor value-res hidden" id="name-listToSlice"><i>	<span class="nodocs"> <a href="../../../use/github.com/lann/builder..listToSlice*04591.html">func</a> <a href="../../../src/github.com/lann/builder/builder.go.html#line-89">listToSlice</a>(list <a href="ps.html">ps</a>.<a href="ps.html#name-List">List</a>, arrayType <a href="../../reflect.html">reflect</a>.<a href="../../reflect.html#name-Type">Type</a>) <a href="../../reflect.html">reflect</a>.<a href="../../reflect.html#name-Value">Value</a></span></i></div><div class="anchor value-res hidden" id="name-newBuilderStruct"><i>	<span class="nodocs"> <a href="../../../use/github.com/lann/builder..newBuilderStruct*4826c.html">func</a> <a href="../../../src/github.com/lann/builder/registry.go.html#line-52">newBuilderStruct</a>(builderType <a href="../../reflect.html">reflect</a>.<a href="../../reflect.html#name-Type">Type</a>) *<a href="../../reflect.html">reflect</a>.<a href="../../reflect.html#name-Value">Value</a></span></i></div><div class="anchor value-res hidden" id="name-scanStruct"><i>	<span class="nodocs"> <a href="../../../use/github.com/lann/builder..scanStruct*3edf7.html">func</a> <a href="../../../src/github.com/lann/builder/builder.go.html#line-202">scanStruct</a>(builder interface{}, structVal *<a href="../../reflect.html">reflect</a>.<a href="../../reflect.html#name-Value">Value</a>) interface{}</span></i></div></div>
<div id="exported-variables"><span class="title">Package-Level Variables<span class="title-stat"><i> (total 5, in which 1 are exported)</i></span></span>

<div class="anchor value-res" id="name-EmptyBuilder">	<span class="nodocs">  <a href="../../../use/github.com/lann/builder..EmptyBuilder.html">var</a> <a href="../../../src/github.com/lann/builder/builder.go.html#line-23">EmptyBuilder</a> <a href="#name-Builder">Builder</a></span></div>	<input type='checkbox' class="showhide" id="unexported-variables-showhide"><i><label for="unexported-variables-showhide" class="show-inline">/* 4 unexporteds ... */</label><label for="unexported-variables-showhide" class="hide-inline">/* 4 unexporteds: */</label></i><div class="anchor value-res hidden" id="name-anyArrayType"><i>	<span class="nodocs">  <a href="../../../use/github.com/lann/builder..anyArrayType*62855.html">var</a> <a href="../../../src/github.com/lann/builder/builder.go.html#line-100">anyArrayType</a> <a href="../../reflect.html">reflect</a>.<a href="../../reflect.html#name-Type">Type</a></span></i></div><div class="anchor value-res hidden" id="name-emptyBuilderValue"><i>	<span class="nodocs">  <a href="../../../use/github.com/lann/builder..emptyBuilderValue*e9be0.html">var</a> <a href="../../../src/github.com/lann/builder/builder.go.html#line-24">emptyBuilderValue</a> <a href="../../reflect.html">reflect</a>.<a href="../../reflect.html#name-Value">Value</a></span></i></div><div class="anchor value-res hidden" id="name-registry"><i>	<span class="nodocs">  <a href="../../../use/github.com/lann/builder..registry*87249.html">var</a> <a href="../../../src/github.com/lann/builder/registry.go.html#line-9">registry</a> map[<a href="../../reflect.html">reflect</a>.<a href="../../reflect.html#name-Type">Type</a>]<a href="../../reflect.html">reflect</a>.<a href="../../reflect.html#name-Type">Type</a></span></i></div><div class="anchor value-res hidden" id="name-registryMux"><i>	<span class="nodocs">  <a href="../../../use/github.com/lann/builder..registryMux*8c721.html">var</a> <a href="../../../src/github.com/lann/builder/registry.go.html#line-10">registryMux</a> <a href="../../sync.html">sync</a>.<a href="../../sync.html#name-RWMutex">RWMutex</a></span></i></div></div></code></pre><pre id="footer">
<table><tr><td><img src="../../../png/go101-twitter.png"></td>
<td>The pages are generated with <a href="https://go101.org/article/tool-golds.html"><b>Golds</b></a> <i>v0.3.2-preview</i>. (GOOS=darwin GOARCH=amd64)
<b>Golds</b> is a <a href="https://go101.org">Go 101</a> project developed by <a href="https://tapirgames.com">Tapir Liu</a>.
PR and bug reports are welcome and can be submitted to <a href="https://github.com/go101/golds">the issue list</a>.
Please follow <a href="https://twitter.com/go100and1">@Go100and1</a> (reachable from the left QR code) to get the latest news of <b>Golds</b>.</td></tr></table></pre>