<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Source: storage.go in package cloud.google.com/go/storage</title>
<link href="../../../../css/lightLiterate-v0.3.2-preview.css" rel="stylesheet">
<script src="../../../../jvs/golds-v0.3.2-preview.js"></script>
<body onload="onPageLoad()"><div>

<pre id="header"><code><span class="title">Source File</span>
	storage.go

<span class="title">Belonging Package</span>
	<a href="../../../../pkg/cloud.google.com/go/storage.html">cloud.google.com/go/storage</a>
</code></pre>
<style>input[type=radio] {display: none;}
input[id=r0]:checked ~pre label[for=r0],
input[id=r1]:checked ~pre label[for=r1],
input[id=r2]:checked ~pre label[for=r2],
input[id=r3]:checked ~pre label[for=r3],
input[id=r4]:checked ~pre label[for=r4],
input[id=r5]:checked ~pre label[for=r5],
input[id=r6]:checked ~pre label[for=r6],
input[id=r7]:checked ~pre label[for=r7],
input[id=r8]:checked ~pre label[for=r8],
input[id=r9]:checked ~pre label[for=r9],
input[id=r10]:checked ~pre label[for=r10],
input[id=r11]:checked ~pre label[for=r11],
input[id=r12]:checked ~pre label[for=r12],
input[id=r13]:checked ~pre label[for=r13],
input[id=r14]:checked ~pre label[for=r14],
input[id=r15]:checked ~pre label[for=r15],
input[id=r16]:checked ~pre label[for=r16],
input[id=r17]:checked ~pre label[for=r17],
input[id=r18]:checked ~pre label[for=r18],
input[id=r19]:checked ~pre label[for=r19],
input[id=r20]:checked ~pre label[for=r20],
input[id=r21]:checked ~pre label[for=r21],
input[id=r22]:checked ~pre label[for=r22],
input[id=r23]:checked ~pre label[for=r23],
input[id=r24]:checked ~pre label[for=r24],
input[id=r25]:checked ~pre label[for=r25],
input[id=r26]:checked ~pre label[for=r26],
input[id=r27]:checked ~pre label[for=r27],
input[id=r28]:checked ~pre label[for=r28],
input[id=r29]:checked ~pre label[for=r29],
input[id=r30]:checked ~pre label[for=r30],
input[id=r31]:checked ~pre label[for=r31],
input[id=r32]:checked ~pre label[for=r32],
input[id=r33]:checked ~pre label[for=r33],
input[id=r34]:checked ~pre label[for=r34],
input[id=r35]:checked ~pre label[for=r35],
input[id=r36]:checked ~pre label[for=r36],
input[id=r37]:checked ~pre label[for=r37],
input[id=r38]:checked ~pre label[for=r38],
input[id=r39]:checked ~pre label[for=r39],
input[id=r40]:checked ~pre label[for=r40],
input[id=r41]:checked ~pre label[for=r41],
input[id=r42]:checked ~pre label[for=r42],
input[id=r43]:checked ~pre label[for=r43],
input[id=r44]:checked ~pre label[for=r44],
input[id=r45]:checked ~pre label[for=r45],
input[id=r46]:checked ~pre label[for=r46],
input[id=r47]:checked ~pre label[for=r47],
input[id=r48]:checked ~pre label[for=r48],
input[id=r49]:checked ~pre label[for=r49],
input[id=r50]:checked ~pre label[for=r50],
input[id=r51]:checked ~pre label[for=r51],
input[id=r52]:checked ~pre label[for=r52],
input[id=r53]:checked ~pre label[for=r53],
input[id=r54]:checked ~pre label[for=r54],
input[id=r55]:checked ~pre label[for=r55],
input[id=r56]:checked ~pre label[for=r56],
input[id=r57]:checked ~pre label[for=r57],
input[id=r58]:checked ~pre label[for=r58],
input[id=r59]:checked ~pre label[for=r59],
input[id=r60]:checked ~pre label[for=r60],
input[id=r61]:checked ~pre label[for=r61],
input[id=r62]:checked ~pre label[for=r62],
input[id=r63]:checked ~pre label[for=r63],
input[id=r64]:checked ~pre label[for=r64],
input[id=r65]:checked ~pre label[for=r65],
input[id=r66]:checked ~pre label[for=r66],
input[id=r67]:checked ~pre label[for=r67],
input[id=r68]:checked ~pre label[for=r68],
input[id=r69]:checked ~pre label[for=r69],
input[id=r70]:checked ~pre label[for=r70],
input[id=r71]:checked ~pre label[for=r71],
input[id=r72]:checked ~pre label[for=r72],
input[id=r73]:checked ~pre label[for=r73],
input[id=r74]:checked ~pre label[for=r74],
input[id=r75]:checked ~pre label[for=r75],
input[id=r76]:checked ~pre label[for=r76],
input[id=r77]:checked ~pre label[for=r77],
input[id=r78]:checked ~pre label[for=r78],
input[id=r79]:checked ~pre label[for=r79],
input[id=r80]:checked ~pre label[for=r80],
input[id=r81]:checked ~pre label[for=r81],
input[id=r82]:checked ~pre label[for=r82],
input[id=r83]:checked ~pre label[for=r83],
input[id=r84]:checked ~pre label[for=r84],
input[id=r85]:checked ~pre label[for=r85],
input[id=r86]:checked ~pre label[for=r86],
input[id=r87]:checked ~pre label[for=r87],
input[id=r88]:checked ~pre label[for=r88],
input[id=r89]:checked ~pre label[for=r89],
input[id=r90]:checked ~pre label[for=r90],
input[id=r91]:checked ~pre label[for=r91],
input[id=r92]:checked ~pre label[for=r92],
input[id=r93]:checked ~pre label[for=r93],
input[id=r94]:checked ~pre label[for=r94],
input[id=r95]:checked ~pre label[for=r95],
input[id=r96]:checked ~pre label[for=r96],
input[id=r97]:checked ~pre label[for=r97],
input[id=r98]:checked ~pre label[for=r98],
input[id=r99]:checked ~pre label[for=r99],
input[id=r100]:checked ~pre label[for=r100],
input[id=r101]:checked ~pre label[for=r101],
input[id=r102]:checked ~pre label[for=r102],
input[id=r103]:checked ~pre label[for=r103],
input[id=r104]:checked ~pre label[for=r104],
input[id=r105]:checked ~pre label[for=r105],
input[id=r106]:checked ~pre label[for=r106],
input[id=r107]:checked ~pre label[for=r107],
input[id=r108]:checked ~pre label[for=r108],
input[id=r109]:checked ~pre label[for=r109],
input[id=r110]:checked ~pre label[for=r110],
input[id=r111]:checked ~pre label[for=r111],
input[id=r112]:checked ~pre label[for=r112],
input[id=r113]:checked ~pre label[for=r113],
input[id=r114]:checked ~pre label[for=r114],
input[id=r115]:checked ~pre label[for=r115],
input[id=r116]:checked ~pre label[for=r116],
input[id=r117]:checked ~pre label[for=r117],
input[id=r118]:checked ~pre label[for=r118],
input[id=r119]:checked ~pre label[for=r119],
input[id=r120]:checked ~pre label[for=r120],
input[id=r121]:checked ~pre label[for=r121],
input[id=r122]:checked ~pre label[for=r122],
input[id=r123]:checked ~pre label[for=r123],
input[id=r124]:checked ~pre label[for=r124],
input[id=r125]:checked ~pre label[for=r125],
input[id=r126]:checked ~pre label[for=r126],
input[id=r127]:checked ~pre label[for=r127],
input[id=r128]:checked ~pre label[for=r128],
input[id=r129]:checked ~pre label[for=r129],
input[id=r130]:checked ~pre label[for=r130],
input[id=r131]:checked ~pre label[for=r131],
input[id=r132]:checked ~pre label[for=r132],
input[id=r133]:checked ~pre label[for=r133],
input[id=r134]:checked ~pre label[for=r134],
input[id=r135]:checked ~pre label[for=r135],
input[id=r136]:checked ~pre label[for=r136],
input[id=r137]:checked ~pre label[for=r137],
input[id=r138]:checked ~pre label[for=r138],
input[id=r139]:checked ~pre label[for=r139],
input[id=r140]:checked ~pre label[for=r140],
input[id=r141]:checked ~pre label[for=r141],
input[id=r142]:checked ~pre label[for=r142],
input[id=r143]:checked ~pre label[for=r143],
input[id=r144]:checked ~pre label[for=r144],
input[id=r145]:checked ~pre label[for=r145],
input[id=r146]:checked ~pre label[for=r146],
input[id=r147]:checked ~pre label[for=r147],
input[id=r148]:checked ~pre label[for=r148],
input[id=r149]:checked ~pre label[for=r149],
input[id=r150]:checked ~pre label[for=r150],
input[id=r151]:checked ~pre label[for=r151],
input[id=r152]:checked ~pre label[for=r152],
input[id=r153]:checked ~pre label[for=r153],
input[id=r154]:checked ~pre label[for=r154],
input[id=r155]:checked ~pre label[for=r155],
input[id=r156]:checked ~pre label[for=r156],
input[id=r157]:checked ~pre label[for=r157],
input[id=r158]:checked ~pre label[for=r158],
input[id=r159]:checked ~pre label[for=r159],
input[id=r160]:checked ~pre label[for=r160],
input[id=r161]:checked ~pre label[for=r161],
input[id=r162]:checked ~pre label[for=r162],
input[id=r163]:checked ~pre label[for=r163],
input[id=r164]:checked ~pre label[for=r164],
input[id=r165]:checked ~pre label[for=r165],
input[id=r166]:checked ~pre label[for=r166],
input[id=r167]:checked ~pre label[for=r167],
input[id=r168]:checked ~pre label[for=r168],
input[id=r169]:checked ~pre label[for=r169],
input[id=r170]:checked ~pre label[for=r170],
input[id=r171]:checked ~pre label[for=r171],
input[id=r172]:checked ~pre label[for=r172],
input[id=r173]:checked ~pre label[for=r173],
input[id=r174]:checked ~pre label[for=r174],
input[id=r175]:checked ~pre label[for=r175],
input[id=r176]:checked ~pre label[for=r176],
input[id=r177]:checked ~pre label[for=r177],
input[id=r178]:checked ~pre label[for=r178],
input[id=r179]:checked ~pre label[for=r179],
input[id=r180]:checked ~pre label[for=r180],
input[id=r181]:checked ~pre label[for=r181],
input[id=r182]:checked ~pre label[for=r182],
input[id=r183]:checked ~pre label[for=r183],
input[id=r184]:checked ~pre label[for=r184],
input[id=r185]:checked ~pre label[for=r185],
input[id=r186]:checked ~pre label[for=r186],
input[id=r187]:checked ~pre label[for=r187],
input[id=r188]:checked ~pre label[for=r188],
input[id=r189]:checked ~pre label[for=r189],
input[id=r190]:checked ~pre label[for=r190],
input[id=r191]:checked ~pre label[for=r191],
input[id=r192]:checked ~pre label[for=r192],
input[id=r193]:checked ~pre label[for=r193],
input[id=r194]:checked ~pre label[for=r194],
input[id=r195]:checked ~pre label[for=r195],
input[id=r196]:checked ~pre label[for=r196],
input[id=r197]:checked ~pre label[for=r197],
input[id=r198]:checked ~pre label[for=r198],
input[id=r199]:checked ~pre label[for=r199],
input[id=r200]:checked ~pre label[for=r200],
input[id=r201]:checked ~pre label[for=r201],
input[id=r202]:checked ~pre label[for=r202],
input[id=r203]:checked ~pre label[for=r203],
input[id=r204]:checked ~pre label[for=r204],
input[id=r205]:checked ~pre label[for=r205],
input[id=r206]:checked ~pre label[for=r206],
input[id=r207]:checked ~pre label[for=r207],
input[id=r208]:checked ~pre label[for=r208],
input[id=r209]:checked ~pre label[for=r209],
input[id=r210]:checked ~pre label[for=r210],
input[id=r211]:checked ~pre label[for=r211],
input[id=r212]:checked ~pre label[for=r212],
input[id=r213]:checked ~pre label[for=r213],
input[id=r214]:checked ~pre label[for=r214],
input[id=r215]:checked ~pre label[for=r215],
input[id=r216]:checked ~pre label[for=r216],
input[id=r217]:checked ~pre label[for=r217],
input[id=r218]:checked ~pre label[for=r218],
input[id=r219]:checked ~pre label[for=r219],
input[id=r220]:checked ~pre label[for=r220],
input[id=r221]:checked ~pre label[for=r221],
input[id=r222]:checked ~pre label[for=r222],
input[id=r223]:checked ~pre label[for=r223],
input[id=r224]:checked ~pre label[for=r224],
input[id=r225]:checked ~pre label[for=r225],
input[id=r226]:checked ~pre label[for=r226],
input[id=r227]:checked ~pre label[for=r227],
input[id=r228]:checked ~pre label[for=r228],
input[id=r229]:checked ~pre label[for=r229],
input[id=r230]:checked ~pre label[for=r230],
input[id=r231]:checked ~pre label[for=r231],
input[id=r232]:checked ~pre label[for=r232],
input[id=r233]:checked ~pre label[for=r233],
input[id=r234]:checked ~pre label[for=r234],
input[id=r235]:checked ~pre label[for=r235],
input[id=r236]:checked ~pre label[for=r236],
input[id=r237]:checked ~pre label[for=r237],
input[id=r238]:checked ~pre label[for=r238],
input[id=r239]:checked ~pre label[for=r239],
input[id=r240]:checked ~pre label[for=r240],
input[id=r241]:checked ~pre label[for=r241],
input[id=r242]:checked ~pre label[for=r242],
input[id=r243]:checked ~pre label[for=r243],
input[id=r244]:checked ~pre label[for=r244],
input[id=r245]:checked ~pre label[for=r245],
input[id=r246]:checked ~pre label[for=r246],
input[id=r247]:checked ~pre label[for=r247],
input[id=r248]:checked ~pre label[for=r248],
input[id=r249]:checked ~pre label[for=r249],
input[id=r250]:checked ~pre label[for=r250],
input[id=r251]:checked ~pre label[for=r251],
input[id=r252]:checked ~pre label[for=r252],
input[id=r253]:checked ~pre label[for=r253],
input[id=r254]:checked ~pre label[for=r254],
input[id=r255]:checked ~pre label[for=r255],
input[id=r256]:checked ~pre label[for=r256],
input[id=r257]:checked ~pre label[for=r257],
input[id=r258]:checked ~pre label[for=r258],
input[id=r259]:checked ~pre label[for=r259],
input[id=r260]:checked ~pre label[for=r260],
input[id=r261]:checked ~pre label[for=r261],
input[id=r262]:checked ~pre label[for=r262],
input[id=r263]:checked ~pre label[for=r263],
input[id=r264]:checked ~pre label[for=r264],
input[id=r265]:checked ~pre label[for=r265],
input[id=r266]:checked ~pre label[for=r266],
input[id=r267]:checked ~pre label[for=r267],
input[id=r268]:checked ~pre label[for=r268],
input[id=r269]:checked ~pre label[for=r269],
input[id=r270]:checked ~pre label[for=r270],
input[id=r271]:checked ~pre label[for=r271],
input[id=r272]:checked ~pre label[for=r272],
input[id=r273]:checked ~pre label[for=r273],
input[id=r274]:checked ~pre label[for=r274],
input[id=r275]:checked ~pre label[for=r275],
input[id=r276]:checked ~pre label[for=r276],
input[id=r277]:checked ~pre label[for=r277],
input[id=r278]:checked ~pre label[for=r278],
input[id=r279]:checked ~pre label[for=r279],
input[id=r280]:checked ~pre label[for=r280],
input[id=r281]:checked ~pre label[for=r281],
input[id=r282]:checked ~pre label[for=r282],
input[id=r283]:checked ~pre label[for=r283],
input[id=r284]:checked ~pre label[for=r284],
input[id=r285]:checked ~pre label[for=r285],
input[id=r286]:checked ~pre label[for=r286],
input[id=r287]:checked ~pre label[for=r287],
input[id=r288]:checked ~pre label[for=r288],
input[id=r289]:checked ~pre label[for=r289],
input[id=r290]:checked ~pre label[for=r290],
input[id=r291]:checked ~pre label[for=r291],
input[id=r292]:checked ~pre label[for=r292],
input[id=r293]:checked ~pre label[for=r293],
input[id=r294]:checked ~pre label[for=r294],
input[id=r295]:checked ~pre label[for=r295],
input[id=r296]:checked ~pre label[for=r296],
input[id=r297]:checked ~pre label[for=r297],
input[id=r298]:checked ~pre label[for=r298],
input[id=r299]:checked ~pre label[for=r299],
input[id=r300]:checked ~pre label[for=r300],
input[id=r301]:checked ~pre label[for=r301],
input[id=r302]:checked ~pre label[for=r302],
input[id=r303]:checked ~pre label[for=r303],
input[id=r304]:checked ~pre label[for=r304],
input[id=r305]:checked ~pre label[for=r305],
input[id=r306]:checked ~pre label[for=r306],
input[id=r307]:checked ~pre label[for=r307],
input[id=r308]:checked ~pre label[for=r308],
input[id=r309]:checked ~pre label[for=r309],
input[id=r310]:checked ~pre label[for=r310],
input[id=r311]:checked ~pre label[for=r311]
{background: #226; color: #ff8;}
input[id=i0]:checked ~pre .i0,
input[id=i1]:checked ~pre .i1,
input[id=i2]:checked ~pre .i2,
input[id=i3]:checked ~pre .i3,
input[id=i4]:checked ~pre .i4,
input[id=i5]:checked ~pre .i5,
input[id=i6]:checked ~pre .i6,
input[id=i7]:checked ~pre .i7,
input[id=i8]:checked ~pre .i8,
input[id=i9]:checked ~pre .i9,
input[id=i10]:checked ~pre .i10,
input[id=i11]:checked ~pre .i11,
input[id=i12]:checked ~pre .i12,
input[id=i13]:checked ~pre .i13,
input[id=i14]:checked ~pre .i14,
input[id=i15]:checked ~pre .i15,
input[id=i16]:checked ~pre .i16,
input[id=i17]:checked ~pre .i17,
input[id=i18]:checked ~pre .i18,
input[id=i19]:checked ~pre .i19,
input[id=i20]:checked ~pre .i20,
input[id=i21]:checked ~pre .i21,
input[id=i22]:checked ~pre .i22,
input[id=i23]:checked ~pre .i23,
input[id=i24]:checked ~pre .i24,
input[id=i25]:checked ~pre .i25,
input[id=i26]:checked ~pre .i26,
input[id=i27]:checked ~pre .i27,
input[id=i28]:checked ~pre .i28
{background: brown; color: #eed;}
</style><input id="r0" type="radio" name="g"/>
<input id="r1" type="radio" name="g"/>
<input id="r2" type="radio" name="g"/>
<input id="r3" type="radio" name="g"/>
<input id="r4" type="radio" name="g"/>
<input id="r5" type="radio" name="g"/>
<input id="r6" type="radio" name="g"/>
<input id="r7" type="radio" name="g"/>
<input id="r8" type="radio" name="g"/>
<input id="r9" type="radio" name="g"/>
<input id="r10" type="radio" name="g"/>
<input id="r11" type="radio" name="g"/>
<input id="r12" type="radio" name="g"/>
<input id="r13" type="radio" name="g"/>
<input id="r14" type="radio" name="g"/>
<input id="r15" type="radio" name="g"/>
<input id="r16" type="radio" name="g"/>
<input id="r17" type="radio" name="g"/>
<input id="r18" type="radio" name="g"/>
<input id="r19" type="radio" name="g"/>
<input id="r20" type="radio" name="g"/>
<input id="r21" type="radio" name="g"/>
<input id="r22" type="radio" name="g"/>
<input id="r23" type="radio" name="g"/>
<input id="r24" type="radio" name="g"/>
<input id="r25" type="radio" name="g"/>
<input id="r26" type="radio" name="g"/>
<input id="r27" type="radio" name="g"/>
<input id="r28" type="radio" name="g"/>
<input id="r29" type="radio" name="g"/>
<input id="r30" type="radio" name="g"/>
<input id="r31" type="radio" name="g"/>
<input id="r32" type="radio" name="g"/>
<input id="r33" type="radio" name="g"/>
<input id="r34" type="radio" name="g"/>
<input id="r35" type="radio" name="g"/>
<input id="r36" type="radio" name="g"/>
<input id="r37" type="radio" name="g"/>
<input id="r38" type="radio" name="g"/>
<input id="r39" type="radio" name="g"/>
<input id="r40" type="radio" name="g"/>
<input id="r41" type="radio" name="g"/>
<input id="r42" type="radio" name="g"/>
<input id="r43" type="radio" name="g"/>
<input id="r44" type="radio" name="g"/>
<input id="r45" type="radio" name="g"/>
<input id="r46" type="radio" name="g"/>
<input id="r47" type="radio" name="g"/>
<input id="r48" type="radio" name="g"/>
<input id="r49" type="radio" name="g"/>
<input id="r50" type="radio" name="g"/>
<input id="r51" type="radio" name="g"/>
<input id="r52" type="radio" name="g"/>
<input id="r53" type="radio" name="g"/>
<input id="r54" type="radio" name="g"/>
<input id="r55" type="radio" name="g"/>
<input id="r56" type="radio" name="g"/>
<input id="r57" type="radio" name="g"/>
<input id="r58" type="radio" name="g"/>
<input id="r59" type="radio" name="g"/>
<input id="r60" type="radio" name="g"/>
<input id="r61" type="radio" name="g"/>
<input id="r62" type="radio" name="g"/>
<input id="r63" type="radio" name="g"/>
<input id="r64" type="radio" name="g"/>
<input id="r65" type="radio" name="g"/>
<input id="r66" type="radio" name="g"/>
<input id="r67" type="radio" name="g"/>
<input id="r68" type="radio" name="g"/>
<input id="r69" type="radio" name="g"/>
<input id="r70" type="radio" name="g"/>
<input id="r71" type="radio" name="g"/>
<input id="r72" type="radio" name="g"/>
<input id="r73" type="radio" name="g"/>
<input id="r74" type="radio" name="g"/>
<input id="r75" type="radio" name="g"/>
<input id="r76" type="radio" name="g"/>
<input id="r77" type="radio" name="g"/>
<input id="r78" type="radio" name="g"/>
<input id="r79" type="radio" name="g"/>
<input id="r80" type="radio" name="g"/>
<input id="r81" type="radio" name="g"/>
<input id="r82" type="radio" name="g"/>
<input id="r83" type="radio" name="g"/>
<input id="r84" type="radio" name="g"/>
<input id="r85" type="radio" name="g"/>
<input id="r86" type="radio" name="g"/>
<input id="r87" type="radio" name="g"/>
<input id="r88" type="radio" name="g"/>
<input id="r89" type="radio" name="g"/>
<input id="r90" type="radio" name="g"/>
<input id="r91" type="radio" name="g"/>
<input id="r92" type="radio" name="g"/>
<input id="r93" type="radio" name="g"/>
<input id="r94" type="radio" name="g"/>
<input id="r95" type="radio" name="g"/>
<input id="r96" type="radio" name="g"/>
<input id="r97" type="radio" name="g"/>
<input id="r98" type="radio" name="g"/>
<input id="r99" type="radio" name="g"/>
<input id="r100" type="radio" name="g"/>
<input id="r101" type="radio" name="g"/>
<input id="r102" type="radio" name="g"/>
<input id="r103" type="radio" name="g"/>
<input id="r104" type="radio" name="g"/>
<input id="r105" type="radio" name="g"/>
<input id="r106" type="radio" name="g"/>
<input id="r107" type="radio" name="g"/>
<input id="r108" type="radio" name="g"/>
<input id="r109" type="radio" name="g"/>
<input id="r110" type="radio" name="g"/>
<input id="r111" type="radio" name="g"/>
<input id="r112" type="radio" name="g"/>
<input id="r113" type="radio" name="g"/>
<input id="r114" type="radio" name="g"/>
<input id="r115" type="radio" name="g"/>
<input id="r116" type="radio" name="g"/>
<input id="r117" type="radio" name="g"/>
<input id="r118" type="radio" name="g"/>
<input id="r119" type="radio" name="g"/>
<input id="r120" type="radio" name="g"/>
<input id="r121" type="radio" name="g"/>
<input id="r122" type="radio" name="g"/>
<input id="r123" type="radio" name="g"/>
<input id="r124" type="radio" name="g"/>
<input id="r125" type="radio" name="g"/>
<input id="r126" type="radio" name="g"/>
<input id="r127" type="radio" name="g"/>
<input id="r128" type="radio" name="g"/>
<input id="r129" type="radio" name="g"/>
<input id="r130" type="radio" name="g"/>
<input id="r131" type="radio" name="g"/>
<input id="r132" type="radio" name="g"/>
<input id="r133" type="radio" name="g"/>
<input id="r134" type="radio" name="g"/>
<input id="r135" type="radio" name="g"/>
<input id="r136" type="radio" name="g"/>
<input id="r137" type="radio" name="g"/>
<input id="r138" type="radio" name="g"/>
<input id="r139" type="radio" name="g"/>
<input id="r140" type="radio" name="g"/>
<input id="r141" type="radio" name="g"/>
<input id="r142" type="radio" name="g"/>
<input id="r143" type="radio" name="g"/>
<input id="r144" type="radio" name="g"/>
<input id="r145" type="radio" name="g"/>
<input id="r146" type="radio" name="g"/>
<input id="r147" type="radio" name="g"/>
<input id="r148" type="radio" name="g"/>
<input id="r149" type="radio" name="g"/>
<input id="r150" type="radio" name="g"/>
<input id="r151" type="radio" name="g"/>
<input id="r152" type="radio" name="g"/>
<input id="r153" type="radio" name="g"/>
<input id="r154" type="radio" name="g"/>
<input id="r155" type="radio" name="g"/>
<input id="r156" type="radio" name="g"/>
<input id="r157" type="radio" name="g"/>
<input id="r158" type="radio" name="g"/>
<input id="r159" type="radio" name="g"/>
<input id="r160" type="radio" name="g"/>
<input id="r161" type="radio" name="g"/>
<input id="r162" type="radio" name="g"/>
<input id="r163" type="radio" name="g"/>
<input id="r164" type="radio" name="g"/>
<input id="r165" type="radio" name="g"/>
<input id="r166" type="radio" name="g"/>
<input id="r167" type="radio" name="g"/>
<input id="r168" type="radio" name="g"/>
<input id="r169" type="radio" name="g"/>
<input id="r170" type="radio" name="g"/>
<input id="r171" type="radio" name="g"/>
<input id="r172" type="radio" name="g"/>
<input id="r173" type="radio" name="g"/>
<input id="r174" type="radio" name="g"/>
<input id="r175" type="radio" name="g"/>
<input id="r176" type="radio" name="g"/>
<input id="r177" type="radio" name="g"/>
<input id="r178" type="radio" name="g"/>
<input id="r179" type="radio" name="g"/>
<input id="r180" type="radio" name="g"/>
<input id="r181" type="radio" name="g"/>
<input id="r182" type="radio" name="g"/>
<input id="r183" type="radio" name="g"/>
<input id="r184" type="radio" name="g"/>
<input id="r185" type="radio" name="g"/>
<input id="r186" type="radio" name="g"/>
<input id="r187" type="radio" name="g"/>
<input id="r188" type="radio" name="g"/>
<input id="r189" type="radio" name="g"/>
<input id="r190" type="radio" name="g"/>
<input id="r191" type="radio" name="g"/>
<input id="r192" type="radio" name="g"/>
<input id="r193" type="radio" name="g"/>
<input id="r194" type="radio" name="g"/>
<input id="r195" type="radio" name="g"/>
<input id="r196" type="radio" name="g"/>
<input id="r197" type="radio" name="g"/>
<input id="r198" type="radio" name="g"/>
<input id="r199" type="radio" name="g"/>
<input id="r200" type="radio" name="g"/>
<input id="r201" type="radio" name="g"/>
<input id="r202" type="radio" name="g"/>
<input id="r203" type="radio" name="g"/>
<input id="r204" type="radio" name="g"/>
<input id="r205" type="radio" name="g"/>
<input id="r206" type="radio" name="g"/>
<input id="r207" type="radio" name="g"/>
<input id="r208" type="radio" name="g"/>
<input id="r209" type="radio" name="g"/>
<input id="r210" type="radio" name="g"/>
<input id="r211" type="radio" name="g"/>
<input id="r212" type="radio" name="g"/>
<input id="r213" type="radio" name="g"/>
<input id="r214" type="radio" name="g"/>
<input id="r215" type="radio" name="g"/>
<input id="r216" type="radio" name="g"/>
<input id="r217" type="radio" name="g"/>
<input id="r218" type="radio" name="g"/>
<input id="r219" type="radio" name="g"/>
<input id="r220" type="radio" name="g"/>
<input id="r221" type="radio" name="g"/>
<input id="r222" type="radio" name="g"/>
<input id="r223" type="radio" name="g"/>
<input id="r224" type="radio" name="g"/>
<input id="r225" type="radio" name="g"/>
<input id="r226" type="radio" name="g"/>
<input id="r227" type="radio" name="g"/>
<input id="r228" type="radio" name="g"/>
<input id="r229" type="radio" name="g"/>
<input id="r230" type="radio" name="g"/>
<input id="r231" type="radio" name="g"/>
<input id="r232" type="radio" name="g"/>
<input id="r233" type="radio" name="g"/>
<input id="r234" type="radio" name="g"/>
<input id="r235" type="radio" name="g"/>
<input id="r236" type="radio" name="g"/>
<input id="r237" type="radio" name="g"/>
<input id="r238" type="radio" name="g"/>
<input id="r239" type="radio" name="g"/>
<input id="r240" type="radio" name="g"/>
<input id="r241" type="radio" name="g"/>
<input id="r242" type="radio" name="g"/>
<input id="r243" type="radio" name="g"/>
<input id="r244" type="radio" name="g"/>
<input id="r245" type="radio" name="g"/>
<input id="r246" type="radio" name="g"/>
<input id="r247" type="radio" name="g"/>
<input id="r248" type="radio" name="g"/>
<input id="r249" type="radio" name="g"/>
<input id="r250" type="radio" name="g"/>
<input id="r251" type="radio" name="g"/>
<input id="r252" type="radio" name="g"/>
<input id="r253" type="radio" name="g"/>
<input id="r254" type="radio" name="g"/>
<input id="r255" type="radio" name="g"/>
<input id="r256" type="radio" name="g"/>
<input id="r257" type="radio" name="g"/>
<input id="r258" type="radio" name="g"/>
<input id="r259" type="radio" name="g"/>
<input id="r260" type="radio" name="g"/>
<input id="r261" type="radio" name="g"/>
<input id="r262" type="radio" name="g"/>
<input id="r263" type="radio" name="g"/>
<input id="r264" type="radio" name="g"/>
<input id="r265" type="radio" name="g"/>
<input id="r266" type="radio" name="g"/>
<input id="r267" type="radio" name="g"/>
<input id="r268" type="radio" name="g"/>
<input id="r269" type="radio" name="g"/>
<input id="r270" type="radio" name="g"/>
<input id="r271" type="radio" name="g"/>
<input id="r272" type="radio" name="g"/>
<input id="r273" type="radio" name="g"/>
<input id="r274" type="radio" name="g"/>
<input id="r275" type="radio" name="g"/>
<input id="r276" type="radio" name="g"/>
<input id="r277" type="radio" name="g"/>
<input id="r278" type="radio" name="g"/>
<input id="r279" type="radio" name="g"/>
<input id="r280" type="radio" name="g"/>
<input id="r281" type="radio" name="g"/>
<input id="r282" type="radio" name="g"/>
<input id="r283" type="radio" name="g"/>
<input id="r284" type="radio" name="g"/>
<input id="r285" type="radio" name="g"/>
<input id="r286" type="radio" name="g"/>
<input id="r287" type="radio" name="g"/>
<input id="r288" type="radio" name="g"/>
<input id="r289" type="radio" name="g"/>
<input id="r290" type="radio" name="g"/>
<input id="r291" type="radio" name="g"/>
<input id="r292" type="radio" name="g"/>
<input id="r293" type="radio" name="g"/>
<input id="r294" type="radio" name="g"/>
<input id="r295" type="radio" name="g"/>
<input id="r296" type="radio" name="g"/>
<input id="r297" type="radio" name="g"/>
<input id="r298" type="radio" name="g"/>
<input id="r299" type="radio" name="g"/>
<input id="r300" type="radio" name="g"/>
<input id="r301" type="radio" name="g"/>
<input id="r302" type="radio" name="g"/>
<input id="r303" type="radio" name="g"/>
<input id="r304" type="radio" name="g"/>
<input id="r305" type="radio" name="g"/>
<input id="r306" type="radio" name="g"/>
<input id="r307" type="radio" name="g"/>
<input id="r308" type="radio" name="g"/>
<input id="r309" type="radio" name="g"/>
<input id="r310" type="radio" name="g"/>
<input id="r311" type="radio" name="g"/>
<input id="i0" type="radio" name="i"/>
<input id="i1" type="radio" name="i"/>
<input id="i2" type="radio" name="i"/>
<input id="i3" type="radio" name="i"/>
<input id="i4" type="radio" name="i"/>
<input id="i5" type="radio" name="i"/>
<input id="i6" type="radio" name="i"/>
<input id="i7" type="radio" name="i"/>
<input id="i8" type="radio" name="i"/>
<input id="i9" type="radio" name="i"/>
<input id="i10" type="radio" name="i"/>
<input id="i11" type="radio" name="i"/>
<input id="i12" type="radio" name="i"/>
<input id="i13" type="radio" name="i"/>
<input id="i14" type="radio" name="i"/>
<input id="i15" type="radio" name="i"/>
<input id="i16" type="radio" name="i"/>
<input id="i17" type="radio" name="i"/>
<input id="i18" type="radio" name="i"/>
<input id="i19" type="radio" name="i"/>
<input id="i20" type="radio" name="i"/>
<input id="i21" type="radio" name="i"/>
<input id="i22" type="radio" name="i"/>
<input id="i23" type="radio" name="i"/>
<input id="i24" type="radio" name="i"/>
<input id="i25" type="radio" name="i"/>
<input id="i26" type="radio" name="i"/>
<input id="i27" type="radio" name="i"/>
<input id="i28" type="radio" name="i"/>
<div id="container"><div class="section">
<div class="doc">
<span class="comment"> Copyright 2014 Google LLC</span><span class="comment"></span><span class="comment"> Licensed under the Apache License, Version 2.0 (the "License");</span><span class="comment"> you may not use this file except in compliance with the License.</span><span class="comment"> You may obtain a copy of the License at</span><span class="comment"></span><span class="comment">      http://www.apache.org/licenses/LICENSE-2.0</span><span class="comment"></span><span class="comment"> Unless required by applicable law or agreed to in writing, software</span><span class="comment"> distributed under the License is distributed on an "AS IS" BASIS,</span><span class="comment"> WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span><span class="comment"> See the License for the specific language governing permissions and</span><span class="comment"> limitations under the License.</span></div>
<div class="code"><pre><code>
<span class="keyword">package</span> storage

<span class="keyword">import</span> (
	<label for="i0"><span class="lit-string i0">"bytes"</span></label>
	<label for="i1"><span class="lit-string i1">"context"</span></label>
	<label for="i2"><span class="lit-string i2">"crypto"</span></label>
	<label for="i3"><span class="lit-string i3">"crypto/rand"</span></label>
	<label for="i4"><span class="lit-string i4">"crypto/rsa"</span></label>
	<label for="i5"><span class="lit-string i5">"crypto/sha256"</span></label>
	<label for="i6"><span class="lit-string i6">"crypto/x509"</span></label>
	<label for="i7"><span class="lit-string i7">"encoding/base64"</span></label>
	<label for="i8"><span class="lit-string i8">"encoding/hex"</span></label>
	<label for="i9"><span class="lit-string i9">"encoding/pem"</span></label>
	<label for="i10"><span class="lit-string i10">"errors"</span></label>
	<label for="i11"><span class="lit-string i11">"fmt"</span></label>
	<label for="i12"><span class="lit-string i12">"net/http"</span></label>
	<label for="i13"><span class="lit-string i13">"net/url"</span></label>
	<label for="i14"><span class="lit-string i14">"os"</span></label>
	<label for="i15"><span class="lit-string i15">"reflect"</span></label>
	<label for="i16"><span class="lit-string i16">"regexp"</span></label>
	<label for="i17"><span class="lit-string i17">"sort"</span></label>
	<label for="i18"><span class="lit-string i18">"strconv"</span></label>
	<label for="i19"><span class="lit-string i19">"strings"</span></label>
	<label for="i20"><span class="lit-string i20">"time"</span></label>
	<label for="i21"><span class="lit-string i21">"unicode/utf8"</span></label>

	<label for="i22"><span class="lit-string i22">"cloud.google.com/go/internal/optional"</span></label>
	<label for="i23"><span class="lit-string i23">"cloud.google.com/go/internal/trace"</span></label>
	<label for="i24"><span class="lit-string i24">"cloud.google.com/go/internal/version"</span></label>
	<label for="i25"><span class="lit-string i25">"google.golang.org/api/googleapi"</span></label>
	<label for="i26"><span class="lit-string i26">"google.golang.org/api/option"</span></label>
	<a href="../../../../pkg/google.golang.org/api/storage/v1.html" class="ident i27">raw</a> <label for="i27"><span class="lit-string i27">"google.golang.org/api/storage/v1"</span></label>
	<a href="../../../../pkg/google.golang.org/api/transport/http.html" class="ident i28">htransport</a> <label for="i28"><span class="lit-string i28">"google.golang.org/api/transport/http"</span></label>
)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Methods which can be used in signed URLs.</span></div>
<div class="code"><pre><code><span class="keyword">var</span> <a href="../../../../pkg/cloud.google.com/go/storage.html#name-signedURLMethods" class="ident">signedURLMethods</a> = <span class="keyword">map</span>[<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>]<a href="../../../../pkg/builtin.html#name-bool" class="ident">bool</a>{<span class="lit-string">"DELETE"</span>: <a href="../../../../pkg/builtin.html#name-true" class="ident">true</a>, <span class="lit-string">"GET"</span>: <a href="../../../../pkg/builtin.html#name-true" class="ident">true</a>, <span class="lit-string">"HEAD"</span>: <a href="../../../../pkg/builtin.html#name-true" class="ident">true</a>, <span class="lit-string">"POST"</span>: <a href="../../../../pkg/builtin.html#name-true" class="ident">true</a>, <span class="lit-string">"PUT"</span>: <a href="../../../../pkg/builtin.html#name-true" class="ident">true</a>}

</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> ErrBucketNotExist indicates that the bucket does not exist.</span></div>
<div class="code"><pre><code></code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> ErrObjectNotExist indicates that the object does not exist.</span></div>
<div class="code"><pre><code></code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> errMethodNotValid indicates that given HTTP method is not valid.</span></div>
<div class="code"><pre><code>	<a href="../../../../pkg/cloud.google.com/go/storage.html#name-errMethodNotValid" class="ident">errMethodNotValid</a> = <a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/errors.go.html#line-17" class="ident">Errorf</a>(<span class="lit-string">"storage: HTTP method should be one of %v"</span>, <a href="../../../../pkg/reflect.html" class="ident i15">reflect</a>.<a href="../../../reflect/value.go.html#line-2351" class="ident">ValueOf</a>(<a href="#line-51" class="ident">signedURLMethods</a>).<a href="../../../reflect/value.go.html#line-1203" class="ident">MapKeys</a>())
)

<span class="keyword">var</span> <a href="../../../../pkg/cloud.google.com/go/storage.html#name-userAgent" class="ident">userAgent</a> = <a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-217" class="ident">Sprintf</a>(<span class="lit-string">"gcloud-golang-storage/%s"</span>, <a href="../../../../pkg/cloud.google.com/go/internal/version.html" class="ident i24">version</a>.<a href="../internal/version/version.go.html#line-29" class="ident">Repo</a>)

</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> ScopeFullControl grants permissions to manage your</span><span class="comment">	 data and permissions in Google Cloud Storage.</span></div>
<div class="code"><pre><code>	<a href="../../../../pkg/cloud.google.com/go/storage.html#name-ScopeFullControl" class="ident">ScopeFullControl</a> = <a href="../../../../pkg/google.golang.org/api/storage/v1.html" class="ident i27">raw</a>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-94" class="ident">DevstorageFullControlScope</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> ScopeReadOnly grants permissions to</span><span class="comment">	 view your data in Google Cloud Storage.</span></div>
<div class="code"><pre><code>	<a href="../../../../pkg/cloud.google.com/go/storage.html#name-ScopeReadOnly" class="ident">ScopeReadOnly</a> = <a href="../../../../pkg/google.golang.org/api/storage/v1.html" class="ident i27">raw</a>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-97" class="ident">DevstorageReadOnlyScope</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> ScopeReadWrite grants permissions to manage your</span><span class="comment">	 data in Google Cloud Storage.</span></div>
<div class="code"><pre><code>	<a href="../../../../pkg/cloud.google.com/go/storage.html#name-ScopeReadWrite" class="ident">ScopeReadWrite</a> = <a href="../../../../pkg/google.golang.org/api/storage/v1.html" class="ident i27">raw</a>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-100" class="ident">DevstorageReadWriteScope</a>
)

<span class="keyword">var</span> <a href="../../../../pkg/cloud.google.com/go/storage.html#name-xGoogHeader" class="ident">xGoogHeader</a> = <a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-217" class="ident">Sprintf</a>(<span class="lit-string">"gl-go/%s gccl/%s"</span>, <a href="../../../../pkg/cloud.google.com/go/internal/version.html" class="ident i24">version</a>.<a href="../internal/version/version.go.html#line-33" class="ident">Go</a>(), <a href="../../../../pkg/cloud.google.com/go/internal/version.html" class="ident i24">version</a>.<a href="../internal/version/version.go.html#line-29" class="ident">Repo</a>)

<span class="keyword">func</span> <label for="r0" class="ident"><a href="../../../../pkg/cloud.google.com/go/storage.html#name-setClientHeader" class="ident">setClientHeader</a></label>(<label for="r1" class="ident">headers</label> <a href="../../../../pkg/net/http.html" class="ident i12">http</a>.<a href="../../../net/http/header.go.html#line-21" class="ident">Header</a>) {
	<label for="r1" class="ident">headers</label>.<a href="../../../net/http/header.go.html#line-36" class="ident">Set</a>(<span class="lit-string">"x-goog-api-client"</span>, <a href="#line-78" class="ident">xGoogHeader</a>)
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Client is a client for interacting with Google Cloud Storage.</span><span class="comment"></span><span class="comment"> Clients should be reused instead of created as needed.</span><span class="comment"> The methods of Client are safe for concurrent use by multiple goroutines.</span></div>
<div class="code"><pre><code><span class="keyword">type</span> <a href="../../../../pkg/cloud.google.com/go/storage.html#name-Client" class="ident">Client</a> <span class="keyword">struct</span> {
	<a href="../../../../use/cloud.google.com/go/storage..Client.hc*850f9.html" class="ident">hc</a>  *<a href="../../../../pkg/net/http.html" class="ident i12">http</a>.<a href="../../../net/http/client.go.html#line-57" class="ident">Client</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Scheme describes the scheme under the current host.</span></div>
<div class="code"><pre><code></code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> EnvHost is the host set on the STORAGE_EMULATOR_HOST variable.</span></div>
<div class="code"><pre><code></code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> ReadHost is the default host used on the reader.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..Client.readHost*5710f.html" class="ident">readHost</a> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> NewClient creates a new Google Cloud Storage client.</span><span class="comment"> The default scope is ScopeFullControl. To use a different scope, like ScopeReadOnly, use option.WithScopes.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> <label for="r2" class="ident"><a href="../../../../pkg/cloud.google.com/go/storage.html#name-NewClient" class="ident">NewClient</a></label>(<label for="r3" class="ident">ctx</label> <a href="../../../../pkg/context.html" class="ident i1">context</a>.<a href="../../../context/context.go.html#line-62" class="ident">Context</a>, <label for="r4" class="ident">opts</label> ...<a href="../../../../pkg/google.golang.org/api/option.html" class="ident i26">option</a>.<a href="../../../google.golang.org/api/option/option.go.html#line-19" class="ident">ClientOption</a>) (*<a href="#line-88" class="ident">Client</a>, <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a>) {
	<span class="keyword">var</span> <label for="r5" class="ident">host</label>, <label for="r6" class="ident">readHost</label>, <label for="r7" class="ident">scheme</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>

	<span class="keyword">if</span> <label for="r5" class="ident">host</label> = <a href="../../../../pkg/os.html" class="ident i14">os</a>.<a href="../../../os/env.go.html#line-101" class="ident">Getenv</a>(<span class="lit-string">"STORAGE_EMULATOR_HOST"</span>); <label for="r5" class="ident">host</label> == <span class="lit-string">""</span> {
		<label for="r7" class="ident">scheme</label> = <span class="lit-string">"https"</span>
		<label for="r6" class="ident">readHost</label> = <span class="lit-string">"storage.googleapis.com"</span>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Prepend default options to avoid overriding options passed by the user.</span></div>
<div class="code"><pre><code>		<label for="r4" class="ident">opts</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>([]<a href="../../../../pkg/google.golang.org/api/option.html" class="ident i26">option</a>.<a href="../../../google.golang.org/api/option/option.go.html#line-19" class="ident">ClientOption</a>{<a href="../../../../pkg/google.golang.org/api/option.html" class="ident i26">option</a>.<a href="../../../google.golang.org/api/option/option.go.html#line-84" class="ident">WithScopes</a>(<a href="#line-67" class="ident">ScopeFullControl</a>), <a href="../../../../pkg/google.golang.org/api/option.html" class="ident i26">option</a>.<a href="../../../google.golang.org/api/option/option.go.html#line-96" class="ident">WithUserAgent</a>(<a href="#line-62" class="ident">userAgent</a>)}, <label for="r4" class="ident">opts</label>...)
	} <span class="keyword">else</span> {
		<label for="r7" class="ident">scheme</label> = <span class="lit-string">"http"</span>
		<label for="r6" class="ident">readHost</label> = <label for="r5" class="ident">host</label>

		<label for="r4" class="ident">opts</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>([]<a href="../../../../pkg/google.golang.org/api/option.html" class="ident i26">option</a>.<a href="../../../google.golang.org/api/option/option.go.html#line-19" class="ident">ClientOption</a>{<a href="../../../../pkg/google.golang.org/api/option.html" class="ident i26">option</a>.<a href="../../../google.golang.org/api/option/option.go.html#line-190" class="ident">WithoutAuthentication</a>()}, <label for="r4" class="ident">opts</label>...)
	}

	<label for="r8" class="ident">hc</label>, <label for="r9" class="ident">ep</label>, <label for="r10" class="ident">err</label> := <a href="../../../../pkg/google.golang.org/api/transport/http.html" class="ident i28">htransport</a>.<a href="../../../google.golang.org/api/transport/http/dial.go.html#line-39" class="ident">NewClient</a>(<label for="r3" class="ident">ctx</label>, <label for="r4" class="ident">opts</label>...)
	<span class="keyword">if</span> <label for="r10" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>, <a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/errors.go.html#line-17" class="ident">Errorf</a>(<span class="lit-string">"dialing: %v"</span>, <label for="r10" class="ident">err</label>)
	}
	<label for="r11" class="ident">rawService</label>, <label for="r10" class="ident">err</label> := <a href="../../../../pkg/google.golang.org/api/storage/v1.html" class="ident i27">raw</a>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-104" class="ident">NewService</a>(<label for="r3" class="ident">ctx</label>, <a href="../../../../pkg/google.golang.org/api/option.html" class="ident i26">option</a>.<a href="../../../google.golang.org/api/option/option.go.html#line-108" class="ident">WithHTTPClient</a>(<label for="r8" class="ident">hc</label>))
	<span class="keyword">if</span> <label for="r10" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>, <a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/errors.go.html#line-17" class="ident">Errorf</a>(<span class="lit-string">"storage client: %v"</span>, <label for="r10" class="ident">err</label>)
	}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Override the default value for BasePath from the raw client.</span><span class="comment">		 TODO: remove when the raw client uses this endpoint as its default (~end of 2020)</span></div>
<div class="code"><pre><code>		<label for="r11" class="ident">rawService</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-152" class="ident">BasePath</a> = <span class="lit-string">"https://storage.googleapis.com/storage/v1/"</span>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> If the endpoint has been set explicitly, use this for the BasePath</span><span class="comment">		 as well as readHost</span></div>
<div class="code"><pre><code>		<label for="r11" class="ident">rawService</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-152" class="ident">BasePath</a> = <label for="r9" class="ident">ep</label>
		<label for="r12" class="ident">u</label>, <label for="r13" class="ident">err</label> := <a href="../../../../pkg/net/url.html" class="ident i13">url</a>.<a href="../../../net/url/url.go.html#line-475" class="ident">Parse</a>(<label for="r9" class="ident">ep</label>)
		<span class="keyword">if</span> <label for="r13" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
			<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>, <a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/errors.go.html#line-17" class="ident">Errorf</a>(<span class="lit-string">"supplied endpoint %v is not valid: %v"</span>, <label for="r9" class="ident">ep</label>, <label for="r13" class="ident">err</label>)
		}
		<label for="r6" class="ident">readHost</label> = <label for="r12" class="ident">u</label>.<a href="../../../net/url/url.go.html#line-362" class="ident">Host</a>
	}

	<span class="keyword">return</span> &amp;<a href="#line-88" class="ident">Client</a>{
		<a href="#line-89" class="ident">hc</a>:       <label for="r8" class="ident">hc</label>,
		<a href="#line-90" class="ident">raw</a>:      <label for="r11" class="ident">rawService</label>,
		<a href="#line-92" class="ident">scheme</a>:   <label for="r7" class="ident">scheme</label>,
		<a href="#line-94" class="ident">envHost</a>:  <label for="r5" class="ident">host</label>,
		<a href="#line-96" class="ident">readHost</a>: <label for="r6" class="ident">readHost</label>,
	}, <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Close closes the Client.</span><span class="comment"></span><span class="comment"> Close need not be called at program exit.</span></div>
<div class="code"><pre><code></code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Set fields to nil so that subsequent uses will panic.</span></div>
<div class="code"><pre><code>	<label for="r14" class="ident">c</label>.<a href="#line-89" class="ident">hc</a> = <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
	<label for="r14" class="ident">c</label>.<a href="#line-90" class="ident">raw</a> = <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
	<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> SigningScheme determines the API version to use when signing URLs.</span></div>
<div class="code"><pre><code><span class="keyword">type</span> <a href="../../../../pkg/cloud.google.com/go/storage.html#name-SigningScheme" class="ident">SigningScheme</a> <a href="../../../../pkg/builtin.html#name-int" class="ident">int</a>

</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> SigningSchemeDefault is presently V2 and will change to V4 in the future.</span></div>
<div class="code"><pre><code>	<a href="../../../../pkg/cloud.google.com/go/storage.html#name-SigningSchemeDefault" class="ident">SigningSchemeDefault</a> <a href="#line-160" class="ident">SigningScheme</a> = <a href="../../../../pkg/builtin.html#name-iota" class="ident">iota</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> SigningSchemeV2 uses the V2 scheme to sign URLs.</span></div>
<div class="code"><pre><code>	<a href="../../../../pkg/cloud.google.com/go/storage.html#name-SigningSchemeV2" class="ident">SigningSchemeV2</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> SigningSchemeV4 uses the V4 scheme to sign URLs.</span></div>
<div class="code"><pre><code>	<a href="../../../../pkg/cloud.google.com/go/storage.html#name-SigningSchemeV4" class="ident">SigningSchemeV4</a>
)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> URLStyle determines the style to use for the signed URL. pathStyle is the</span><span class="comment"> default. All non-default options work with V4 scheme only. See</span><span class="comment"> https://cloud.google.com/storage/docs/request-endpoints for details.</span></div>
<div class="code"><pre><code></code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> host should return the host portion of the signed URL, not including</span><span class="comment">	 the scheme (e.g. storage.googleapis.com).</span></div>
<div class="code"><pre><code>	host(bucket <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>) <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> path should return the path portion of the signed URL, which may include</span><span class="comment">	 both the bucket and object name or only the object name depending on the</span><span class="comment">	 style.</span></div>
<div class="code"><pre><code>	path(bucket, object <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>) <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
}

<span class="keyword">type</span> <a href="../../../../pkg/cloud.google.com/go/storage.html#name-pathStyle" class="ident">pathStyle</a> <span class="keyword">struct</span>{}

<span class="keyword">type</span> <a href="../../../../pkg/cloud.google.com/go/storage.html#name-virtualHostedStyle" class="ident">virtualHostedStyle</a> <span class="keyword">struct</span>{}

<span class="keyword">type</span> <a href="../../../../pkg/cloud.google.com/go/storage.html#name-bucketBoundHostname" class="ident">bucketBoundHostname</a> <span class="keyword">struct</span> {
	<a href="../../../../use/cloud.google.com/go/storage..bucketBoundHostname*ee72d.hostname*7063d.html" class="ident">hostname</a> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
}

<span class="keyword">func</span> (<label for="r16" class="ident">s</label> <a href="#line-187" class="ident">pathStyle</a>) <label for="r17" class="ident"><a href="../../../../use/cloud.google.com/go/storage..pathStyle*66f4a.host*4740a.html" class="ident">host</a></label>(<label for="r18" class="ident">bucket</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>) <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a> {
	<span class="keyword">return</span> <span class="lit-string">"storage.googleapis.com"</span>
}

<span class="keyword">func</span> (<label for="r19" class="ident">s</label> <a href="#line-189" class="ident">virtualHostedStyle</a>) <label for="r20" class="ident"><a href="../../../../use/cloud.google.com/go/storage..virtualHostedStyle*9c345.host*4740a.html" class="ident">host</a></label>(<label for="r21" class="ident">bucket</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>) <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a> {
	<span class="keyword">return</span> <label for="r21" class="ident">bucket</label> + <span class="lit-string">".storage.googleapis.com"</span>
}

<span class="keyword">func</span> (<label for="r22" class="ident">s</label> <a href="#line-191" class="ident">bucketBoundHostname</a>) <label for="r23" class="ident"><a href="../../../../use/cloud.google.com/go/storage..bucketBoundHostname*ee72d.host*4740a.html" class="ident">host</a></label>(<label for="r24" class="ident">bucket</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>) <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a> {
	<span class="keyword">return</span> <label for="r22" class="ident">s</label>.<a href="#line-192" class="ident">hostname</a>
}

<span class="keyword">func</span> (<label for="r25" class="ident">s</label> <a href="#line-187" class="ident">pathStyle</a>) <label for="r26" class="ident"><a href="../../../../use/cloud.google.com/go/storage..pathStyle*66f4a.path*a0af9.html" class="ident">path</a></label>(<label for="r27" class="ident">bucket</label>, <label for="r28" class="ident">object</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>) <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a> {
	<label for="r29" class="ident">p</label> := <label for="r27" class="ident">bucket</label>
	<span class="keyword">if</span> <label for="r28" class="ident">object</label> != <span class="lit-string">""</span> {
		<label for="r29" class="ident">p</label> += <span class="lit-string">"/"</span> + <label for="r28" class="ident">object</label>
	}
	<span class="keyword">return</span> <label for="r29" class="ident">p</label>
}

<span class="keyword">func</span> (<label for="r30" class="ident">s</label> <a href="#line-189" class="ident">virtualHostedStyle</a>) <label for="r31" class="ident"><a href="../../../../use/cloud.google.com/go/storage..virtualHostedStyle*9c345.path*a0af9.html" class="ident">path</a></label>(<label for="r32" class="ident">bucket</label>, <label for="r33" class="ident">object</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>) <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a> {
	<span class="keyword">return</span> <label for="r33" class="ident">object</label>
}

<span class="keyword">func</span> (<label for="r34" class="ident">s</label> <a href="#line-191" class="ident">bucketBoundHostname</a>) <label for="r35" class="ident"><a href="../../../../use/cloud.google.com/go/storage..bucketBoundHostname*ee72d.path*a0af9.html" class="ident">path</a></label>(<label for="r36" class="ident">bucket</label>, <label for="r37" class="ident">object</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>) <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a> {
	<span class="keyword">return</span> <label for="r37" class="ident">object</label>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> PathStyle is the default style, and will generate a URL of the form</span><span class="comment"> "storage.googleapis.com/&lt;bucket-name&gt;/&lt;object-name&gt;".</span></div>
<div class="code"><pre><code><span class="keyword">func</span> <label for="r38" class="ident"><a href="../../../../pkg/cloud.google.com/go/storage.html#name-PathStyle" class="ident">PathStyle</a></label>() <a href="#line-176" class="ident">URLStyle</a> {
	<span class="keyword">return</span> <a href="#line-187" class="ident">pathStyle</a>{}
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> VirtualHostedStyle generates a URL relative to the bucket's virtual</span><span class="comment"> hostname, e.g. "&lt;bucket-name&gt;.storage.googleapis.com/&lt;object-name&gt;".</span></div>
<div class="code"><pre><code><span class="keyword">func</span> <label for="r39" class="ident"><a href="../../../../pkg/cloud.google.com/go/storage.html#name-VirtualHostedStyle" class="ident">VirtualHostedStyle</a></label>() <a href="#line-176" class="ident">URLStyle</a> {
	<span class="keyword">return</span> <a href="#line-189" class="ident">virtualHostedStyle</a>{}
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> BucketBoundHostname generates a URL with a custom hostname tied to a</span><span class="comment"> specific GCS bucket. The desired hostname should be passed in using the</span><span class="comment"> hostname argument. Generated urls will be of the form</span><span class="comment"> "&lt;bucket-bound-hostname&gt;/&lt;object-name&gt;". See</span><span class="comment"> https://cloud.google.com/storage/docs/request-endpoints#cname and</span><span class="comment"> https://cloud.google.com/load-balancing/docs/https/adding-backend-buckets-to-load-balancers</span><span class="comment"> for details. Note that for CNAMEs, only HTTP is supported, so Insecure must</span><span class="comment"> be set to true.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> <label for="r40" class="ident"><a href="../../../../pkg/cloud.google.com/go/storage.html#name-BucketBoundHostname" class="ident">BucketBoundHostname</a></label>(<label for="r41" class="ident">hostname</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>) <a href="#line-176" class="ident">URLStyle</a> {
	<span class="keyword">return</span> <a href="#line-191" class="ident">bucketBoundHostname</a>{<a href="#line-192" class="ident">hostname</a>: <label for="r41" class="ident">hostname</label>}
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> SignedURLOptions allows you to restrict the access to the signed URL.</span></div>
<div class="code"><pre><code></code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> GoogleAccessID represents the authorizer of the signed URL generation.</span><span class="comment">	 It is typically the Google service account client email address from</span><span class="comment">	 the Google Developers Console in the form of "xxx@developer.gserviceaccount.com".</span><span class="comment">	 Required.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..SignedURLOptions.GoogleAccessID.html" class="ident">GoogleAccessID</a> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> PrivateKey is the Google service account private key. It is obtainable</span><span class="comment">	 from the Google Developers Console.</span><span class="comment">	 At https://console.developers.google.com/project/&lt;your-project-id&gt;/apiui/credential,</span><span class="comment">	 create a service account client ID or reuse one of your existing service account</span><span class="comment">	 credentials. Click on the "Generate new P12 key" to generate and download</span><span class="comment">	 a new private key. Once you download the P12 file, use the following command</span><span class="comment">	 to convert it into a PEM file.</span><span class="comment">	</span><span class="comment">	    $ openssl pkcs12 -in key.p12 -passin pass:notasecret -out key.pem -nodes</span><span class="comment">	</span><span class="comment">	 Provide the contents of the PEM file as a byte slice.</span><span class="comment">	 Exactly one of PrivateKey or SignBytes must be non-nil.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..SignedURLOptions.PrivateKey.html" class="ident">PrivateKey</a> []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> SignBytes is a function for implementing custom signing. For example, if</span><span class="comment">	 your application is running on Google App Engine, you can use</span><span class="comment">	 appengine's internal signing function:</span><span class="comment">	     ctx := appengine.NewContext(request)</span><span class="comment">	     acc, _ := appengine.ServiceAccount(ctx)</span><span class="comment">	     url, err := SignedURL("bucket", "object", &amp;SignedURLOptions{</span><span class="comment">	     	GoogleAccessID: acc,</span><span class="comment">	     	SignBytes: func(b []byte) ([]byte, error) {</span><span class="comment">	     		_, signedBytes, err := appengine.SignBytes(ctx, b)</span><span class="comment">	     		return signedBytes, err</span><span class="comment">	     	},</span><span class="comment">	     	// etc.</span><span class="comment">	     })</span><span class="comment">	</span><span class="comment">	 Exactly one of PrivateKey or SignBytes must be non-nil.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..SignedURLOptions.SignBytes.html" class="ident">SignBytes</a> <span class="keyword">func</span>([]<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>) ([]<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>, <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a>)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Method is the HTTP method to be used with the signed URL.</span><span class="comment">	 Signed URLs can be used with GET, HEAD, PUT, and DELETE requests.</span><span class="comment">	 Required.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..SignedURLOptions.Method.html" class="ident">Method</a> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Expires is the expiration time on the signed URL. It must be</span><span class="comment">	 a datetime in the future. For SigningSchemeV4, the expiration may be no</span><span class="comment">	 more than seven days in the future.</span><span class="comment">	 Required.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..SignedURLOptions.Expires.html" class="ident">Expires</a> <a href="../../../../pkg/time.html" class="ident i20">time</a>.<a href="../../../time/time.go.html#line-127" class="ident">Time</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> ContentType is the content type header the client must provide</span><span class="comment">	 to use the generated signed URL.</span><span class="comment">	 Optional.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..SignedURLOptions.ContentType.html" class="ident">ContentType</a> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Headers is a list of extension headers the client must provide</span><span class="comment">	 in order to use the generated signed URL. Each must be a string of the</span><span class="comment">	 form "key:values", with multiple values separated by a semicolon.</span><span class="comment">	 Optional.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..SignedURLOptions.Headers.html" class="ident">Headers</a> []<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> QueryParameters is a map of additional query parameters. When</span><span class="comment">	 SigningScheme is V4, this is used in computing the signature, and the</span><span class="comment">	 client must use the same query parameters when using the generated signed</span><span class="comment">	 URL.</span><span class="comment">	 Optional.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..SignedURLOptions.QueryParameters.html" class="ident">QueryParameters</a> <a href="../../../../pkg/net/url.html" class="ident i13">url</a>.<a href="../../../net/url/url.go.html#line-878" class="ident">Values</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> MD5 is the base64 encoded MD5 checksum of the file.</span><span class="comment">	 If provided, the client should provide the exact value on the request</span><span class="comment">	 header in order to use the signed URL.</span><span class="comment">	 Optional.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..SignedURLOptions.MD5.html" class="ident">MD5</a> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Style provides options for the type of URL to use. Options are</span><span class="comment">	 PathStyle (default), BucketBoundHostname, and VirtualHostedStyle. See</span><span class="comment">	 https://cloud.google.com/storage/docs/request-endpoints for details.</span><span class="comment">	 Only supported for V4 signing.</span><span class="comment">	 Optional.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..SignedURLOptions.Style.html" class="ident">Style</a> <a href="#line-176" class="ident">URLStyle</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Insecure determines whether the signed URL should use HTTPS (default) or</span><span class="comment">	 HTTP.</span><span class="comment">	 Only supported for V4 signing.</span><span class="comment">	 Optional.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..SignedURLOptions.Insecure.html" class="ident">Insecure</a> <a href="../../../../pkg/builtin.html#name-bool" class="ident">bool</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Scheme determines the version of URL signing to use. Default is</span><span class="comment">	 SigningSchemeV2.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..SignedURLOptions.Scheme.html" class="ident">Scheme</a> <a href="#line-160" class="ident">SigningScheme</a>
}

<span class="keyword">var</span> (
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> I was tempted to call this spacex. :)</span></div>
<div class="code"><pre><code>	<a href="../../../../pkg/cloud.google.com/go/storage.html#name-spaceRegex" class="ident">spaceRegex</a> = <a href="../../../../pkg/regexp.html" class="ident i16">regexp</a>.<a href="../../../regexp/regexp.go.html#line-308" class="ident">MustCompile</a>(<span class="lit-string">` +`</span>)

	<a href="../../../../pkg/cloud.google.com/go/storage.html#name-canonicalHeaderRegexp" class="ident">canonicalHeaderRegexp</a>    = <a href="../../../../pkg/regexp.html" class="ident i16">regexp</a>.<a href="../../../regexp/regexp.go.html#line-308" class="ident">MustCompile</a>(<span class="lit-string">`(?i)^(x-goog-[^:]+):(.*)?$`</span>)
	<a href="../../../../pkg/cloud.google.com/go/storage.html#name-excludedCanonicalHeaders" class="ident">excludedCanonicalHeaders</a> = <span class="keyword">map</span>[<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>]<a href="../../../../pkg/builtin.html#name-bool" class="ident">bool</a>{
		<span class="lit-string">"x-goog-encryption-key"</span>:        <a href="../../../../pkg/builtin.html#name-true" class="ident">true</a>,
		<span class="lit-string">"x-goog-encryption-key-sha256"</span>: <a href="../../../../pkg/builtin.html#name-true" class="ident">true</a>,
	}
)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> v2SanitizeHeaders applies the specifications for canonical extension headers at</span><span class="comment"> https://cloud.google.com/storage/docs/access-control/signed-urls#about-canonical-extension-headers.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> <label for="r42" class="ident"><a href="../../../../pkg/cloud.google.com/go/storage.html#name-v2SanitizeHeaders" class="ident">v2SanitizeHeaders</a></label>(<label for="r43" class="ident">hdrs</label> []<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>) []<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a> {
	<label for="r44" class="ident">headerMap</label> := <span class="keyword">map</span>[<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>][]<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>{}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> No leading or trailing whitespaces.</span></div>
<div class="code"><pre><code>		<label for="r47" class="ident">sanitizedHeader</label> := <a href="../../../../pkg/strings.html" class="ident i19">strings</a>.<a href="../../../strings/strings.go.html#line-867" class="ident">TrimSpace</a>(<label for="r46" class="ident">hdr</label>)

</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Only keep canonical headers, discard any others.</span></div>
<div class="code"><pre><code>		<label for="r50" class="ident">headerMatches</label> := <a href="#line-344" class="ident">canonicalHeaderRegexp</a>.<a href="../../../regexp/regexp.go.html#line-1037" class="ident">FindStringSubmatch</a>(<label for="r47" class="ident">sanitizedHeader</label>)
		<span class="keyword">if</span> <a href="../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r50" class="ident">headerMatches</label>) == <span class="lit-number">0</span> {
			<span class="keyword">continue</span>
		}
		<label for="r48" class="ident">header</label> = <label for="r50" class="ident">headerMatches</label>[<span class="lit-number">1</span>]
		<label for="r49" class="ident">value</label> = <label for="r50" class="ident">headerMatches</label>[<span class="lit-number">2</span>]

		<label for="r48" class="ident">header</label> = <a href="../../../../pkg/strings.html" class="ident i19">strings</a>.<a href="../../../strings/strings.go.html#line-580" class="ident">ToLower</a>(<a href="../../../../pkg/strings.html" class="ident i19">strings</a>.<a href="../../../strings/strings.go.html#line-867" class="ident">TrimSpace</a>(<label for="r48" class="ident">header</label>))
		<label for="r49" class="ident">value</label> = <a href="../../../../pkg/strings.html" class="ident i19">strings</a>.<a href="../../../strings/strings.go.html#line-867" class="ident">TrimSpace</a>(<label for="r49" class="ident">value</label>)

</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Do not keep any deliberately excluded canonical headers when signing.</span></div>
<div class="code"><pre><code>			<span class="keyword">continue</span>
		}

</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Remove duplicate headers by appending the values of duplicates</span><span class="comment">			 in their order of appearance.</span></div>
<div class="code"><pre><code>			<label for="r44" class="ident">headerMap</label>[<label for="r48" class="ident">header</label>] = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r44" class="ident">headerMap</label>[<label for="r48" class="ident">header</label>], <label for="r49" class="ident">value</label>)
		}
	}

	<span class="keyword">var</span> <label for="r51" class="ident">sanitizedHeaders</label> []<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> There should be no spaces around the colon separating the header name</span><span class="comment">		 from the header value or around the values themselves. The values</span><span class="comment">		 should be separated by commas.</span><span class="comment">		</span><span class="comment">		 NOTE: The semantics for headers without a value are not clear.</span><span class="comment">		 However from specifications these should be edge-cases anyway and we</span><span class="comment">		 should assume that there will be no canonical headers using empty</span><span class="comment">		 values. Any such headers are discarded at the regexp stage above.</span></div>
<div class="code"><pre><code>		<label for="r51" class="ident">sanitizedHeaders</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r51" class="ident">sanitizedHeaders</label>, <a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-217" class="ident">Sprintf</a>(<span class="lit-string">"%s:%s"</span>, <label for="r52" class="ident">header</label>, <a href="../../../../pkg/strings.html" class="ident i19">strings</a>.<a href="../../../strings/strings.go.html#line-421" class="ident">Join</a>(<label for="r53" class="ident">values</label>, <span class="lit-string">","</span>)))
	}
	<a href="../../../../pkg/sort.html" class="ident i17">sort</a>.<a href="../../../sort/sort.go.html#line-335" class="ident">Strings</a>(<label for="r51" class="ident">sanitizedHeaders</label>)
	<span class="keyword">return</span> <label for="r51" class="ident">sanitizedHeaders</label>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> v4SanitizeHeaders applies the specifications for canonical extension headers</span><span class="comment"> at https://cloud.google.com/storage/docs/access-control/signed-urls#about-canonical-extension-headers.</span><span class="comment"></span><span class="comment"> V4 does a couple things differently from V2:</span><span class="comment"> - Headers get sorted by key, instead of by key:value. We do this in</span><span class="comment">   signedURLV4.</span><span class="comment"> - There's no canonical regexp: we simply split headers on :.</span><span class="comment"> - We don't exclude canonical headers.</span><span class="comment"> - We replace leading and trailing spaces in header values, like v2, but also</span><span class="comment">   all intermediate space duplicates get stripped. That is, there's only ever</span><span class="comment">   a single consecutive space.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> <label for="r54" class="ident"><a href="../../../../pkg/cloud.google.com/go/storage.html#name-v4SanitizeHeaders" class="ident">v4SanitizeHeaders</a></label>(<label for="r55" class="ident">hdrs</label> []<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>) []<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a> {
	<label for="r56" class="ident">headerMap</label> := <span class="keyword">map</span>[<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>][]<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>{}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> No leading or trailing whitespaces.</span></div>
<div class="code"><pre><code>		<label for="r59" class="ident">sanitizedHeader</label> := <a href="../../../../pkg/strings.html" class="ident i19">strings</a>.<a href="../../../strings/strings.go.html#line-867" class="ident">TrimSpace</a>(<label for="r58" class="ident">hdr</label>)

		<span class="keyword">var</span> <label for="r60" class="ident">key</label>, <label for="r61" class="ident">value</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
		<label for="r62" class="ident">headerMatches</label> := <a href="../../../../pkg/strings.html" class="ident i19">strings</a>.<a href="../../../strings/strings.go.html#line-299" class="ident">Split</a>(<label for="r59" class="ident">sanitizedHeader</label>, <span class="lit-string">":"</span>)
		<span class="keyword">if</span> <a href="../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r62" class="ident">headerMatches</label>) &lt; <span class="lit-number">2</span> {
			<span class="keyword">continue</span>
		}

		<label for="r60" class="ident">key</label> = <label for="r62" class="ident">headerMatches</label>[<span class="lit-number">0</span>]
		<label for="r61" class="ident">value</label> = <label for="r62" class="ident">headerMatches</label>[<span class="lit-number">1</span>]

		<label for="r60" class="ident">key</label> = <a href="../../../../pkg/strings.html" class="ident i19">strings</a>.<a href="../../../strings/strings.go.html#line-580" class="ident">ToLower</a>(<a href="../../../../pkg/strings.html" class="ident i19">strings</a>.<a href="../../../strings/strings.go.html#line-867" class="ident">TrimSpace</a>(<label for="r60" class="ident">key</label>))
		<label for="r61" class="ident">value</label> = <a href="../../../../pkg/strings.html" class="ident i19">strings</a>.<a href="../../../strings/strings.go.html#line-867" class="ident">TrimSpace</a>(<label for="r61" class="ident">value</label>)
		<label for="r61" class="ident">value</label> = <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>(<a href="#line-342" class="ident">spaceRegex</a>.<a href="../../../regexp/regexp.go.html#line-669" class="ident">ReplaceAll</a>([]<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>(<label for="r61" class="ident">value</label>), []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>(<span class="lit-string">" "</span>)))
		<label for="r61" class="ident">value</label> = <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>(<a href="#line-340" class="ident">tabRegex</a>.<a href="../../../regexp/regexp.go.html#line-669" class="ident">ReplaceAll</a>([]<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>(<label for="r61" class="ident">value</label>), []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>(<span class="lit-string">"\t"</span>)))

</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Remove duplicate headers by appending the values of duplicates</span><span class="comment">			 in their order of appearance.</span></div>
<div class="code"><pre><code>			<label for="r56" class="ident">headerMap</label>[<label for="r60" class="ident">key</label>] = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r56" class="ident">headerMap</label>[<label for="r60" class="ident">key</label>], <label for="r61" class="ident">value</label>)
		}
	}

	<span class="keyword">var</span> <label for="r63" class="ident">sanitizedHeaders</label> []<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> There should be no spaces around the colon separating the header name</span><span class="comment">		 from the header value or around the values themselves. The values</span><span class="comment">		 should be separated by commas.</span><span class="comment">		</span><span class="comment">		 NOTE: The semantics for headers without a value are not clear.</span><span class="comment">		 However from specifications these should be edge-cases anyway and we</span><span class="comment">		 should assume that there will be no canonical headers using empty</span><span class="comment">		 values. Any such headers are discarded at the regexp stage above.</span></div>
<div class="code"><pre><code>		<label for="r63" class="ident">sanitizedHeaders</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r63" class="ident">sanitizedHeaders</label>, <a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-217" class="ident">Sprintf</a>(<span class="lit-string">"%s:%s"</span>, <label for="r64" class="ident">header</label>, <a href="../../../../pkg/strings.html" class="ident i19">strings</a>.<a href="../../../strings/strings.go.html#line-421" class="ident">Join</a>(<label for="r65" class="ident">values</label>, <span class="lit-string">","</span>)))
	}
	<span class="keyword">return</span> <label for="r63" class="ident">sanitizedHeaders</label>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> SignedURL returns a URL for the specified object. Signed URLs allow</span><span class="comment"> the users access to a restricted resource for a limited time without having a</span><span class="comment"> Google account or signing in. For more information about the signed</span><span class="comment"> URLs, see https://cloud.google.com/storage/docs/accesscontrol#Signed-URLs.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> <label for="r66" class="ident"><a href="../../../../pkg/cloud.google.com/go/storage.html#name-SignedURL" class="ident">SignedURL</a></label>(<label for="r67" class="ident">bucket</label>, <label for="r68" class="ident">name</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>, <label for="r69" class="ident">opts</label> *<a href="#line-248" class="ident">SignedURLOptions</a>) (<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>, <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a>) {
	<label for="r70" class="ident">now</label> := <a href="#line-520" class="ident">utcNow</a>()
	<span class="keyword">if</span> <label for="r71" class="ident">err</label> := <a href="#line-475" class="ident">validateOptions</a>(<label for="r69" class="ident">opts</label>, <label for="r70" class="ident">now</label>); <label for="r71" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span> <span class="lit-string">""</span>, <label for="r71" class="ident">err</label>
	}

	<span class="keyword">switch</span> <label for="r69" class="ident">opts</label>.<a href="#line-336" class="ident">Scheme</a> {
	<span class="keyword">case</span> <a href="#line-167" class="ident">SigningSchemeV2</a>:
		<label for="r69" class="ident">opts</label>.<a href="#line-306" class="ident">Headers</a> = <a href="#line-353" class="ident">v2SanitizeHeaders</a>(<label for="r69" class="ident">opts</label>.<a href="#line-306" class="ident">Headers</a>)
		<span class="keyword">return</span> <a href="#line-686" class="ident">signedURLV2</a>(<label for="r67" class="ident">bucket</label>, <label for="r68" class="ident">name</label>, <label for="r69" class="ident">opts</label>)
	<span class="keyword">case</span> <a href="#line-170" class="ident">SigningSchemeV4</a>:
		<label for="r69" class="ident">opts</label>.<a href="#line-306" class="ident">Headers</a> = <a href="#line-410" class="ident">v4SanitizeHeaders</a>(<label for="r69" class="ident">opts</label>.<a href="#line-306" class="ident">Headers</a>)
		<span class="keyword">return</span> <a href="#line-551" class="ident">signedURLV4</a>(<label for="r67" class="ident">bucket</label>, <label for="r68" class="ident">name</label>, <label for="r69" class="ident">opts</label>, <label for="r70" class="ident">now</label>)
	<span class="keyword">default</span>: <span class="comment">// SigningSchemeDefault</span>
		<label for="r69" class="ident">opts</label>.<a href="#line-306" class="ident">Headers</a> = <a href="#line-353" class="ident">v2SanitizeHeaders</a>(<label for="r69" class="ident">opts</label>.<a href="#line-306" class="ident">Headers</a>)
		<span class="keyword">return</span> <a href="#line-686" class="ident">signedURLV2</a>(<label for="r67" class="ident">bucket</label>, <label for="r68" class="ident">name</label>, <label for="r69" class="ident">opts</label>)
	}
}

<span class="keyword">func</span> <label for="r72" class="ident"><a href="../../../../pkg/cloud.google.com/go/storage.html#name-validateOptions" class="ident">validateOptions</a></label>(<label for="r73" class="ident">opts</label> *<a href="#line-248" class="ident">SignedURLOptions</a>, <label for="r74" class="ident">now</label> <a href="../../../../pkg/time.html" class="ident i20">time</a>.<a href="../../../time/time.go.html#line-127" class="ident">Time</a>) <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a> {
	<span class="keyword">if</span> <label for="r73" class="ident">opts</label> == <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span> <a href="../../../../pkg/errors.html" class="ident i10">errors</a>.<a href="../../../errors/errors.go.html#line-58" class="ident">New</a>(<span class="lit-string">"storage: missing required SignedURLOptions"</span>)
	}
	<span class="keyword">if</span> <label for="r73" class="ident">opts</label>.<a href="#line-253" class="ident">GoogleAccessID</a> == <span class="lit-string">""</span> {
		<span class="keyword">return</span> <a href="../../../../pkg/errors.html" class="ident i10">errors</a>.<a href="../../../errors/errors.go.html#line-58" class="ident">New</a>(<span class="lit-string">"storage: missing required GoogleAccessID"</span>)
	}
	<span class="keyword">if</span> (<label for="r73" class="ident">opts</label>.<a href="#line-267" class="ident">PrivateKey</a> == <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>) == (<label for="r73" class="ident">opts</label>.<a href="#line-284" class="ident">SignBytes</a> == <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>) {
		<span class="keyword">return</span> <a href="../../../../pkg/errors.html" class="ident i10">errors</a>.<a href="../../../errors/errors.go.html#line-58" class="ident">New</a>(<span class="lit-string">"storage: exactly one of PrivateKey or SignedBytes must be set"</span>)
	}
	<label for="r73" class="ident">opts</label>.<a href="#line-289" class="ident">Method</a> = <a href="../../../../pkg/strings.html" class="ident i19">strings</a>.<a href="../../../strings/strings.go.html#line-550" class="ident">ToUpper</a>(<label for="r73" class="ident">opts</label>.<a href="#line-289" class="ident">Method</a>)
	<span class="keyword">if</span> <label for="r75" class="ident">_</label>, <label for="r76" class="ident">ok</label> := <a href="#line-51" class="ident">signedURLMethods</a>[<label for="r73" class="ident">opts</label>.<a href="#line-289" class="ident">Method</a>]; !<label for="r76" class="ident">ok</label> {
		<span class="keyword">return</span> <a href="#line-59" class="ident">errMethodNotValid</a>
	}
	<span class="keyword">if</span> <label for="r73" class="ident">opts</label>.<a href="#line-295" class="ident">Expires</a>.<a href="../../../time/time.go.html#line-426" class="ident">IsZero</a>() {
		<span class="keyword">return</span> <a href="../../../../pkg/errors.html" class="ident i10">errors</a>.<a href="../../../errors/errors.go.html#line-58" class="ident">New</a>(<span class="lit-string">"storage: missing required expires option"</span>)
	}
	<span class="keyword">if</span> <label for="r73" class="ident">opts</label>.<a href="#line-319" class="ident">MD5</a> != <span class="lit-string">""</span> {
		<label for="r77" class="ident">md5</label>, <label for="r78" class="ident">err</label> := <a href="../../../../pkg/encoding/base64.html" class="ident i7">base64</a>.<a href="../../../encoding/base64/base64.go.html#line-99" class="ident">StdEncoding</a>.<a href="../../../encoding/base64/base64.go.html#line-383" class="ident">DecodeString</a>(<label for="r73" class="ident">opts</label>.<a href="#line-319" class="ident">MD5</a>)
		<span class="keyword">if</span> <label for="r78" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> || <a href="../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r77" class="ident">md5</label>) != <span class="lit-number">16</span> {
			<span class="keyword">return</span> <a href="../../../../pkg/errors.html" class="ident i10">errors</a>.<a href="../../../errors/errors.go.html#line-58" class="ident">New</a>(<span class="lit-string">"storage: invalid MD5 checksum"</span>)
		}
	}
	<span class="keyword">if</span> <label for="r73" class="ident">opts</label>.<a href="#line-326" class="ident">Style</a> == <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<label for="r73" class="ident">opts</label>.<a href="#line-326" class="ident">Style</a> = <a href="#line-225" class="ident">PathStyle</a>()
	}
	<span class="keyword">if</span> <label for="r79" class="ident">_</label>, <label for="r80" class="ident">ok</label> := <label for="r73" class="ident">opts</label>.<a href="#line-326" class="ident">Style</a>.(<a href="#line-187" class="ident">pathStyle</a>); !<label for="r80" class="ident">ok</label> &amp;&amp; <label for="r73" class="ident">opts</label>.<a href="#line-336" class="ident">Scheme</a> == <a href="#line-167" class="ident">SigningSchemeV2</a> {
		<span class="keyword">return</span> <a href="../../../../pkg/errors.html" class="ident i10">errors</a>.<a href="../../../errors/errors.go.html#line-58" class="ident">New</a>(<span class="lit-string">"storage: only path-style URLs are permitted with SigningSchemeV2"</span>)
	}
	<span class="keyword">if</span> <label for="r73" class="ident">opts</label>.<a href="#line-336" class="ident">Scheme</a> == <a href="#line-170" class="ident">SigningSchemeV4</a> {
		<label for="r81" class="ident">cutoff</label> := <label for="r74" class="ident">now</label>.<a href="../../../time/time.go.html#line-813" class="ident">Add</a>(<span class="lit-number">604801</span> * <a href="../../../../pkg/time.html" class="ident i20">time</a>.<a href="../../../time/time.go.html#line-605" class="ident">Second</a>) <span class="comment">// 7 days + 1 second</span>
		<span class="keyword">if</span> !<label for="r73" class="ident">opts</label>.<a href="#line-295" class="ident">Expires</a>.<a href="../../../time/time.go.html#line-251" class="ident">Before</a>(<label for="r81" class="ident">cutoff</label>) {
			<span class="keyword">return</span> <a href="../../../../pkg/errors.html" class="ident i10">errors</a>.<a href="../../../errors/errors.go.html#line-58" class="ident">New</a>(<span class="lit-string">"storage: expires must be within seven days from now"</span>)
		}
	}
	<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
}

<span class="keyword">const</span> (
	<a href="../../../../pkg/cloud.google.com/go/storage.html#name-iso8601" class="ident">iso8601</a>      = <span class="lit-string">"20060102T150405Z"</span>
	<a href="../../../../pkg/cloud.google.com/go/storage.html#name-yearMonthDay" class="ident">yearMonthDay</a> = <span class="lit-string">"20060102"</span>
)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> utcNow returns the current time in UTC and is a variable to allow for</span><span class="comment"> reassignment in tests to provide deterministic signed URL values.</span></div>
<div class="code"><pre><code><span class="keyword">var</span> <a href="../../../../pkg/cloud.google.com/go/storage.html#name-utcNow" class="ident">utcNow</a> = <span class="keyword">func</span>() <a href="../../../../pkg/time.html" class="ident i20">time</a>.<a href="../../../time/time.go.html#line-127" class="ident">Time</a> {
	<span class="keyword">return</span> <a href="../../../../pkg/time.html" class="ident i20">time</a>.<a href="../../../time/time.go.html#line-1066" class="ident">Now</a>().<a href="../../../time/time.go.html#line-1081" class="ident">UTC</a>()
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> extractHeaderNames takes in a series of key:value headers and returns the</span><span class="comment"> header names only.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> <label for="r82" class="ident"><a href="../../../../pkg/cloud.google.com/go/storage.html#name-extractHeaderNames" class="ident">extractHeaderNames</a></label>(<label for="r83" class="ident">kvs</label> []<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>) []<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a> {
	<span class="keyword">var</span> <label for="r84" class="ident">res</label> []<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
	<span class="keyword">for</span> <label for="r85" class="ident">_</label>, <label for="r86" class="ident">header</label> := <span class="keyword">range</span> <label for="r83" class="ident">kvs</label> {
		<label for="r87" class="ident">nameValue</label> := <a href="../../../../pkg/strings.html" class="ident i19">strings</a>.<a href="../../../strings/strings.go.html#line-299" class="ident">Split</a>(<label for="r86" class="ident">header</label>, <span class="lit-string">":"</span>)
		<label for="r84" class="ident">res</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r84" class="ident">res</label>, <label for="r87" class="ident">nameValue</label>[<span class="lit-number">0</span>])
	}
	<span class="keyword">return</span> <label for="r84" class="ident">res</label>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> pathEncodeV4 creates an encoded string that matches the v4 signature spec.</span><span class="comment"> Following the spec precisely is necessary in order to ensure that the URL</span><span class="comment"> and signing string are correctly formed, and Go's url.PathEncode and</span><span class="comment"> url.QueryEncode don't generate an exact match without some additional logic.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> <label for="r88" class="ident"><a href="../../../../pkg/cloud.google.com/go/storage.html#name-pathEncodeV4" class="ident">pathEncodeV4</a></label>(<label for="r89" class="ident">path</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>) <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a> {
	<label for="r90" class="ident">segments</label> := <a href="../../../../pkg/strings.html" class="ident i19">strings</a>.<a href="../../../strings/strings.go.html#line-299" class="ident">Split</a>(<label for="r89" class="ident">path</label>, <span class="lit-string">"/"</span>)
	<span class="keyword">var</span> <label for="r91" class="ident">encodedSegments</label> []<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
	<span class="keyword">for</span> <label for="r92" class="ident">_</label>, <label for="r93" class="ident">s</label> := <span class="keyword">range</span> <label for="r90" class="ident">segments</label> {
		<label for="r91" class="ident">encodedSegments</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r91" class="ident">encodedSegments</label>, <a href="../../../../pkg/net/url.html" class="ident i13">url</a>.<a href="../../../net/url/url.go.html#line-274" class="ident">QueryEscape</a>(<label for="r93" class="ident">s</label>))
	}
	<label for="r94" class="ident">encodedStr</label> := <a href="../../../../pkg/strings.html" class="ident i19">strings</a>.<a href="../../../strings/strings.go.html#line-421" class="ident">Join</a>(<label for="r91" class="ident">encodedSegments</label>, <span class="lit-string">"/"</span>)
	<label for="r94" class="ident">encodedStr</label> = <a href="../../../../pkg/strings.html" class="ident i19">strings</a>.<a href="../../../strings/strings.go.html#line-924" class="ident">Replace</a>(<label for="r94" class="ident">encodedStr</label>, <span class="lit-string">"+"</span>, <span class="lit-string">"%20"</span>, -<span class="lit-number">1</span>)
	<span class="keyword">return</span> <label for="r94" class="ident">encodedStr</label>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> signedURLV4 creates a signed URL using the sigV4 algorithm.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> <label for="r95" class="ident"><a href="../../../../pkg/cloud.google.com/go/storage.html#name-signedURLV4" class="ident">signedURLV4</a></label>(<label for="r96" class="ident">bucket</label>, <label for="r97" class="ident">name</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>, <label for="r98" class="ident">opts</label> *<a href="#line-248" class="ident">SignedURLOptions</a>, <label for="r99" class="ident">now</label> <a href="../../../../pkg/time.html" class="ident i20">time</a>.<a href="../../../time/time.go.html#line-127" class="ident">Time</a>) (<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>, <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a>) {
	<label for="r100" class="ident">buf</label> := &amp;<a href="../../../../pkg/bytes.html" class="ident i0">bytes</a>.<a href="../../../bytes/buffer.go.html#line-20" class="ident">Buffer</a>{}
	<a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-202" class="ident">Fprintf</a>(<label for="r100" class="ident">buf</label>, <span class="lit-string">"%s\n"</span>, <label for="r98" class="ident">opts</label>.<a href="#line-289" class="ident">Method</a>)

	<label for="r101" class="ident">u</label> := &amp;<a href="../../../../pkg/net/url.html" class="ident i13">url</a>.<a href="../../../net/url/url.go.html#line-358" class="ident">URL</a>{<a href="../../../net/url/url.go.html#line-363" class="ident">Path</a>: <label for="r98" class="ident">opts</label>.<a href="#line-326" class="ident">Style</a>.<a href="#line-184" class="ident">path</a>(<label for="r96" class="ident">bucket</label>, <label for="r97" class="ident">name</label>)}
	<label for="r101" class="ident">u</label>.<a href="../../../net/url/url.go.html#line-364" class="ident">RawPath</a> = <a href="#line-539" class="ident">pathEncodeV4</a>(<label for="r101" class="ident">u</label>.<a href="../../../net/url/url.go.html#line-363" class="ident">Path</a>)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Note: we have to add a / here because GCS does so auto-magically, despite</span><span class="comment">	 our encoding not doing so (and we have to exactly match their</span><span class="comment">	 canonical query).</span></div>
<div class="code"><pre><code>	<a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-202" class="ident">Fprintf</a>(<label for="r100" class="ident">buf</label>, <span class="lit-string">"/%s\n"</span>, <label for="r101" class="ident">u</label>.<a href="../../../net/url/url.go.html#line-364" class="ident">RawPath</a>)

	<label for="r102" class="ident">headerNames</label> := <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<a href="#line-526" class="ident">extractHeaderNames</a>(<label for="r98" class="ident">opts</label>.<a href="#line-306" class="ident">Headers</a>), <span class="lit-string">"host"</span>)
	<span class="keyword">if</span> <label for="r98" class="ident">opts</label>.<a href="#line-300" class="ident">ContentType</a> != <span class="lit-string">""</span> {
		<label for="r102" class="ident">headerNames</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r102" class="ident">headerNames</label>, <span class="lit-string">"content-type"</span>)
	}
	<span class="keyword">if</span> <label for="r98" class="ident">opts</label>.<a href="#line-319" class="ident">MD5</a> != <span class="lit-string">""</span> {
		<label for="r102" class="ident">headerNames</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r102" class="ident">headerNames</label>, <span class="lit-string">"content-md5"</span>)
	}
	<a href="../../../../pkg/sort.html" class="ident i17">sort</a>.<a href="../../../sort/sort.go.html#line-335" class="ident">Strings</a>(<label for="r102" class="ident">headerNames</label>)
	<label for="r103" class="ident">signedHeaders</label> := <a href="../../../../pkg/strings.html" class="ident i19">strings</a>.<a href="../../../strings/strings.go.html#line-421" class="ident">Join</a>(<label for="r102" class="ident">headerNames</label>, <span class="lit-string">";"</span>)
	<label for="r104" class="ident">timestamp</label> := <label for="r99" class="ident">now</label>.<a href="../../../time/format.go.html#line-495" class="ident">Format</a>(<a href="#line-514" class="ident">iso8601</a>)
	<label for="r105" class="ident">credentialScope</label> := <a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-217" class="ident">Sprintf</a>(<span class="lit-string">"%s/auto/storage/goog4_request"</span>, <label for="r99" class="ident">now</label>.<a href="../../../time/format.go.html#line-495" class="ident">Format</a>(<a href="#line-515" class="ident">yearMonthDay</a>))
	<label for="r106" class="ident">canonicalQueryString</label> := <a href="../../../../pkg/net/url.html" class="ident i13">url</a>.<a href="../../../net/url/url.go.html#line-878" class="ident">Values</a>{
		<span class="lit-string">"X-Goog-Algorithm"</span>:     {<span class="lit-string">"GOOG4-RSA-SHA256"</span>},
		<span class="lit-string">"X-Goog-Credential"</span>:    {<a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-217" class="ident">Sprintf</a>(<span class="lit-string">"%s/%s"</span>, <label for="r98" class="ident">opts</label>.<a href="#line-253" class="ident">GoogleAccessID</a>, <label for="r105" class="ident">credentialScope</label>)},
		<span class="lit-string">"X-Goog-Date"</span>:          {<label for="r104" class="ident">timestamp</label>},
		<span class="lit-string">"X-Goog-Expires"</span>:       {<a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-217" class="ident">Sprintf</a>(<span class="lit-string">"%d"</span>, <a href="../../../../pkg/builtin.html#name-int" class="ident">int</a>(<label for="r98" class="ident">opts</label>.<a href="#line-295" class="ident">Expires</a>.<a href="../../../time/time.go.html#line-841" class="ident">Sub</a>(<label for="r99" class="ident">now</label>).<a href="../../../time/time.go.html#line-747" class="ident">Seconds</a>()))},
		<span class="lit-string">"X-Goog-SignedHeaders"</span>: {<label for="r103" class="ident">signedHeaders</label>},
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Add user-supplied query parameters to the canonical query string. For V4,</span><span class="comment">	 it's necessary to include these.</span></div>
<div class="code"><pre><code>	<span class="keyword">for</span> <label for="r107" class="ident">k</label>, <label for="r108" class="ident">v</label> := <span class="keyword">range</span> <label for="r98" class="ident">opts</label>.<a href="#line-313" class="ident">QueryParameters</a> {
		<label for="r106" class="ident">canonicalQueryString</label>[<label for="r107" class="ident">k</label>] = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r106" class="ident">canonicalQueryString</label>[<label for="r107" class="ident">k</label>], <label for="r108" class="ident">v</label>...)
	}

	<a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-202" class="ident">Fprintf</a>(<label for="r100" class="ident">buf</label>, <span class="lit-string">"%s\n"</span>, <label for="r106" class="ident">canonicalQueryString</label>.<a href="../../../net/url/url.go.html#line-963" class="ident">Encode</a>())
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Fill in the hostname based on the desired URL style.</span></div>
<div class="code"><pre><code>	<label for="r101" class="ident">u</label>.<a href="../../../net/url/url.go.html#line-362" class="ident">Host</a> = <label for="r98" class="ident">opts</label>.<a href="#line-326" class="ident">Style</a>.<a href="#line-179" class="ident">host</a>(<label for="r96" class="ident">bucket</label>)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Fill in the URL scheme.</span></div>
<div class="code"><pre><code>	<span class="keyword">if</span> <label for="r98" class="ident">opts</label>.<a href="#line-332" class="ident">Insecure</a> {
		<label for="r101" class="ident">u</label>.<a href="../../../net/url/url.go.html#line-359" class="ident">Scheme</a> = <span class="lit-string">"http"</span>
	} <span class="keyword">else</span> {
		<label for="r101" class="ident">u</label>.<a href="../../../net/url/url.go.html#line-359" class="ident">Scheme</a> = <span class="lit-string">"https"</span>
	}

	<span class="keyword">var</span> <label for="r109" class="ident">headersWithValue</label> []<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
	<label for="r109" class="ident">headersWithValue</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r109" class="ident">headersWithValue</label>, <span class="lit-string">"host:"</span>+<label for="r101" class="ident">u</label>.<a href="../../../net/url/url.go.html#line-362" class="ident">Host</a>)
	<label for="r109" class="ident">headersWithValue</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r109" class="ident">headersWithValue</label>, <label for="r98" class="ident">opts</label>.<a href="#line-306" class="ident">Headers</a>...)
	<span class="keyword">if</span> <label for="r98" class="ident">opts</label>.<a href="#line-300" class="ident">ContentType</a> != <span class="lit-string">""</span> {
		<label for="r109" class="ident">headersWithValue</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r109" class="ident">headersWithValue</label>, <span class="lit-string">"content-type:"</span>+<label for="r98" class="ident">opts</label>.<a href="#line-300" class="ident">ContentType</a>)
	}
	<span class="keyword">if</span> <label for="r98" class="ident">opts</label>.<a href="#line-319" class="ident">MD5</a> != <span class="lit-string">""</span> {
		<label for="r109" class="ident">headersWithValue</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r109" class="ident">headersWithValue</label>, <span class="lit-string">"content-md5:"</span>+<label for="r98" class="ident">opts</label>.<a href="#line-319" class="ident">MD5</a>)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Trim extra whitespace from headers and replace with a single space.</span></div>
<div class="code"><pre><code>	<span class="keyword">var</span> <label for="r110" class="ident">trimmedHeaders</label> []<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
	<span class="keyword">for</span> <label for="r111" class="ident">_</label>, <label for="r112" class="ident">h</label> := <span class="keyword">range</span> <label for="r109" class="ident">headersWithValue</label> {
		<label for="r110" class="ident">trimmedHeaders</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r110" class="ident">trimmedHeaders</label>, <a href="../../../../pkg/strings.html" class="ident i19">strings</a>.<a href="../../../strings/strings.go.html#line-421" class="ident">Join</a>(<a href="../../../../pkg/strings.html" class="ident i19">strings</a>.<a href="../../../strings/strings.go.html#line-320" class="ident">Fields</a>(<label for="r112" class="ident">h</label>), <span class="lit-string">" "</span>))
	}
	<label for="r113" class="ident">canonicalHeaders</label> := <a href="../../../../pkg/strings.html" class="ident i19">strings</a>.<a href="../../../strings/strings.go.html#line-421" class="ident">Join</a>(<a href="#line-667" class="ident">sortHeadersByKey</a>(<label for="r110" class="ident">trimmedHeaders</label>), <span class="lit-string">"\n"</span>)
	<a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-202" class="ident">Fprintf</a>(<label for="r100" class="ident">buf</label>, <span class="lit-string">"%s\n\n"</span>, <label for="r113" class="ident">canonicalHeaders</label>)
	<a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-202" class="ident">Fprintf</a>(<label for="r100" class="ident">buf</label>, <span class="lit-string">"%s\n"</span>, <label for="r103" class="ident">signedHeaders</label>)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> If the user provides a value for X-Goog-Content-SHA256, we must use</span><span class="comment">	 that value in the request string. If not, we use UNSIGNED-PAYLOAD.</span></div>
<div class="code"><pre><code>	<label for="r114" class="ident">sha256Header</label> := <a href="../../../../pkg/builtin.html#name-false" class="ident">false</a>
	<span class="keyword">for</span> <label for="r115" class="ident">_</label>, <label for="r116" class="ident">h</label> := <span class="keyword">range</span> <label for="r110" class="ident">trimmedHeaders</label> {
		<span class="keyword">if</span> <a href="../../../../pkg/strings.html" class="ident i19">strings</a>.<a href="../../../strings/strings.go.html#line-444" class="ident">HasPrefix</a>(<a href="../../../../pkg/strings.html" class="ident i19">strings</a>.<a href="../../../strings/strings.go.html#line-580" class="ident">ToLower</a>(<label for="r116" class="ident">h</label>), <span class="lit-string">"x-goog-content-sha256"</span>) &amp;&amp; <a href="../../../../pkg/strings.html" class="ident i19">strings</a>.<a href="../../../strings/strings.go.html#line-61" class="ident">Contains</a>(<label for="r116" class="ident">h</label>, <span class="lit-string">":"</span>) {
			<label for="r114" class="ident">sha256Header</label> = <a href="../../../../pkg/builtin.html#name-true" class="ident">true</a>
			<a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-202" class="ident">Fprintf</a>(<label for="r100" class="ident">buf</label>, <span class="lit-string">"%s"</span>, <a href="../../../../pkg/strings.html" class="ident i19">strings</a>.<a href="../../../strings/strings.go.html#line-273" class="ident">SplitN</a>(<label for="r116" class="ident">h</label>, <span class="lit-string">":"</span>, <span class="lit-number">2</span>)[<span class="lit-number">1</span>])
			<span class="keyword">break</span>
		}
	}
	<span class="keyword">if</span> !<label for="r114" class="ident">sha256Header</label> {
		<a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-230" class="ident">Fprint</a>(<label for="r100" class="ident">buf</label>, <span class="lit-string">"UNSIGNED-PAYLOAD"</span>)
	}

	<label for="r117" class="ident">sum</label> := <a href="../../../../pkg/crypto/sha256.html" class="ident i5">sha256</a>.<a href="../../../crypto/sha256/sha256.go.html#line-254" class="ident">Sum256</a>(<label for="r100" class="ident">buf</label>.<a href="../../../bytes/buffer.go.html#line-54" class="ident">Bytes</a>())
	<label for="r118" class="ident">hexDigest</label> := <a href="../../../../pkg/encoding/hex.html" class="ident i8">hex</a>.<a href="../../../encoding/hex/hex.go.html#line-98" class="ident">EncodeToString</a>(<label for="r117" class="ident">sum</label>[:])
	<label for="r119" class="ident">signBuf</label> := &amp;<a href="../../../../pkg/bytes.html" class="ident i0">bytes</a>.<a href="../../../bytes/buffer.go.html#line-20" class="ident">Buffer</a>{}
	<a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-230" class="ident">Fprint</a>(<label for="r119" class="ident">signBuf</label>, <span class="lit-string">"GOOG4-RSA-SHA256\n"</span>)
	<a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-202" class="ident">Fprintf</a>(<label for="r119" class="ident">signBuf</label>, <span class="lit-string">"%s\n"</span>, <label for="r104" class="ident">timestamp</label>)
	<a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-202" class="ident">Fprintf</a>(<label for="r119" class="ident">signBuf</label>, <span class="lit-string">"%s\n"</span>, <label for="r105" class="ident">credentialScope</label>)
	<a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-202" class="ident">Fprintf</a>(<label for="r119" class="ident">signBuf</label>, <span class="lit-string">"%s"</span>, <label for="r118" class="ident">hexDigest</label>)

	<label for="r120" class="ident">signBytes</label> := <label for="r98" class="ident">opts</label>.<a href="#line-284" class="ident">SignBytes</a>
	<span class="keyword">if</span> <label for="r98" class="ident">opts</label>.<a href="#line-267" class="ident">PrivateKey</a> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<label for="r121" class="ident">key</label>, <label for="r122" class="ident">err</label> := <a href="#line-1026" class="ident">parseKey</a>(<label for="r98" class="ident">opts</label>.<a href="#line-267" class="ident">PrivateKey</a>)
		<span class="keyword">if</span> <label for="r122" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
			<span class="keyword">return</span> <span class="lit-string">""</span>, <label for="r122" class="ident">err</label>
		}
		<label for="r120" class="ident">signBytes</label> = <span class="keyword">func</span>(<label for="r123" class="ident">b</label> []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>) ([]<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>, <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a>) {
			<label for="r124" class="ident">sum</label> := <a href="../../../../pkg/crypto/sha256.html" class="ident i5">sha256</a>.<a href="../../../crypto/sha256/sha256.go.html#line-254" class="ident">Sum256</a>(<label for="r123" class="ident">b</label>)
			<span class="keyword">return</span> <a href="../../../../pkg/crypto/rsa.html" class="ident i4">rsa</a>.<a href="../../../crypto/rsa/pkcs1v15.go.html#line-231" class="ident">SignPKCS1v15</a>(
				<a href="../../../../pkg/crypto/rand.html" class="ident i3">rand</a>.<a href="../../../crypto/rand/rand.go.html#line-19" class="ident">Reader</a>,
				<label for="r121" class="ident">key</label>,
				<a href="../../../../pkg/crypto.html" class="ident i2">crypto</a>.<a href="../../../crypto/crypto.go.html#line-73" class="ident">SHA256</a>,
				<label for="r124" class="ident">sum</label>[:],
			)
		}
	}
	<label for="r125" class="ident">b</label>, <label for="r126" class="ident">err</label> := <label for="r120" class="ident">signBytes</label>(<label for="r119" class="ident">signBuf</label>.<a href="../../../bytes/buffer.go.html#line-54" class="ident">Bytes</a>())
	<span class="keyword">if</span> <label for="r126" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span> <span class="lit-string">""</span>, <label for="r126" class="ident">err</label>
	}
	<label for="r127" class="ident">signature</label> := <a href="../../../../pkg/encoding/hex.html" class="ident i8">hex</a>.<a href="../../../encoding/hex/hex.go.html#line-98" class="ident">EncodeToString</a>(<label for="r125" class="ident">b</label>)
	<label for="r106" class="ident">canonicalQueryString</label>.<a href="../../../net/url/url.go.html#line-897" class="ident">Set</a>(<span class="lit-string">"X-Goog-Signature"</span>, <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>(<label for="r127" class="ident">signature</label>))
	<label for="r101" class="ident">u</label>.<a href="../../../net/url/url.go.html#line-366" class="ident">RawQuery</a> = <label for="r106" class="ident">canonicalQueryString</label>.<a href="../../../net/url/url.go.html#line-963" class="ident">Encode</a>()
	<span class="keyword">return</span> <label for="r101" class="ident">u</label>.<a href="../../../net/url/url.go.html#line-811" class="ident">String</a>(), <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> takes a list of headerKey:headervalue1,headervalue2,etc and sorts by header</span><span class="comment"> key.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> <label for="r128" class="ident"><a href="../../../../pkg/cloud.google.com/go/storage.html#name-sortHeadersByKey" class="ident">sortHeadersByKey</a></label>(<label for="r129" class="ident">hdrs</label> []<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>) []<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a> {
	<label for="r130" class="ident">headersMap</label> := <span class="keyword">map</span>[<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>]<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>{}
	<span class="keyword">var</span> <label for="r131" class="ident">headersKeys</label> []<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
	<span class="keyword">for</span> <label for="r132" class="ident">_</label>, <label for="r133" class="ident">h</label> := <span class="keyword">range</span> <label for="r129" class="ident">hdrs</label> {
		<label for="r134" class="ident">parts</label> := <a href="../../../../pkg/strings.html" class="ident i19">strings</a>.<a href="../../../strings/strings.go.html#line-299" class="ident">Split</a>(<label for="r133" class="ident">h</label>, <span class="lit-string">":"</span>)
		<label for="r135" class="ident">k</label> := <label for="r134" class="ident">parts</label>[<span class="lit-number">0</span>]
		<label for="r136" class="ident">v</label> := <label for="r134" class="ident">parts</label>[<span class="lit-number">1</span>]
		<label for="r130" class="ident">headersMap</label>[<label for="r135" class="ident">k</label>] = <label for="r136" class="ident">v</label>
		<label for="r131" class="ident">headersKeys</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r131" class="ident">headersKeys</label>, <label for="r135" class="ident">k</label>)
	}
	<a href="../../../../pkg/sort.html" class="ident i17">sort</a>.<a href="../../../sort/sort.go.html#line-335" class="ident">Strings</a>(<label for="r131" class="ident">headersKeys</label>)
	<span class="keyword">var</span> <label for="r137" class="ident">sorted</label> []<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
	<span class="keyword">for</span> <label for="r138" class="ident">_</label>, <label for="r139" class="ident">k</label> := <span class="keyword">range</span> <label for="r131" class="ident">headersKeys</label> {
		<label for="r140" class="ident">v</label> := <label for="r130" class="ident">headersMap</label>[<label for="r139" class="ident">k</label>]
		<label for="r137" class="ident">sorted</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r137" class="ident">sorted</label>, <a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-217" class="ident">Sprintf</a>(<span class="lit-string">"%s:%s"</span>, <label for="r139" class="ident">k</label>, <label for="r140" class="ident">v</label>))
	}
	<span class="keyword">return</span> <label for="r137" class="ident">sorted</label>
}

<span class="keyword">func</span> <label for="r141" class="ident"><a href="../../../../pkg/cloud.google.com/go/storage.html#name-signedURLV2" class="ident">signedURLV2</a></label>(<label for="r142" class="ident">bucket</label>, <label for="r143" class="ident">name</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>, <label for="r144" class="ident">opts</label> *<a href="#line-248" class="ident">SignedURLOptions</a>) (<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>, <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a>) {
	<label for="r145" class="ident">signBytes</label> := <label for="r144" class="ident">opts</label>.<a href="#line-284" class="ident">SignBytes</a>
	<span class="keyword">if</span> <label for="r144" class="ident">opts</label>.<a href="#line-267" class="ident">PrivateKey</a> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<label for="r146" class="ident">key</label>, <label for="r147" class="ident">err</label> := <a href="#line-1026" class="ident">parseKey</a>(<label for="r144" class="ident">opts</label>.<a href="#line-267" class="ident">PrivateKey</a>)
		<span class="keyword">if</span> <label for="r147" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
			<span class="keyword">return</span> <span class="lit-string">""</span>, <label for="r147" class="ident">err</label>
		}
		<label for="r145" class="ident">signBytes</label> = <span class="keyword">func</span>(<label for="r148" class="ident">b</label> []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>) ([]<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>, <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a>) {
			<label for="r149" class="ident">sum</label> := <a href="../../../../pkg/crypto/sha256.html" class="ident i5">sha256</a>.<a href="../../../crypto/sha256/sha256.go.html#line-254" class="ident">Sum256</a>(<label for="r148" class="ident">b</label>)
			<span class="keyword">return</span> <a href="../../../../pkg/crypto/rsa.html" class="ident i4">rsa</a>.<a href="../../../crypto/rsa/pkcs1v15.go.html#line-231" class="ident">SignPKCS1v15</a>(
				<a href="../../../../pkg/crypto/rand.html" class="ident i3">rand</a>.<a href="../../../crypto/rand/rand.go.html#line-19" class="ident">Reader</a>,
				<label for="r146" class="ident">key</label>,
				<a href="../../../../pkg/crypto.html" class="ident i2">crypto</a>.<a href="../../../crypto/crypto.go.html#line-73" class="ident">SHA256</a>,
				<label for="r149" class="ident">sum</label>[:],
			)
		}
	}

	<label for="r150" class="ident">u</label> := &amp;<a href="../../../../pkg/net/url.html" class="ident i13">url</a>.<a href="../../../net/url/url.go.html#line-358" class="ident">URL</a>{
		<a href="../../../net/url/url.go.html#line-363" class="ident">Path</a>: <a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-217" class="ident">Sprintf</a>(<span class="lit-string">"/%s/%s"</span>, <label for="r142" class="ident">bucket</label>, <label for="r143" class="ident">name</label>),
	}

	<label for="r151" class="ident">buf</label> := &amp;<a href="../../../../pkg/bytes.html" class="ident i0">bytes</a>.<a href="../../../bytes/buffer.go.html#line-20" class="ident">Buffer</a>{}
	<a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-202" class="ident">Fprintf</a>(<label for="r151" class="ident">buf</label>, <span class="lit-string">"%s\n"</span>, <label for="r144" class="ident">opts</label>.<a href="#line-289" class="ident">Method</a>)
	<a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-202" class="ident">Fprintf</a>(<label for="r151" class="ident">buf</label>, <span class="lit-string">"%s\n"</span>, <label for="r144" class="ident">opts</label>.<a href="#line-319" class="ident">MD5</a>)
	<a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-202" class="ident">Fprintf</a>(<label for="r151" class="ident">buf</label>, <span class="lit-string">"%s\n"</span>, <label for="r144" class="ident">opts</label>.<a href="#line-300" class="ident">ContentType</a>)
	<a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-202" class="ident">Fprintf</a>(<label for="r151" class="ident">buf</label>, <span class="lit-string">"%d\n"</span>, <label for="r144" class="ident">opts</label>.<a href="#line-295" class="ident">Expires</a>.<a href="../../../time/time.go.html#line-1127" class="ident">Unix</a>())
	<span class="keyword">if</span> <a href="../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r144" class="ident">opts</label>.<a href="#line-306" class="ident">Headers</a>) &gt; <span class="lit-number">0</span> {
		<a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-202" class="ident">Fprintf</a>(<label for="r151" class="ident">buf</label>, <span class="lit-string">"%s\n"</span>, <a href="../../../../pkg/strings.html" class="ident i19">strings</a>.<a href="../../../strings/strings.go.html#line-421" class="ident">Join</a>(<label for="r144" class="ident">opts</label>.<a href="#line-306" class="ident">Headers</a>, <span class="lit-string">"\n"</span>))
	}
	<a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-202" class="ident">Fprintf</a>(<label for="r151" class="ident">buf</label>, <span class="lit-string">"%s"</span>, <label for="r150" class="ident">u</label>.<a href="../../../net/url/url.go.html#line-811" class="ident">String</a>())

	<label for="r152" class="ident">b</label>, <label for="r153" class="ident">err</label> := <label for="r145" class="ident">signBytes</label>(<label for="r151" class="ident">buf</label>.<a href="../../../bytes/buffer.go.html#line-54" class="ident">Bytes</a>())
	<span class="keyword">if</span> <label for="r153" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span> <span class="lit-string">""</span>, <label for="r153" class="ident">err</label>
	}
	<label for="r154" class="ident">encoded</label> := <a href="../../../../pkg/encoding/base64.html" class="ident i7">base64</a>.<a href="../../../encoding/base64/base64.go.html#line-99" class="ident">StdEncoding</a>.<a href="../../../encoding/base64/base64.go.html#line-177" class="ident">EncodeToString</a>(<label for="r152" class="ident">b</label>)
	<label for="r150" class="ident">u</label>.<a href="../../../net/url/url.go.html#line-359" class="ident">Scheme</a> = <span class="lit-string">"https"</span>
	<label for="r150" class="ident">u</label>.<a href="../../../net/url/url.go.html#line-362" class="ident">Host</a> = <span class="lit-string">"storage.googleapis.com"</span>
	<label for="r155" class="ident">q</label> := <label for="r150" class="ident">u</label>.<a href="../../../net/url/url.go.html#line-1109" class="ident">Query</a>()
	<label for="r155" class="ident">q</label>.<a href="../../../net/url/url.go.html#line-897" class="ident">Set</a>(<span class="lit-string">"GoogleAccessId"</span>, <label for="r144" class="ident">opts</label>.<a href="#line-253" class="ident">GoogleAccessID</a>)
	<label for="r155" class="ident">q</label>.<a href="../../../net/url/url.go.html#line-897" class="ident">Set</a>(<span class="lit-string">"Expires"</span>, <a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/print.go.html#line-217" class="ident">Sprintf</a>(<span class="lit-string">"%d"</span>, <label for="r144" class="ident">opts</label>.<a href="#line-295" class="ident">Expires</a>.<a href="../../../time/time.go.html#line-1127" class="ident">Unix</a>()))
	<label for="r155" class="ident">q</label>.<a href="../../../net/url/url.go.html#line-897" class="ident">Set</a>(<span class="lit-string">"Signature"</span>, <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>(<label for="r154" class="ident">encoded</label>))
	<label for="r150" class="ident">u</label>.<a href="../../../net/url/url.go.html#line-366" class="ident">RawQuery</a> = <label for="r155" class="ident">q</label>.<a href="../../../net/url/url.go.html#line-963" class="ident">Encode</a>()
	<span class="keyword">return</span> <label for="r150" class="ident">u</label>.<a href="../../../net/url/url.go.html#line-811" class="ident">String</a>(), <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> ObjectHandle provides operations on an object in a Google Cloud Storage bucket.</span><span class="comment"> Use BucketHandle.Object to get a handle.</span></div>
<div class="code"><pre><code><span class="keyword">type</span> <a href="../../../../pkg/cloud.google.com/go/storage.html#name-ObjectHandle" class="ident">ObjectHandle</a> <span class="keyword">struct</span> {
	<a href="../../../../use/cloud.google.com/go/storage..ObjectHandle.c*2e7d2.html" class="ident">c</a>              *<a href="#line-88" class="ident">Client</a>
	<a href="../../../../use/cloud.google.com/go/storage..ObjectHandle.bucket*c5879.html" class="ident">bucket</a>         <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
	<a href="../../../../use/cloud.google.com/go/storage..ObjectHandle.object*2958d.html" class="ident">object</a>         <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
	<a href="../../../../use/cloud.google.com/go/storage..ObjectHandle.acl*2344f.html" class="ident">acl</a>            <a href="acl.go.html#line-69" class="ident">ACLHandle</a>
	<a href="../../../../use/cloud.google.com/go/storage..ObjectHandle.gen*3b6a7.html" class="ident">gen</a>            <a href="../../../../pkg/builtin.html#name-int64" class="ident">int64</a> <span class="comment">// a negative value indicates latest</span>
	<a href="../../../../use/cloud.google.com/go/storage..ObjectHandle.conds*7a94f.html" class="ident">conds</a>          *<a href="#line-1376" class="ident">Conditions</a>
	<a href="../../../../use/cloud.google.com/go/storage..ObjectHandle.encryptionKey*c99c9.html" class="ident">encryptionKey</a>  []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a> <span class="comment">// AES-256 key</span>
	<a href="../../../../use/cloud.google.com/go/storage..ObjectHandle.userProject*d908c.html" class="ident">userProject</a>    <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a> <span class="comment">// for requester-pays buckets</span>
	<a href="../../../../use/cloud.google.com/go/storage..ObjectHandle.readCompressed*de767.html" class="ident">readCompressed</a> <a href="../../../../pkg/builtin.html#name-bool" class="ident">bool</a>   <span class="comment">// Accept-Encoding: gzip</span>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> ACL provides access to the object's access control list.</span><span class="comment"> This controls who can read and write this object.</span><span class="comment"> This call does not perform any network operations.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r156" class="ident">o</label> *<a href="#line-735" class="ident">ObjectHandle</a>) <label for="r157" class="ident"><a href="../../../../use/cloud.google.com/go/storage..ObjectHandle.ACL.html" class="ident">ACL</a></label>() *<a href="acl.go.html#line-69" class="ident">ACLHandle</a> {
	<span class="keyword">return</span> &amp;<label for="r156" class="ident">o</label>.<a href="#line-739" class="ident">acl</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Generation returns a new ObjectHandle that operates on a specific generation</span><span class="comment"> of the object.</span><span class="comment"> By default, the handle operates on the latest generation. Not</span><span class="comment"> all operations work when given a specific generation; check the API</span><span class="comment"> endpoints at https://cloud.google.com/storage/docs/json_api/ for details.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r158" class="ident">o</label> *<a href="#line-735" class="ident">ObjectHandle</a>) <label for="r159" class="ident"><a href="../../../../use/cloud.google.com/go/storage..ObjectHandle.Generation.html" class="ident">Generation</a></label>(<label for="r160" class="ident">gen</label> <a href="../../../../pkg/builtin.html#name-int64" class="ident">int64</a>) *<a href="#line-735" class="ident">ObjectHandle</a> {
	<label for="r161" class="ident">o2</label> := *<label for="r158" class="ident">o</label>
	<label for="r161" class="ident">o2</label>.<a href="#line-740" class="ident">gen</a> = <label for="r160" class="ident">gen</label>
	<span class="keyword">return</span> &amp;<label for="r161" class="ident">o2</label>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> If returns a new ObjectHandle that applies a set of preconditions.</span><span class="comment"> Preconditions already set on the ObjectHandle are ignored.</span><span class="comment"> Operations on the new handle will return an error if the preconditions are not</span><span class="comment"> satisfied. See https://cloud.google.com/storage/docs/generations-preconditions</span><span class="comment"> for more details.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r162" class="ident">o</label> *<a href="#line-735" class="ident">ObjectHandle</a>) <label for="r163" class="ident"><a href="../../../../use/cloud.google.com/go/storage..ObjectHandle.If*1e3ab.html" class="ident">If</a></label>(<label for="r164" class="ident">conds</label> <a href="#line-1376" class="ident">Conditions</a>) *<a href="#line-735" class="ident">ObjectHandle</a> {
	<label for="r165" class="ident">o2</label> := *<label for="r162" class="ident">o</label>
	<label for="r165" class="ident">o2</label>.<a href="#line-741" class="ident">conds</a> = &amp;<label for="r164" class="ident">conds</label>
	<span class="keyword">return</span> &amp;<label for="r165" class="ident">o2</label>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Key returns a new ObjectHandle that uses the supplied encryption</span><span class="comment"> key to encrypt and decrypt the object's contents.</span><span class="comment"></span><span class="comment"> Encryption key must be a 32-byte AES-256 key.</span><span class="comment"> See https://cloud.google.com/storage/docs/encryption for details.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r166" class="ident">o</label> *<a href="#line-735" class="ident">ObjectHandle</a>) <label for="r167" class="ident"><a href="../../../../use/cloud.google.com/go/storage..ObjectHandle.Key.html" class="ident">Key</a></label>(<label for="r168" class="ident">encryptionKey</label> []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>) *<a href="#line-735" class="ident">ObjectHandle</a> {
	<label for="r169" class="ident">o2</label> := *<label for="r166" class="ident">o</label>
	<label for="r169" class="ident">o2</label>.<a href="#line-742" class="ident">encryptionKey</a> = <label for="r168" class="ident">encryptionKey</label>
	<span class="keyword">return</span> &amp;<label for="r169" class="ident">o2</label>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Attrs returns meta information about the object.</span><span class="comment"> ErrObjectNotExist will be returned if the object is not found.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r170" class="ident">o</label> *<a href="#line-735" class="ident">ObjectHandle</a>) <label for="r171" class="ident"><a href="../../../../use/cloud.google.com/go/storage..ObjectHandle.Attrs.html" class="ident">Attrs</a></label>(<label for="r172" class="ident">ctx</label> <a href="../../../../pkg/context.html" class="ident i1">context</a>.<a href="../../../context/context.go.html#line-62" class="ident">Context</a>) (<label for="r173" class="ident">attrs</label> *<a href="#line-1068" class="ident">ObjectAttrs</a>, <label for="r174" class="ident">err</label> <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a>) {
	<label for="r172" class="ident">ctx</label> = <a href="../../../../pkg/cloud.google.com/go/internal/trace.html" class="ident i23">trace</a>.<a href="../internal/trace/trace.go.html#line-28" class="ident">StartSpan</a>(<label for="r172" class="ident">ctx</label>, <span class="lit-string">"cloud.google.com/go/storage.Object.Attrs"</span>)
	<span class="keyword">defer</span> <span class="keyword">func</span>() { <a href="../../../../pkg/cloud.google.com/go/internal/trace.html" class="ident i23">trace</a>.<a href="../internal/trace/trace.go.html#line-34" class="ident">EndSpan</a>(<label for="r172" class="ident">ctx</label>, <label for="r174" class="ident">err</label>) }()

	<span class="keyword">if</span> <label for="r175" class="ident">err</label> := <label for="r170" class="ident">o</label>.<a href="#line-1009" class="ident">validate</a>(); <label for="r175" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>, <label for="r175" class="ident">err</label>
	}
	<label for="r176" class="ident">call</label> := <label for="r170" class="ident">o</label>.<a href="#line-736" class="ident">c</a>.<a href="#line-90" class="ident">raw</a>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-167" class="ident">Objects</a>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-9392" class="ident">Get</a>(<label for="r170" class="ident">o</label>.<a href="#line-737" class="ident">bucket</a>, <label for="r170" class="ident">o</label>.<a href="#line-738" class="ident">object</a>).<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-9449" class="ident">Projection</a>(<span class="lit-string">"full"</span>).<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-9490" class="ident">Context</a>(<label for="r172" class="ident">ctx</label>)
	<span class="keyword">if</span> <label for="r177" class="ident">err</label> := <a href="#line-1443" class="ident">applyConds</a>(<span class="lit-string">"Attrs"</span>, <label for="r170" class="ident">o</label>.<a href="#line-740" class="ident">gen</a>, <label for="r170" class="ident">o</label>.<a href="#line-741" class="ident">conds</a>, <label for="r176" class="ident">call</label>); <label for="r177" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>, <label for="r177" class="ident">err</label>
	}
	<span class="keyword">if</span> <label for="r170" class="ident">o</label>.<a href="#line-743" class="ident">userProject</a> != <span class="lit-string">""</span> {
		<label for="r176" class="ident">call</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-9464" class="ident">UserProject</a>(<label for="r170" class="ident">o</label>.<a href="#line-743" class="ident">userProject</a>)
	}
	<span class="keyword">if</span> <label for="r178" class="ident">err</label> := <a href="#line-1578" class="ident">setEncryptionHeaders</a>(<label for="r176" class="ident">call</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-9497" class="ident">Header</a>(), <label for="r170" class="ident">o</label>.<a href="#line-742" class="ident">encryptionKey</a>, <a href="../../../../pkg/builtin.html#name-false" class="ident">false</a>); <label for="r178" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>, <label for="r178" class="ident">err</label>
	}
	<span class="keyword">var</span> <label for="r179" class="ident">obj</label> *<a href="../../../../pkg/google.golang.org/api/storage/v1.html" class="ident i27">raw</a>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1666" class="ident">Object</a>
	<a href="#line-80" class="ident">setClientHeader</a>(<label for="r176" class="ident">call</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-9497" class="ident">Header</a>())
	<label for="r174" class="ident">err</label> = <a href="invoke.go.html#line-26" class="ident">runWithRetry</a>(<label for="r172" class="ident">ctx</label>, <span class="keyword">func</span>() <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a> { <label for="r179" class="ident">obj</label>, <label for="r174" class="ident">err</label> = <label for="r176" class="ident">call</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-9554" class="ident">Do</a>(); <span class="keyword">return</span> <label for="r174" class="ident">err</label> })
	<span class="keyword">if</span> <label for="r180" class="ident">e</label>, <label for="r181" class="ident">ok</label> := <label for="r174" class="ident">err</label>.(*<a href="../../../../pkg/google.golang.org/api/googleapi.html" class="ident i25">googleapi</a>.<a href="../../../google.golang.org/api/googleapi/googleapi.go.html#line-66" class="ident">Error</a>); <label for="r181" class="ident">ok</label> &amp;&amp; <label for="r180" class="ident">e</label>.<a href="../../../google.golang.org/api/googleapi/googleapi.go.html#line-68" class="ident">Code</a> == <a href="../../../../pkg/net/http.html" class="ident i12">http</a>.<a href="../../../net/http/status.go.html#line-40" class="ident">StatusNotFound</a> {
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>, <a href="#line-57" class="ident">ErrObjectNotExist</a>
	}
	<span class="keyword">if</span> <label for="r174" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>, <label for="r174" class="ident">err</label>
	}
	<span class="keyword">return</span> <a href="#line-1214" class="ident">newObject</a>(<label for="r179" class="ident">obj</label>), <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Update updates an object with the provided attributes.</span><span class="comment"> All zero-value attributes are ignored.</span><span class="comment"> ErrObjectNotExist will be returned if the object is not found.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r182" class="ident">o</label> *<a href="#line-735" class="ident">ObjectHandle</a>) <label for="r183" class="ident"><a href="../../../../use/cloud.google.com/go/storage..ObjectHandle.Update.html" class="ident">Update</a></label>(<label for="r184" class="ident">ctx</label> <a href="../../../../pkg/context.html" class="ident i1">context</a>.<a href="../../../context/context.go.html#line-62" class="ident">Context</a>, <label for="r185" class="ident">uattrs</label> <a href="#line-935" class="ident">ObjectAttrsToUpdate</a>) (<label for="r186" class="ident">oa</label> *<a href="#line-1068" class="ident">ObjectAttrs</a>, <label for="r187" class="ident">err</label> <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a>) {
	<label for="r184" class="ident">ctx</label> = <a href="../../../../pkg/cloud.google.com/go/internal/trace.html" class="ident i23">trace</a>.<a href="../internal/trace/trace.go.html#line-28" class="ident">StartSpan</a>(<label for="r184" class="ident">ctx</label>, <span class="lit-string">"cloud.google.com/go/storage.Object.Update"</span>)
	<span class="keyword">defer</span> <span class="keyword">func</span>() { <a href="../../../../pkg/cloud.google.com/go/internal/trace.html" class="ident i23">trace</a>.<a href="../internal/trace/trace.go.html#line-34" class="ident">EndSpan</a>(<label for="r184" class="ident">ctx</label>, <label for="r187" class="ident">err</label>) }()

	<span class="keyword">if</span> <label for="r188" class="ident">err</label> := <label for="r182" class="ident">o</label>.<a href="#line-1009" class="ident">validate</a>(); <label for="r188" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>, <label for="r188" class="ident">err</label>
	}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Lists of fields to send, and set to null, in the JSON.</span></div>
<div class="code"><pre><code>	<span class="keyword">var</span> <label for="r190" class="ident">forceSendFields</label>, <label for="r191" class="ident">nullFields</label> []<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
	<span class="keyword">if</span> <label for="r185" class="ident">uattrs</label>.<a href="#line-938" class="ident">ContentType</a> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> For ContentType, sending the empty string is a no-op.</span><span class="comment">		 Instead we send a null.</span></div>
<div class="code"><pre><code>		<span class="keyword">if</span> <label for="r189" class="ident">attrs</label>.<a href="#line-1078" class="ident">ContentType</a> == <span class="lit-string">""</span> {
			<label for="r191" class="ident">nullFields</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r191" class="ident">nullFields</label>, <span class="lit-string">"ContentType"</span>)
		} <span class="keyword">else</span> {
			<label for="r190" class="ident">forceSendFields</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r190" class="ident">forceSendFields</label>, <span class="lit-string">"ContentType"</span>)
		}
	}
	<span class="keyword">if</span> <label for="r185" class="ident">uattrs</label>.<a href="#line-939" class="ident">ContentLanguage</a> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> For ContentLanguage it's an error to send the empty string.</span><span class="comment">		 Instead we send a null.</span></div>
<div class="code"><pre><code>		<span class="keyword">if</span> <label for="r189" class="ident">attrs</label>.<a href="#line-1081" class="ident">ContentLanguage</a> == <span class="lit-string">""</span> {
			<label for="r191" class="ident">nullFields</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r191" class="ident">nullFields</label>, <span class="lit-string">"ContentLanguage"</span>)
		} <span class="keyword">else</span> {
			<label for="r190" class="ident">forceSendFields</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r190" class="ident">forceSendFields</label>, <span class="lit-string">"ContentLanguage"</span>)
		}
	}
	<span class="keyword">if</span> <label for="r185" class="ident">uattrs</label>.<a href="#line-940" class="ident">ContentEncoding</a> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<label for="r189" class="ident">attrs</label>.<a href="#line-1122" class="ident">ContentEncoding</a> = <a href="../../../../pkg/cloud.google.com/go/internal/optional.html" class="ident i22">optional</a>.<a href="../internal/optional/optional.go.html#line-58" class="ident">ToString</a>(<label for="r185" class="ident">uattrs</label>.<a href="#line-940" class="ident">ContentEncoding</a>)
		<label for="r190" class="ident">forceSendFields</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r190" class="ident">forceSendFields</label>, <span class="lit-string">"ContentEncoding"</span>)
	}
	<span class="keyword">if</span> <label for="r185" class="ident">uattrs</label>.<a href="#line-941" class="ident">ContentDisposition</a> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<label for="r189" class="ident">attrs</label>.<a href="#line-1126" class="ident">ContentDisposition</a> = <a href="../../../../pkg/cloud.google.com/go/internal/optional.html" class="ident i22">optional</a>.<a href="../internal/optional/optional.go.html#line-58" class="ident">ToString</a>(<label for="r185" class="ident">uattrs</label>.<a href="#line-941" class="ident">ContentDisposition</a>)
		<label for="r190" class="ident">forceSendFields</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r190" class="ident">forceSendFields</label>, <span class="lit-string">"ContentDisposition"</span>)
	}
	<span class="keyword">if</span> <label for="r185" class="ident">uattrs</label>.<a href="#line-942" class="ident">CacheControl</a> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<label for="r189" class="ident">attrs</label>.<a href="#line-1085" class="ident">CacheControl</a> = <a href="../../../../pkg/cloud.google.com/go/internal/optional.html" class="ident i22">optional</a>.<a href="../internal/optional/optional.go.html#line-58" class="ident">ToString</a>(<label for="r185" class="ident">uattrs</label>.<a href="#line-942" class="ident">CacheControl</a>)
		<label for="r190" class="ident">forceSendFields</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r190" class="ident">forceSendFields</label>, <span class="lit-string">"CacheControl"</span>)
	}
	<span class="keyword">if</span> <label for="r185" class="ident">uattrs</label>.<a href="#line-936" class="ident">EventBasedHold</a> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<label for="r189" class="ident">attrs</label>.<a href="#line-1090" class="ident">EventBasedHold</a> = <a href="../../../../pkg/cloud.google.com/go/internal/optional.html" class="ident i22">optional</a>.<a href="../internal/optional/optional.go.html#line-48" class="ident">ToBool</a>(<label for="r185" class="ident">uattrs</label>.<a href="#line-936" class="ident">EventBasedHold</a>)
		<label for="r190" class="ident">forceSendFields</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r190" class="ident">forceSendFields</label>, <span class="lit-string">"EventBasedHold"</span>)
	}
	<span class="keyword">if</span> <label for="r185" class="ident">uattrs</label>.<a href="#line-937" class="ident">TemporaryHold</a> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<label for="r189" class="ident">attrs</label>.<a href="#line-1095" class="ident">TemporaryHold</a> = <a href="../../../../pkg/cloud.google.com/go/internal/optional.html" class="ident i22">optional</a>.<a href="../internal/optional/optional.go.html#line-48" class="ident">ToBool</a>(<label for="r185" class="ident">uattrs</label>.<a href="#line-937" class="ident">TemporaryHold</a>)
		<label for="r190" class="ident">forceSendFields</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r190" class="ident">forceSendFields</label>, <span class="lit-string">"TemporaryHold"</span>)
	}
	<span class="keyword">if</span> <label for="r185" class="ident">uattrs</label>.<a href="#line-943" class="ident">Metadata</a> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<label for="r189" class="ident">attrs</label>.<a href="#line-1145" class="ident">Metadata</a> = <label for="r185" class="ident">uattrs</label>.<a href="#line-943" class="ident">Metadata</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Sending the empty map is a no-op. We send null instead.</span></div>
<div class="code"><pre><code>			<label for="r191" class="ident">nullFields</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r191" class="ident">nullFields</label>, <span class="lit-string">"Metadata"</span>)
		} <span class="keyword">else</span> {
			<label for="r190" class="ident">forceSendFields</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r190" class="ident">forceSendFields</label>, <span class="lit-string">"Metadata"</span>)
		}
	}
	<span class="keyword">if</span> <label for="r185" class="ident">uattrs</label>.<a href="#line-944" class="ident">ACL</a> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> It's an error to attempt to delete the ACL, so</span><span class="comment">		 we don't append to nullFields here.</span></div>
<div class="code"><pre><code>		<label for="r190" class="ident">forceSendFields</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r190" class="ident">forceSendFields</label>, <span class="lit-string">"Acl"</span>)
	}
	<label for="r192" class="ident">rawObj</label> := <label for="r189" class="ident">attrs</label>.<a href="#line-1045" class="ident">toRawObject</a>(<label for="r182" class="ident">o</label>.<a href="#line-737" class="ident">bucket</a>)
	<label for="r192" class="ident">rawObj</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1822" class="ident">ForceSendFields</a> = <label for="r190" class="ident">forceSendFields</label>
	<label for="r192" class="ident">rawObj</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1830" class="ident">NullFields</a> = <label for="r191" class="ident">nullFields</label>
	<label for="r193" class="ident">call</label> := <label for="r182" class="ident">o</label>.<a href="#line-736" class="ident">c</a>.<a href="#line-90" class="ident">raw</a>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-167" class="ident">Objects</a>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-10638" class="ident">Patch</a>(<label for="r182" class="ident">o</label>.<a href="#line-737" class="ident">bucket</a>, <label for="r182" class="ident">o</label>.<a href="#line-738" class="ident">object</a>, <label for="r192" class="ident">rawObj</label>).<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-10716" class="ident">Projection</a>(<span class="lit-string">"full"</span>).<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-10747" class="ident">Context</a>(<label for="r184" class="ident">ctx</label>)
	<span class="keyword">if</span> <label for="r194" class="ident">err</label> := <a href="#line-1443" class="ident">applyConds</a>(<span class="lit-string">"Update"</span>, <label for="r182" class="ident">o</label>.<a href="#line-740" class="ident">gen</a>, <label for="r182" class="ident">o</label>.<a href="#line-741" class="ident">conds</a>, <label for="r193" class="ident">call</label>); <label for="r194" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>, <label for="r194" class="ident">err</label>
	}
	<span class="keyword">if</span> <label for="r182" class="ident">o</label>.<a href="#line-743" class="ident">userProject</a> != <span class="lit-string">""</span> {
		<label for="r193" class="ident">call</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-10731" class="ident">UserProject</a>(<label for="r182" class="ident">o</label>.<a href="#line-743" class="ident">userProject</a>)
	}
	<span class="keyword">if</span> <label for="r185" class="ident">uattrs</label>.<a href="#line-948" class="ident">PredefinedACL</a> != <span class="lit-string">""</span> {
		<label for="r193" class="ident">call</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-10705" class="ident">PredefinedAcl</a>(<label for="r185" class="ident">uattrs</label>.<a href="#line-948" class="ident">PredefinedACL</a>)
	}
	<span class="keyword">if</span> <label for="r195" class="ident">err</label> := <a href="#line-1578" class="ident">setEncryptionHeaders</a>(<label for="r193" class="ident">call</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-10754" class="ident">Header</a>(), <label for="r182" class="ident">o</label>.<a href="#line-742" class="ident">encryptionKey</a>, <a href="../../../../pkg/builtin.html#name-false" class="ident">false</a>); <label for="r195" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>, <label for="r195" class="ident">err</label>
	}
	<span class="keyword">var</span> <label for="r196" class="ident">obj</label> *<a href="../../../../pkg/google.golang.org/api/storage/v1.html" class="ident i27">raw</a>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1666" class="ident">Object</a>
	<a href="#line-80" class="ident">setClientHeader</a>(<label for="r193" class="ident">call</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-10754" class="ident">Header</a>())
	<label for="r187" class="ident">err</label> = <a href="invoke.go.html#line-26" class="ident">runWithRetry</a>(<label for="r184" class="ident">ctx</label>, <span class="keyword">func</span>() <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a> { <label for="r196" class="ident">obj</label>, <label for="r187" class="ident">err</label> = <label for="r193" class="ident">call</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-10797" class="ident">Do</a>(); <span class="keyword">return</span> <label for="r187" class="ident">err</label> })
	<span class="keyword">if</span> <label for="r197" class="ident">e</label>, <label for="r198" class="ident">ok</label> := <label for="r187" class="ident">err</label>.(*<a href="../../../../pkg/google.golang.org/api/googleapi.html" class="ident i25">googleapi</a>.<a href="../../../google.golang.org/api/googleapi/googleapi.go.html#line-66" class="ident">Error</a>); <label for="r198" class="ident">ok</label> &amp;&amp; <label for="r197" class="ident">e</label>.<a href="../../../google.golang.org/api/googleapi/googleapi.go.html#line-68" class="ident">Code</a> == <a href="../../../../pkg/net/http.html" class="ident i12">http</a>.<a href="../../../net/http/status.go.html#line-40" class="ident">StatusNotFound</a> {
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>, <a href="#line-57" class="ident">ErrObjectNotExist</a>
	}
	<span class="keyword">if</span> <label for="r187" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>, <label for="r187" class="ident">err</label>
	}
	<span class="keyword">return</span> <a href="#line-1214" class="ident">newObject</a>(<label for="r196" class="ident">obj</label>), <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> BucketName returns the name of the bucket.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r199" class="ident">o</label> *<a href="#line-735" class="ident">ObjectHandle</a>) <label for="r200" class="ident"><a href="../../../../use/cloud.google.com/go/storage..ObjectHandle.BucketName.html" class="ident">BucketName</a></label>() <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a> {
	<span class="keyword">return</span> <label for="r199" class="ident">o</label>.<a href="#line-737" class="ident">bucket</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> ObjectName returns the name of the object.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r201" class="ident">o</label> *<a href="#line-735" class="ident">ObjectHandle</a>) <label for="r202" class="ident"><a href="../../../../use/cloud.google.com/go/storage..ObjectHandle.ObjectName.html" class="ident">ObjectName</a></label>() <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a> {
	<span class="keyword">return</span> <label for="r201" class="ident">o</label>.<a href="#line-738" class="ident">object</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> ObjectAttrsToUpdate is used to update the attributes of an object.</span><span class="comment"> Only fields set to non-nil values will be updated.</span><span class="comment"> Set a field to its zero value to delete it.</span><span class="comment"></span><span class="comment"> For example, to change ContentType and delete ContentEncoding and</span><span class="comment"> Metadata, use</span><span class="comment">    ObjectAttrsToUpdate{</span><span class="comment">        ContentType: "text/html",</span><span class="comment">        ContentEncoding: "",</span><span class="comment">        Metadata: map[string]string{},</span><span class="comment">    }</span></div>
<div class="code"><pre><code><span class="keyword">type</span> <a href="../../../../pkg/cloud.google.com/go/storage.html#name-ObjectAttrsToUpdate" class="ident">ObjectAttrsToUpdate</a> <span class="keyword">struct</span> {
	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrsToUpdate.EventBasedHold.html" class="ident">EventBasedHold</a>     <a href="../../../../pkg/cloud.google.com/go/internal/optional.html" class="ident i22">optional</a>.<a href="../internal/optional/optional.go.html#line-28" class="ident">Bool</a>
	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrsToUpdate.TemporaryHold.html" class="ident">TemporaryHold</a>      <a href="../../../../pkg/cloud.google.com/go/internal/optional.html" class="ident i22">optional</a>.<a href="../internal/optional/optional.go.html#line-28" class="ident">Bool</a>
	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrsToUpdate.ContentType.html" class="ident">ContentType</a>        <a href="../../../../pkg/cloud.google.com/go/internal/optional.html" class="ident i22">optional</a>.<a href="../internal/optional/optional.go.html#line-31" class="ident">String</a>
	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrsToUpdate.ContentLanguage.html" class="ident">ContentLanguage</a>    <a href="../../../../pkg/cloud.google.com/go/internal/optional.html" class="ident i22">optional</a>.<a href="../internal/optional/optional.go.html#line-31" class="ident">String</a>
	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrsToUpdate.ContentEncoding.html" class="ident">ContentEncoding</a>    <a href="../../../../pkg/cloud.google.com/go/internal/optional.html" class="ident i22">optional</a>.<a href="../internal/optional/optional.go.html#line-31" class="ident">String</a>
	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrsToUpdate.ContentDisposition.html" class="ident">ContentDisposition</a> <a href="../../../../pkg/cloud.google.com/go/internal/optional.html" class="ident i22">optional</a>.<a href="../internal/optional/optional.go.html#line-31" class="ident">String</a>
	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrsToUpdate.CacheControl.html" class="ident">CacheControl</a>       <a href="../../../../pkg/cloud.google.com/go/internal/optional.html" class="ident i22">optional</a>.<a href="../internal/optional/optional.go.html#line-31" class="ident">String</a>
	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrsToUpdate.Metadata.html" class="ident">Metadata</a>           <span class="keyword">map</span>[<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>]<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a> <span class="comment">// set to map[string]string{} to delete</span>
	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrsToUpdate.ACL.html" class="ident">ACL</a>                []<a href="acl.go.html#line-53" class="ident">ACLRule</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> If not empty, applies a predefined set of access controls. ACL must be nil.</span><span class="comment">	 See https://cloud.google.com/storage/docs/json_api/v1/objects/patch.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrsToUpdate.PredefinedACL.html" class="ident">PredefinedACL</a> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Delete deletes the single specified object.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r203" class="ident">o</label> *<a href="#line-735" class="ident">ObjectHandle</a>) <label for="r204" class="ident"><a href="../../../../use/cloud.google.com/go/storage..ObjectHandle.Delete.html" class="ident">Delete</a></label>(<label for="r205" class="ident">ctx</label> <a href="../../../../pkg/context.html" class="ident i1">context</a>.<a href="../../../context/context.go.html#line-62" class="ident">Context</a>) <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a> {
	<span class="keyword">if</span> <label for="r206" class="ident">err</label> := <label for="r203" class="ident">o</label>.<a href="#line-1009" class="ident">validate</a>(); <label for="r206" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span> <label for="r206" class="ident">err</label>
	}
	<label for="r207" class="ident">call</label> := <label for="r203" class="ident">o</label>.<a href="#line-736" class="ident">c</a>.<a href="#line-90" class="ident">raw</a>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-167" class="ident">Objects</a>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-9180" class="ident">Delete</a>(<label for="r203" class="ident">o</label>.<a href="#line-737" class="ident">bucket</a>, <label for="r203" class="ident">o</label>.<a href="#line-738" class="ident">object</a>).<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-9257" class="ident">Context</a>(<label for="r205" class="ident">ctx</label>)
	<span class="keyword">if</span> <label for="r208" class="ident">err</label> := <a href="#line-1443" class="ident">applyConds</a>(<span class="lit-string">"Delete"</span>, <label for="r203" class="ident">o</label>.<a href="#line-740" class="ident">gen</a>, <label for="r203" class="ident">o</label>.<a href="#line-741" class="ident">conds</a>, <label for="r207" class="ident">call</label>); <label for="r208" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span> <label for="r208" class="ident">err</label>
	}
	<span class="keyword">if</span> <label for="r203" class="ident">o</label>.<a href="#line-743" class="ident">userProject</a> != <span class="lit-string">""</span> {
		<label for="r207" class="ident">call</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-9241" class="ident">UserProject</a>(<label for="r203" class="ident">o</label>.<a href="#line-743" class="ident">userProject</a>)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Encryption doesn't apply to Delete.</span></div>
<div class="code"><pre><code>	<a href="#line-80" class="ident">setClientHeader</a>(<label for="r207" class="ident">call</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-9264" class="ident">Header</a>())
	<label for="r209" class="ident">err</label> := <a href="invoke.go.html#line-26" class="ident">runWithRetry</a>(<label for="r205" class="ident">ctx</label>, <span class="keyword">func</span>() <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a> { <span class="keyword">return</span> <label for="r207" class="ident">call</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-9296" class="ident">Do</a>() })
	<span class="keyword">switch</span> e := <label for="r209" class="ident">err</label>.(<span class="keyword">type</span>) {
	<span class="keyword">case</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>:
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
	<span class="keyword">case</span> *<a href="../../../../pkg/google.golang.org/api/googleapi.html" class="ident i25">googleapi</a>.<a href="../../../google.golang.org/api/googleapi/googleapi.go.html#line-66" class="ident">Error</a>:
		<span class="keyword">if</span> <label for="r210" class="ident">e</label>.<a href="../../../google.golang.org/api/googleapi/googleapi.go.html#line-68" class="ident">Code</a> == <a href="../../../../pkg/net/http.html" class="ident i12">http</a>.<a href="../../../net/http/status.go.html#line-40" class="ident">StatusNotFound</a> {
			<span class="keyword">return</span> <a href="#line-57" class="ident">ErrObjectNotExist</a>
		}
	}
	<span class="keyword">return</span> <label for="r209" class="ident">err</label>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> ReadCompressed when true causes the read to happen without decompressing.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r211" class="ident">o</label> *<a href="#line-735" class="ident">ObjectHandle</a>) <label for="r212" class="ident"><a href="../../../../use/cloud.google.com/go/storage..ObjectHandle.ReadCompressed.html" class="ident">ReadCompressed</a></label>(<label for="r213" class="ident">compressed</label> <a href="../../../../pkg/builtin.html#name-bool" class="ident">bool</a>) *<a href="#line-735" class="ident">ObjectHandle</a> {
	<label for="r214" class="ident">o2</label> := *<label for="r211" class="ident">o</label>
	<label for="r214" class="ident">o2</label>.<a href="#line-744" class="ident">readCompressed</a> = <label for="r213" class="ident">compressed</label>
	<span class="keyword">return</span> &amp;<label for="r214" class="ident">o2</label>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> NewWriter returns a storage Writer that writes to the GCS object</span><span class="comment"> associated with this ObjectHandle.</span><span class="comment"></span><span class="comment"> A new object will be created unless an object with this name already exists.</span><span class="comment"> Otherwise any previous object with the same name will be replaced.</span><span class="comment"> The object will not be available (and any previous object will remain)</span><span class="comment"> until Close has been called.</span><span class="comment"></span><span class="comment"> Attributes can be set on the object by modifying the returned Writer's</span><span class="comment"> ObjectAttrs field before the first call to Write. If no ContentType</span><span class="comment"> attribute is specified, the content type will be automatically sniffed</span><span class="comment"> using net/http.DetectContentType.</span><span class="comment"></span><span class="comment"> It is the caller's responsibility to call Close when writing is done. To</span><span class="comment"> stop writing without saving the data, cancel the context.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r215" class="ident">o</label> *<a href="#line-735" class="ident">ObjectHandle</a>) <label for="r216" class="ident"><a href="../../../../use/cloud.google.com/go/storage..ObjectHandle.NewWriter.html" class="ident">NewWriter</a></label>(<label for="r217" class="ident">ctx</label> <a href="../../../../pkg/context.html" class="ident i1">context</a>.<a href="../../../context/context.go.html#line-62" class="ident">Context</a>) *<a href="writer.go.html#line-31" class="ident">Writer</a> {
	<span class="keyword">return</span> &amp;<a href="writer.go.html#line-31" class="ident">Writer</a>{
		<a href="writer.go.html#line-76" class="ident">ctx</a>:         <label for="r217" class="ident">ctx</label>,
		<a href="writer.go.html#line-77" class="ident">o</a>:           <label for="r215" class="ident">o</label>,
		<a href="writer.go.html#line-82" class="ident">donec</a>:       <a href="../../../runtime/chan.go.html#line-71">make</a>(<span class="keyword">chan</span> <span class="keyword">struct</span>{}),
		<a href="writer.go.html#line-35" class="ident">ObjectAttrs</a>: <a href="#line-1068" class="ident">ObjectAttrs</a>{<a href="#line-1075" class="ident">Name</a>: <label for="r215" class="ident">o</label>.<a href="#line-738" class="ident">object</a>},
		<a href="writer.go.html#line-64" class="ident">ChunkSize</a>:   <a href="../../../../pkg/google.golang.org/api/googleapi.html" class="ident i25">googleapi</a>.<a href="../../../google.golang.org/api/googleapi/googleapi.go.html#line-57" class="ident">DefaultUploadChunkSize</a>,
	}
}

<span class="keyword">func</span> (<label for="r218" class="ident">o</label> *<a href="#line-735" class="ident">ObjectHandle</a>) <label for="r219" class="ident"><a href="../../../../use/cloud.google.com/go/storage..ObjectHandle.validate*133c8.html" class="ident">validate</a></label>() <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a> {
	<span class="keyword">if</span> <label for="r218" class="ident">o</label>.<a href="#line-737" class="ident">bucket</a> == <span class="lit-string">""</span> {
		<span class="keyword">return</span> <a href="../../../../pkg/errors.html" class="ident i10">errors</a>.<a href="../../../errors/errors.go.html#line-58" class="ident">New</a>(<span class="lit-string">"storage: bucket name is empty"</span>)
	}
	<span class="keyword">if</span> <label for="r218" class="ident">o</label>.<a href="#line-738" class="ident">object</a> == <span class="lit-string">""</span> {
		<span class="keyword">return</span> <a href="../../../../pkg/errors.html" class="ident i10">errors</a>.<a href="../../../errors/errors.go.html#line-58" class="ident">New</a>(<span class="lit-string">"storage: object name is empty"</span>)
	}
	<span class="keyword">if</span> !<a href="../../../../pkg/unicode/utf8.html" class="ident i21">utf8</a>.<a href="../../../unicode/utf8/utf8.go.html#line-497" class="ident">ValidString</a>(<label for="r218" class="ident">o</label>.<a href="#line-738" class="ident">object</a>) {
		<span class="keyword">return</span> <a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/errors.go.html#line-17" class="ident">Errorf</a>(<span class="lit-string">"storage: object name %q is not valid UTF-8"</span>, <label for="r218" class="ident">o</label>.<a href="#line-738" class="ident">object</a>)
	}
	<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> parseKey converts the binary contents of a private key file to an</span><span class="comment"> *rsa.PrivateKey. It detects whether the private key is in a PEM container or</span><span class="comment"> not. If so, it extracts the private key from PEM container before</span><span class="comment"> conversion. It only supports PEM containers with no passphrase.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> <label for="r220" class="ident"><a href="../../../../pkg/cloud.google.com/go/storage.html#name-parseKey" class="ident">parseKey</a></label>(<label for="r221" class="ident">key</label> []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>) (*<a href="../../../../pkg/crypto/rsa.html" class="ident i4">rsa</a>.<a href="../../../crypto/rsa/rsa.go.html#line-100" class="ident">PrivateKey</a>, <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a>) {
	<span class="keyword">if</span> <label for="r222" class="ident">block</label>, <label for="r223" class="ident">_</label> := <a href="../../../../pkg/encoding/pem.html" class="ident i9">pem</a>.<a href="../../../encoding/pem/pem.go.html#line-86" class="ident">Decode</a>(<label for="r221" class="ident">key</label>); <label for="r222" class="ident">block</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<label for="r221" class="ident">key</label> = <label for="r222" class="ident">block</label>.<a href="../../../encoding/pem/pem.go.html#line-30" class="ident">Bytes</a>
	}
	<label for="r224" class="ident">parsedKey</label>, <label for="r225" class="ident">err</label> := <a href="../../../../pkg/crypto/x509.html" class="ident i6">x509</a>.<a href="../../../crypto/x509/pkcs8.go.html#line-33" class="ident">ParsePKCS8PrivateKey</a>(<label for="r221" class="ident">key</label>)
	<span class="keyword">if</span> <label for="r225" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<label for="r224" class="ident">parsedKey</label>, <label for="r225" class="ident">err</label> = <a href="../../../../pkg/crypto/x509.html" class="ident i6">x509</a>.<a href="../../../crypto/x509/pkcs1.go.html#line-47" class="ident">ParsePKCS1PrivateKey</a>(<label for="r221" class="ident">key</label>)
		<span class="keyword">if</span> <label for="r225" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
			<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>, <label for="r225" class="ident">err</label>
		}
	}
	<label for="r226" class="ident">parsed</label>, <label for="r227" class="ident">ok</label> := <label for="r224" class="ident">parsedKey</label>.(*<a href="../../../../pkg/crypto/rsa.html" class="ident i4">rsa</a>.<a href="../../../crypto/rsa/rsa.go.html#line-100" class="ident">PrivateKey</a>)
	<span class="keyword">if</span> !<label for="r227" class="ident">ok</label> {
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>, <a href="../../../../pkg/errors.html" class="ident i10">errors</a>.<a href="../../../errors/errors.go.html#line-58" class="ident">New</a>(<span class="lit-string">"oauth2: private key is invalid"</span>)
	}
	<span class="keyword">return</span> <label for="r226" class="ident">parsed</label>, <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> toRawObject copies the editable attributes from o to the raw library's Object type.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r228" class="ident">o</label> *<a href="#line-1068" class="ident">ObjectAttrs</a>) <label for="r229" class="ident"><a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.toRawObject*a59c3.html" class="ident">toRawObject</a></label>(<label for="r230" class="ident">bucket</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>) *<a href="../../../../pkg/google.golang.org/api/storage/v1.html" class="ident i27">raw</a>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1666" class="ident">Object</a> {
	<span class="keyword">var</span> <label for="r231" class="ident">ret</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
	<span class="keyword">if</span> !<label for="r228" class="ident">o</label>.<a href="#line-1100" class="ident">RetentionExpirationTime</a>.<a href="../../../time/time.go.html#line-426" class="ident">IsZero</a>() {
		<label for="r231" class="ident">ret</label> = <label for="r228" class="ident">o</label>.<a href="#line-1100" class="ident">RetentionExpirationTime</a>.<a href="../../../time/format.go.html#line-495" class="ident">Format</a>(<a href="../../../../pkg/time.html" class="ident i20">time</a>.<a href="../../../time/format.go.html#line-82" class="ident">RFC3339</a>)
	}
	<span class="keyword">return</span> &amp;<a href="../../../../pkg/google.golang.org/api/storage/v1.html" class="ident i27">raw</a>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1666" class="ident">Object</a>{
		<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1671" class="ident">Bucket</a>:                  <label for="r230" class="ident">bucket</label>,
		<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1762" class="ident">Name</a>:                    <label for="r228" class="ident">o</label>.<a href="#line-1075" class="ident">Name</a>,
		<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1725" class="ident">EventBasedHold</a>:          <label for="r228" class="ident">o</label>.<a href="#line-1090" class="ident">EventBasedHold</a>,
		<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1793" class="ident">TemporaryHold</a>:           <label for="r228" class="ident">o</label>.<a href="#line-1095" class="ident">TemporaryHold</a>,
		<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1775" class="ident">RetentionExpirationTime</a>: <label for="r231" class="ident">ret</label>,
		<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1693" class="ident">ContentType</a>:             <label for="r228" class="ident">o</label>.<a href="#line-1078" class="ident">ContentType</a>,
		<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1686" class="ident">ContentEncoding</a>:         <label for="r228" class="ident">o</label>.<a href="#line-1122" class="ident">ContentEncoding</a>,
		<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1689" class="ident">ContentLanguage</a>:         <label for="r228" class="ident">o</label>.<a href="#line-1081" class="ident">ContentLanguage</a>,
		<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1676" class="ident">CacheControl</a>:            <label for="r228" class="ident">o</label>.<a href="#line-1085" class="ident">CacheControl</a>,
		<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1683" class="ident">ContentDisposition</a>:      <label for="r228" class="ident">o</label>.<a href="#line-1126" class="ident">ContentDisposition</a>,
		<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1784" class="ident">StorageClass</a>:            <label for="r228" class="ident">o</label>.<a href="#line-1164" class="ident">StorageClass</a>,
		<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1668" class="ident">Acl</a>:                     <a href="acl.go.html#line-277" class="ident">toRawObjectACL</a>(<label for="r228" class="ident">o</label>.<a href="#line-1103" class="ident">ACL</a>),
		<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1752" class="ident">Metadata</a>:                <label for="r228" class="ident">o</label>.<a href="#line-1145" class="ident">Metadata</a>,
	}
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> ObjectAttrs represents the metadata for a Google Cloud Storage (GCS) object.</span></div>
<div class="code"><pre><code></code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Bucket is the name of the bucket containing this GCS object.</span><span class="comment">	 This field is read-only.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.Bucket.html" class="ident">Bucket</a> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Name is the name of the object within the bucket.</span><span class="comment">	 This field is read-only.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.Name.html" class="ident">Name</a> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> ContentType is the MIME type of the object's content.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.ContentType.html" class="ident">ContentType</a> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> ContentLanguage is the content language of the object's content.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.ContentLanguage.html" class="ident">ContentLanguage</a> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> CacheControl is the Cache-Control header to be sent in the response</span><span class="comment">	 headers when serving the object data.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.CacheControl.html" class="ident">CacheControl</a> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> EventBasedHold specifies whether an object is under event-based hold. New</span><span class="comment">	 objects created in a bucket whose DefaultEventBasedHold is set will</span><span class="comment">	 default to that value.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.EventBasedHold.html" class="ident">EventBasedHold</a> <a href="../../../../pkg/builtin.html#name-bool" class="ident">bool</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> TemporaryHold specifies whether an object is under temporary hold. While</span><span class="comment">	 this flag is set to true, the object is protected against deletion and</span><span class="comment">	 overwrites.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.TemporaryHold.html" class="ident">TemporaryHold</a> <a href="../../../../pkg/builtin.html#name-bool" class="ident">bool</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> RetentionExpirationTime is a server-determined value that specifies the</span><span class="comment">	 earliest time that the object's retention period expires.</span><span class="comment">	 This is a read-only field.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.RetentionExpirationTime.html" class="ident">RetentionExpirationTime</a> <a href="../../../../pkg/time.html" class="ident i20">time</a>.<a href="../../../time/time.go.html#line-127" class="ident">Time</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> ACL is the list of access control rules for the object.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.ACL.html" class="ident">ACL</a> []<a href="acl.go.html#line-53" class="ident">ACLRule</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> If not empty, applies a predefined set of access controls. It should be set</span><span class="comment">	 only when writing, copying or composing an object. When copying or composing,</span><span class="comment">	 it acts as the destinationPredefinedAcl parameter.</span><span class="comment">	 PredefinedACL is always empty for ObjectAttrs returned from the service.</span><span class="comment">	 See https://cloud.google.com/storage/docs/json_api/v1/objects/insert</span><span class="comment">	 for valid values.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.PredefinedACL.html" class="ident">PredefinedACL</a> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Owner is the owner of the object. This field is read-only.</span><span class="comment">	</span><span class="comment">	 If non-zero, it is in the form of "user-&lt;userId&gt;".</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.Owner.html" class="ident">Owner</a> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Size is the length of the object's content. This field is read-only.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.Size.html" class="ident">Size</a> <a href="../../../../pkg/builtin.html#name-int64" class="ident">int64</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> ContentEncoding is the encoding of the object's content.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.ContentEncoding.html" class="ident">ContentEncoding</a> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> ContentDisposition is the optional Content-Disposition header of the object</span><span class="comment">	 sent in the response headers.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.ContentDisposition.html" class="ident">ContentDisposition</a> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> MD5 is the MD5 hash of the object's content. This field is read-only,</span><span class="comment">	 except when used from a Writer. If set on a Writer, the uploaded</span><span class="comment">	 data is rejected if its MD5 hash does not match this field.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.MD5.html" class="ident">MD5</a> []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> CRC32C is the CRC32 checksum of the object's content using the Castagnoli93</span><span class="comment">	 polynomial. This field is read-only, except when used from a Writer or</span><span class="comment">	 Composer. In those cases, if the SendCRC32C field in the Writer or Composer</span><span class="comment">	 is set to is true, the uploaded data is rejected if its CRC32C hash does</span><span class="comment">	 not match this field.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.CRC32C.html" class="ident">CRC32C</a> <a href="../../../../pkg/builtin.html#name-uint32" class="ident">uint32</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> MediaLink is an URL to the object's content. This field is read-only.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.MediaLink.html" class="ident">MediaLink</a> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Metadata represents user-provided metadata, in key/value pairs.</span><span class="comment">	 It can be nil if no metadata is provided.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.Metadata.html" class="ident">Metadata</a> <span class="keyword">map</span>[<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>]<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Generation is the generation number of the object's content.</span><span class="comment">	 This field is read-only.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.Generation.html" class="ident">Generation</a> <a href="../../../../pkg/builtin.html#name-int64" class="ident">int64</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Metageneration is the version of the metadata for this</span><span class="comment">	 object at this generation. This field is used for preconditions</span><span class="comment">	 and for detecting changes in metadata. A metageneration number</span><span class="comment">	 is only meaningful in the context of a particular generation</span><span class="comment">	 of a particular object. This field is read-only.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.Metageneration*9e799.html" class="ident">Metageneration</a> <a href="../../../../pkg/builtin.html#name-int64" class="ident">int64</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> StorageClass is the storage class of the object. This defines</span><span class="comment">	 how objects are stored and determines the SLA and the cost of storage.</span><span class="comment">	 Typical values are "STANDARD", "NEARLINE", "COLDLINE" and "ARCHIVE".</span><span class="comment">	 Defaults to "STANDARD".</span><span class="comment">	 See https://cloud.google.com/storage/docs/storage-classes for all</span><span class="comment">	 valid values.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.StorageClass.html" class="ident">StorageClass</a> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Created is the time the object was created. This field is read-only.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.Created.html" class="ident">Created</a> <a href="../../../../pkg/time.html" class="ident i20">time</a>.<a href="../../../time/time.go.html#line-127" class="ident">Time</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Deleted is the time the object was deleted.</span><span class="comment">	 If not deleted, it is the zero value. This field is read-only.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.Deleted.html" class="ident">Deleted</a> <a href="../../../../pkg/time.html" class="ident i20">time</a>.<a href="../../../time/time.go.html#line-127" class="ident">Time</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Updated is the creation or modification time of the object.</span><span class="comment">	 For buckets with versioning enabled, changing an object's</span><span class="comment">	 metadata does not change this property. This field is read-only.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.Updated.html" class="ident">Updated</a> <a href="../../../../pkg/time.html" class="ident i20">time</a>.<a href="../../../time/time.go.html#line-127" class="ident">Time</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> CustomerKeySHA256 is the base64-encoded SHA-256 hash of the</span><span class="comment">	 customer-supplied encryption key for the object. It is empty if there is</span><span class="comment">	 no customer-supplied encryption key.</span><span class="comment">	 See // https://cloud.google.com/storage/docs/encryption for more about</span><span class="comment">	 encryption in Google Cloud Storage.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.CustomerKeySHA256.html" class="ident">CustomerKeySHA256</a> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Cloud KMS key name, in the form</span><span class="comment">	 projects/P/locations/L/keyRings/R/cryptoKeys/K, used to encrypt this object,</span><span class="comment">	 if the object is encrypted by such a key.</span><span class="comment">	</span><span class="comment">	 Providing both a KMSKeyName and a customer-supplied encryption key (via</span><span class="comment">	 ObjectHandle.Key) will result in an error when writing an object.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.KMSKeyName.html" class="ident">KMSKeyName</a> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Prefix is set only for ObjectAttrs which represent synthetic "directory</span><span class="comment">	 entries" when iterating over buckets using Query.Delimiter. See</span><span class="comment">	 ObjectIterator.Next. When set, no other fields in ObjectAttrs will be</span><span class="comment">	 populated.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.Prefix.html" class="ident">Prefix</a> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Etag is the HTTP/1.1 Entity tag for the object.</span><span class="comment">	 This field is read-only.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..ObjectAttrs.Etag.html" class="ident">Etag</a> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> convertTime converts a time in RFC3339 format to time.Time.</span><span class="comment"> If any error occurs in parsing, the zero-value time.Time is silently returned.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> <label for="r232" class="ident"><a href="../../../../pkg/cloud.google.com/go/storage.html#name-convertTime" class="ident">convertTime</a></label>(<label for="r233" class="ident">t</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>) <a href="../../../../pkg/time.html" class="ident i20">time</a>.<a href="../../../time/time.go.html#line-127" class="ident">Time</a> {
	<span class="keyword">var</span> <label for="r234" class="ident">r</label> <a href="../../../../pkg/time.html" class="ident i20">time</a>.<a href="../../../time/time.go.html#line-127" class="ident">Time</a>
	<span class="keyword">if</span> <label for="r233" class="ident">t</label> != <span class="lit-string">""</span> {
		<label for="r234" class="ident">r</label>, _ = <a href="../../../../pkg/time.html" class="ident i20">time</a>.<a href="../../../time/format.go.html#line-814" class="ident">Parse</a>(<a href="../../../../pkg/time.html" class="ident i20">time</a>.<a href="../../../time/format.go.html#line-82" class="ident">RFC3339</a>, <label for="r233" class="ident">t</label>)
	}
	<span class="keyword">return</span> <label for="r234" class="ident">r</label>
}

<span class="keyword">func</span> <label for="r235" class="ident"><a href="../../../../pkg/cloud.google.com/go/storage.html#name-newObject" class="ident">newObject</a></label>(<label for="r236" class="ident">o</label> *<a href="../../../../pkg/google.golang.org/api/storage/v1.html" class="ident i27">raw</a>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1666" class="ident">Object</a>) *<a href="#line-1068" class="ident">ObjectAttrs</a> {
	<span class="keyword">if</span> <label for="r236" class="ident">o</label> == <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
	}
	<label for="r237" class="ident">owner</label> := <span class="lit-string">""</span>
	<span class="keyword">if</span> <label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1766" class="ident">Owner</a> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<label for="r237" class="ident">owner</label> = <label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1766" class="ident">Owner</a>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1876" class="ident">Entity</a>
	}
	<label for="r238" class="ident">md5</label>, <label for="r239" class="ident">_</label> := <a href="../../../../pkg/encoding/base64.html" class="ident i7">base64</a>.<a href="../../../encoding/base64/base64.go.html#line-99" class="ident">StdEncoding</a>.<a href="../../../encoding/base64/base64.go.html#line-383" class="ident">DecodeString</a>(<label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1746" class="ident">Md5Hash</a>)
	<label for="r240" class="ident">crc32c</label>, <label for="r241" class="ident">_</label> := <a href="#line-1259" class="ident">decodeUint32</a>(<label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1699" class="ident">Crc32c</a>)
	<span class="keyword">var</span> <label for="r242" class="ident">sha256</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
	<span class="keyword">if</span> <label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1707" class="ident">CustomerEncryption</a> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<label for="r242" class="ident">sha256</label> = <label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1707" class="ident">CustomerEncryption</a>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1846" class="ident">KeySha256</a>
	}
	<span class="keyword">return</span> &amp;<a href="#line-1068" class="ident">ObjectAttrs</a>{
		<a href="#line-1071" class="ident">Bucket</a>:                  <label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1671" class="ident">Bucket</a>,
		<a href="#line-1075" class="ident">Name</a>:                    <label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1762" class="ident">Name</a>,
		<a href="#line-1078" class="ident">ContentType</a>:             <label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1693" class="ident">ContentType</a>,
		<a href="#line-1081" class="ident">ContentLanguage</a>:         <label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1689" class="ident">ContentLanguage</a>,
		<a href="#line-1085" class="ident">CacheControl</a>:            <label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1676" class="ident">CacheControl</a>,
		<a href="#line-1090" class="ident">EventBasedHold</a>:          <label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1725" class="ident">EventBasedHold</a>,
		<a href="#line-1095" class="ident">TemporaryHold</a>:           <label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1793" class="ident">TemporaryHold</a>,
		<a href="#line-1100" class="ident">RetentionExpirationTime</a>: <a href="#line-1206" class="ident">convertTime</a>(<label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1775" class="ident">RetentionExpirationTime</a>),
		<a href="#line-1103" class="ident">ACL</a>:                     <a href="acl.go.html#line-239" class="ident">toObjectACLRules</a>(<label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1668" class="ident">Acl</a>),
		<a href="#line-1116" class="ident">Owner</a>:                   <label for="r237" class="ident">owner</label>,
		<a href="#line-1122" class="ident">ContentEncoding</a>:         <label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1686" class="ident">ContentEncoding</a>,
		<a href="#line-1126" class="ident">ContentDisposition</a>:      <label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1683" class="ident">ContentDisposition</a>,
		<a href="#line-1119" class="ident">Size</a>:                    <a href="../../../../pkg/builtin.html#name-int64" class="ident">int64</a>(<label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1781" class="ident">Size</a>),
		<a href="#line-1131" class="ident">MD5</a>:                     <label for="r238" class="ident">md5</label>,
		<a href="#line-1138" class="ident">CRC32C</a>:                  <label for="r240" class="ident">crc32c</label>,
		<a href="#line-1141" class="ident">MediaLink</a>:               <label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1749" class="ident">MediaLink</a>,
		<a href="#line-1145" class="ident">Metadata</a>:                <label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1752" class="ident">Metadata</a>,
		<a href="#line-1149" class="ident">Generation</a>:              <label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1729" class="ident">Generation</a>,
		<a href="#line-1156" class="ident">Metageneration</a>:          <label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1758" class="ident">Metageneration</a>,
		<a href="#line-1164" class="ident">StorageClass</a>:            <label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1784" class="ident">StorageClass</a>,
		<a href="#line-1183" class="ident">CustomerKeySHA256</a>:       <label for="r242" class="ident">sha256</label>,
		<a href="#line-1191" class="ident">KMSKeyName</a>:              <label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1741" class="ident">KmsKeyName</a>,
		<a href="#line-1167" class="ident">Created</a>:                 <a href="#line-1206" class="ident">convertTime</a>(<label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1796" class="ident">TimeCreated</a>),
		<a href="#line-1171" class="ident">Deleted</a>:                 <a href="#line-1206" class="ident">convertTime</a>(<label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1801" class="ident">TimeDeleted</a>),
		<a href="#line-1176" class="ident">Updated</a>:                 <a href="#line-1206" class="ident">convertTime</a>(<label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1810" class="ident">Updated</a>),
		<a href="#line-1201" class="ident">Etag</a>:                    <label for="r236" class="ident">o</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1710" class="ident">Etag</a>,
	}
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Decode a uint32 encoded in Base64 in big-endian byte order.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> <label for="r243" class="ident"><a href="../../../../pkg/cloud.google.com/go/storage.html#name-decodeUint32" class="ident">decodeUint32</a></label>(<label for="r244" class="ident">b64</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>) (<a href="../../../../pkg/builtin.html#name-uint32" class="ident">uint32</a>, <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a>) {
	<label for="r245" class="ident">d</label>, <label for="r246" class="ident">err</label> := <a href="../../../../pkg/encoding/base64.html" class="ident i7">base64</a>.<a href="../../../encoding/base64/base64.go.html#line-99" class="ident">StdEncoding</a>.<a href="../../../encoding/base64/base64.go.html#line-383" class="ident">DecodeString</a>(<label for="r244" class="ident">b64</label>)
	<span class="keyword">if</span> <label for="r246" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span> <span class="lit-number">0</span>, <label for="r246" class="ident">err</label>
	}
	<span class="keyword">if</span> <a href="../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r245" class="ident">d</label>) != <span class="lit-number">4</span> {
		<span class="keyword">return</span> <span class="lit-number">0</span>, <a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/errors.go.html#line-17" class="ident">Errorf</a>(<span class="lit-string">"storage: %q does not encode a 32-bit value"</span>, <label for="r245" class="ident">d</label>)
	}
	<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-uint32" class="ident">uint32</a>(<label for="r245" class="ident">d</label>[<span class="lit-number">0</span>])&lt;&lt;<span class="lit-number">24</span> + <a href="../../../../pkg/builtin.html#name-uint32" class="ident">uint32</a>(<label for="r245" class="ident">d</label>[<span class="lit-number">1</span>])&lt;&lt;<span class="lit-number">16</span> + <a href="../../../../pkg/builtin.html#name-uint32" class="ident">uint32</a>(<label for="r245" class="ident">d</label>[<span class="lit-number">2</span>])&lt;&lt;<span class="lit-number">8</span> + <a href="../../../../pkg/builtin.html#name-uint32" class="ident">uint32</a>(<label for="r245" class="ident">d</label>[<span class="lit-number">3</span>]), <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Encode a uint32 as Base64 in big-endian byte order.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> <label for="r247" class="ident"><a href="../../../../pkg/cloud.google.com/go/storage.html#name-encodeUint32" class="ident">encodeUint32</a></label>(<label for="r248" class="ident">u</label> <a href="../../../../pkg/builtin.html#name-uint32" class="ident">uint32</a>) <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a> {
	<label for="r249" class="ident">b</label> := []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>{<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>(<label for="r248" class="ident">u</label> &gt;&gt; <span class="lit-number">24</span>), <a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>(<label for="r248" class="ident">u</label> &gt;&gt; <span class="lit-number">16</span>), <a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>(<label for="r248" class="ident">u</label> &gt;&gt; <span class="lit-number">8</span>), <a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>(<label for="r248" class="ident">u</label>)}
	<span class="keyword">return</span> <a href="../../../../pkg/encoding/base64.html" class="ident i7">base64</a>.<a href="../../../encoding/base64/base64.go.html#line-99" class="ident">StdEncoding</a>.<a href="../../../encoding/base64/base64.go.html#line-177" class="ident">EncodeToString</a>(<label for="r249" class="ident">b</label>)
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Query represents a query to filter objects from a bucket.</span></div>
<div class="code"><pre><code></code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Delimiter returns results in a directory-like fashion.</span><span class="comment">	 Results will contain only objects whose names, aside from the</span><span class="comment">	 prefix, do not contain delimiter. Objects whose names,</span><span class="comment">	 aside from the prefix, contain delimiter will have their name,</span><span class="comment">	 truncated after the delimiter, returned in prefixes.</span><span class="comment">	 Duplicate prefixes are omitted.</span><span class="comment">	 Optional.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..Query.Delimiter.html" class="ident">Delimiter</a> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Prefix is the prefix filter to query objects</span><span class="comment">	 whose names begin with this prefix.</span><span class="comment">	 Optional.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..Query.Prefix.html" class="ident">Prefix</a> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Versions indicates whether multiple versions of the same</span><span class="comment">	 object will be included in the results.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..Query.Versions.html" class="ident">Versions</a> <a href="../../../../pkg/builtin.html#name-bool" class="ident">bool</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> fieldSelection is used to select only specific fields to be returned by</span><span class="comment">	 the query. It's used internally and is populated for the user by</span><span class="comment">	 calling Query.SetAttrSelection</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..Query.fieldSelection*71626.html" class="ident">fieldSelection</a> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> attrToFieldMap maps the field names of ObjectAttrs to the underlying field</span><span class="comment"> names in the API call. Only the ObjectAttrs field names are visible to users</span><span class="comment"> because they are already part of the public API of the package.</span></div>
<div class="code"><pre><code><span class="keyword">var</span> <a href="../../../../pkg/cloud.google.com/go/storage.html#name-attrToFieldMap" class="ident">attrToFieldMap</a> = <span class="keyword">map</span>[<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>]<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>{
	<span class="lit-string">"Bucket"</span>:                  <span class="lit-string">"bucket"</span>,
	<span class="lit-string">"Name"</span>:                    <span class="lit-string">"name"</span>,
	<span class="lit-string">"ContentType"</span>:             <span class="lit-string">"contentType"</span>,
	<span class="lit-string">"ContentLanguage"</span>:         <span class="lit-string">"contentLanguage"</span>,
	<span class="lit-string">"CacheControl"</span>:            <span class="lit-string">"cacheControl"</span>,
	<span class="lit-string">"EventBasedHold"</span>:          <span class="lit-string">"eventBasedHold"</span>,
	<span class="lit-string">"TemporaryHold"</span>:           <span class="lit-string">"temporaryHold"</span>,
	<span class="lit-string">"RetentionExpirationTime"</span>: <span class="lit-string">"retentionExpirationTime"</span>,
	<span class="lit-string">"ACL"</span>:                     <span class="lit-string">"acl"</span>,
	<span class="lit-string">"Owner"</span>:                   <span class="lit-string">"owner"</span>,
	<span class="lit-string">"ContentEncoding"</span>:         <span class="lit-string">"contentEncoding"</span>,
	<span class="lit-string">"ContentDisposition"</span>:      <span class="lit-string">"contentDisposition"</span>,
	<span class="lit-string">"Size"</span>:                    <span class="lit-string">"size"</span>,
	<span class="lit-string">"MD5"</span>:                     <span class="lit-string">"md5Hash"</span>,
	<span class="lit-string">"CRC32C"</span>:                  <span class="lit-string">"crc32c"</span>,
	<span class="lit-string">"MediaLink"</span>:               <span class="lit-string">"mediaLink"</span>,
	<span class="lit-string">"Metadata"</span>:                <span class="lit-string">"metadata"</span>,
	<span class="lit-string">"Generation"</span>:              <span class="lit-string">"generation"</span>,
	<span class="lit-string">"Metageneration"</span>:          <span class="lit-string">"metageneration"</span>,
	<span class="lit-string">"StorageClass"</span>:            <span class="lit-string">"storageClass"</span>,
	<span class="lit-string">"CustomerKeySHA256"</span>:       <span class="lit-string">"customerEncryption"</span>,
	<span class="lit-string">"KMSKeyName"</span>:              <span class="lit-string">"kmsKeyName"</span>,
	<span class="lit-string">"Created"</span>:                 <span class="lit-string">"timeCreated"</span>,
	<span class="lit-string">"Deleted"</span>:                 <span class="lit-string">"timeDeleted"</span>,
	<span class="lit-string">"Updated"</span>:                 <span class="lit-string">"updated"</span>,
	<span class="lit-string">"Etag"</span>:                    <span class="lit-string">"etag"</span>,
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> SetAttrSelection makes the query populate only specific attributes of</span><span class="comment"> objects. When iterating over objects, if you only need each object's name</span><span class="comment"> and size, pass []string{"Name", "Size"} to this method. Only these fields</span><span class="comment"> will be fetched for each object across the network; the other fields of</span><span class="comment"> ObjectAttr will remain at their default values. This is a performance</span><span class="comment"> optimization; for more information, see</span><span class="comment"> https://cloud.google.com/storage/docs/json_api/v1/how-tos/performance</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r250" class="ident">q</label> *<a href="#line-1277" class="ident">Query</a>) <label for="r251" class="ident"><a href="../../../../use/cloud.google.com/go/storage..Query.SetAttrSelection.html" class="ident">SetAttrSelection</a></label>(<label for="r252" class="ident">attrs</label> []<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>) <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a> {
	<label for="r253" class="ident">fieldSet</label> := <a href="../../../../pkg/builtin.html#name-make" class="ident">make</a>(<span class="keyword">map</span>[<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>]<a href="../../../../pkg/builtin.html#name-bool" class="ident">bool</a>)

	<span class="keyword">for</span> <label for="r254" class="ident">_</label>, <label for="r255" class="ident">attr</label> := <span class="keyword">range</span> <label for="r252" class="ident">attrs</label> {
		<label for="r256" class="ident">field</label>, <label for="r257" class="ident">ok</label> := <a href="#line-1305" class="ident">attrToFieldMap</a>[<label for="r255" class="ident">attr</label>]
		<span class="keyword">if</span> !<label for="r257" class="ident">ok</label> {
			<span class="keyword">return</span> <a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/errors.go.html#line-17" class="ident">Errorf</a>(<span class="lit-string">"storage: attr %v is not valid"</span>, <label for="r255" class="ident">attr</label>)
		}
		<label for="r253" class="ident">fieldSet</label>[<label for="r256" class="ident">field</label>] = <a href="../../../../pkg/builtin.html#name-true" class="ident">true</a>
	}

	<span class="keyword">if</span> <a href="../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r253" class="ident">fieldSet</label>) &gt; <span class="lit-number">0</span> {
		<span class="keyword">var</span> <label for="r258" class="ident">b</label> <a href="../../../../pkg/bytes.html" class="ident i0">bytes</a>.<a href="../../../bytes/buffer.go.html#line-20" class="ident">Buffer</a>
		<label for="r258" class="ident">b</label>.<a href="../../../bytes/buffer.go.html#line-180" class="ident">WriteString</a>(<span class="lit-string">"items("</span>)
		<label for="r259" class="ident">first</label> := <a href="../../../../pkg/builtin.html#name-true" class="ident">true</a>
		<span class="keyword">for</span> <label for="r260" class="ident">field</label> := <span class="keyword">range</span> <label for="r253" class="ident">fieldSet</label> {
			<span class="keyword">if</span> !<label for="r259" class="ident">first</label> {
				<label for="r258" class="ident">b</label>.<a href="../../../bytes/buffer.go.html#line-180" class="ident">WriteString</a>(<span class="lit-string">","</span>)
			}
			<label for="r259" class="ident">first</label> = <a href="../../../../pkg/builtin.html#name-false" class="ident">false</a>
			<label for="r258" class="ident">b</label>.<a href="../../../bytes/buffer.go.html#line-180" class="ident">WriteString</a>(<label for="r260" class="ident">field</label>)
		}
		<label for="r258" class="ident">b</label>.<a href="../../../bytes/buffer.go.html#line-180" class="ident">WriteString</a>(<span class="lit-string">")"</span>)
		<label for="r250" class="ident">q</label>.<a href="#line-1299" class="ident">fieldSelection</a> = <label for="r258" class="ident">b</label>.<a href="../../../bytes/buffer.go.html#line-60" class="ident">String</a>()
	}
	<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Conditions constrain methods to act on specific generations of</span><span class="comment"> objects.</span><span class="comment"></span><span class="comment"> The zero value is an empty set of constraints. Not all conditions or</span><span class="comment"> combinations of conditions are applicable to all methods.</span><span class="comment"> See https://cloud.google.com/storage/docs/generations-preconditions</span><span class="comment"> for details on how these operate.</span></div>
<div class="code"><pre><code></code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Generation constraints.</span><span class="comment">	 At most one of the following can be set to a non-zero value.</span></div>
<div class="code"><pre><code></code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> GenerationMatch specifies that the object must have the given generation</span><span class="comment">	 for the operation to occur.</span><span class="comment">	 If GenerationMatch is zero, it has no effect.</span><span class="comment">	 Use DoesNotExist to specify that the object does not exist in the bucket.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..Conditions.GenerationMatch.html" class="ident">GenerationMatch</a> <a href="../../../../pkg/builtin.html#name-int64" class="ident">int64</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> GenerationNotMatch specifies that the object must not have the given</span><span class="comment">	 generation for the operation to occur.</span><span class="comment">	 If GenerationNotMatch is zero, it has no effect.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..Conditions.GenerationNotMatch.html" class="ident">GenerationNotMatch</a> <a href="../../../../pkg/builtin.html#name-int64" class="ident">int64</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> DoesNotExist specifies that the object must not exist in the bucket for</span><span class="comment">	 the operation to occur.</span><span class="comment">	 If DoesNotExist is false, it has no effect.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..Conditions.DoesNotExist.html" class="ident">DoesNotExist</a> <a href="../../../../pkg/builtin.html#name-bool" class="ident">bool</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Metadata generation constraints.</span><span class="comment">	 At most one of the following can be set to a non-zero value.</span></div>
<div class="code"><pre><code></code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> MetagenerationMatch specifies that the object must have the given</span><span class="comment">	 metageneration for the operation to occur.</span><span class="comment">	 If MetagenerationMatch is zero, it has no effect.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..Conditions.MetagenerationMatch.html" class="ident">MetagenerationMatch</a> <a href="../../../../pkg/builtin.html#name-int64" class="ident">int64</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> MetagenerationNotMatch specifies that the object must not have the given</span><span class="comment">	 metageneration for the operation to occur.</span><span class="comment">	 If MetagenerationNotMatch is zero, it has no effect.</span></div>
<div class="code"><pre><code>	<a href="../../../../use/cloud.google.com/go/storage..Conditions.MetagenerationNotMatch.html" class="ident">MetagenerationNotMatch</a> <a href="../../../../pkg/builtin.html#name-int64" class="ident">int64</a>
}

<span class="keyword">func</span> (<label for="r261" class="ident">c</label> *<a href="#line-1376" class="ident">Conditions</a>) <label for="r262" class="ident"><a href="../../../../use/cloud.google.com/go/storage..Conditions.validate*133c8.html" class="ident">validate</a></label>(<label for="r263" class="ident">method</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>) <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a> {
	<span class="keyword">if</span> *<label for="r261" class="ident">c</label> == (<a href="#line-1376" class="ident">Conditions</a>{}) {
		<span class="keyword">return</span> <a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/errors.go.html#line-17" class="ident">Errorf</a>(<span class="lit-string">"storage: %s: empty conditions"</span>, <label for="r263" class="ident">method</label>)
	}
	<span class="keyword">if</span> !<label for="r261" class="ident">c</label>.<a href="#line-1423" class="ident">isGenerationValid</a>() {
		<span class="keyword">return</span> <a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/errors.go.html#line-17" class="ident">Errorf</a>(<span class="lit-string">"storage: %s: multiple conditions specified for generation"</span>, <label for="r263" class="ident">method</label>)
	}
	<span class="keyword">if</span> !<label for="r261" class="ident">c</label>.<a href="#line-1437" class="ident">isMetagenerationValid</a>() {
		<span class="keyword">return</span> <a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/errors.go.html#line-17" class="ident">Errorf</a>(<span class="lit-string">"storage: %s: multiple conditions specified for metageneration"</span>, <label for="r263" class="ident">method</label>)
	}
	<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
}

<span class="keyword">func</span> (<label for="r264" class="ident">c</label> *<a href="#line-1376" class="ident">Conditions</a>) <label for="r265" class="ident"><a href="../../../../use/cloud.google.com/go/storage..Conditions.isGenerationValid*f94fa.html" class="ident">isGenerationValid</a></label>() <a href="../../../../pkg/builtin.html#name-bool" class="ident">bool</a> {
	<label for="r266" class="ident">n</label> := <span class="lit-number">0</span>
	<span class="keyword">if</span> <label for="r264" class="ident">c</label>.<a href="#line-1384" class="ident">GenerationMatch</a> != <span class="lit-number">0</span> {
		<label for="r266" class="ident">n</label>++
	}
	<span class="keyword">if</span> <label for="r264" class="ident">c</label>.<a href="#line-1389" class="ident">GenerationNotMatch</a> != <span class="lit-number">0</span> {
		<label for="r266" class="ident">n</label>++
	}
	<span class="keyword">if</span> <label for="r264" class="ident">c</label>.<a href="#line-1394" class="ident">DoesNotExist</a> {
		<label for="r266" class="ident">n</label>++
	}
	<span class="keyword">return</span> <label for="r266" class="ident">n</label> &lt;= <span class="lit-number">1</span>
}

<span class="keyword">func</span> (<label for="r267" class="ident">c</label> *<a href="#line-1376" class="ident">Conditions</a>) <label for="r268" class="ident"><a href="../../../../use/cloud.google.com/go/storage..Conditions.isMetagenerationValid*53626.html" class="ident">isMetagenerationValid</a></label>() <a href="../../../../pkg/builtin.html#name-bool" class="ident">bool</a> {
	<span class="keyword">return</span> <label for="r267" class="ident">c</label>.<a href="#line-1402" class="ident">MetagenerationMatch</a> == <span class="lit-number">0</span> || <label for="r267" class="ident">c</label>.<a href="#line-1407" class="ident">MetagenerationNotMatch</a> == <span class="lit-number">0</span>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> applyConds modifies the provided call using the conditions in conds.</span><span class="comment"> call is something that quacks like a *raw.WhateverCall.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> <label for="r269" class="ident"><a href="../../../../pkg/cloud.google.com/go/storage.html#name-applyConds" class="ident">applyConds</a></label>(<label for="r270" class="ident">method</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>, <label for="r271" class="ident">gen</label> <a href="../../../../pkg/builtin.html#name-int64" class="ident">int64</a>, <label for="r272" class="ident">conds</label> *<a href="#line-1376" class="ident">Conditions</a>, <label for="r273" class="ident">call</label> <span class="keyword">interface</span>{}) <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a> {
	<label for="r274" class="ident">cval</label> := <a href="../../../../pkg/reflect.html" class="ident i15">reflect</a>.<a href="../../../reflect/value.go.html#line-2351" class="ident">ValueOf</a>(<label for="r273" class="ident">call</label>)
	<span class="keyword">if</span> <label for="r271" class="ident">gen</label> &gt;= <span class="lit-number">0</span> {
		<span class="keyword">if</span> !<a href="#line-1513" class="ident">setConditionField</a>(<label for="r274" class="ident">cval</label>, <span class="lit-string">"Generation"</span>, <label for="r271" class="ident">gen</label>) {
			<span class="keyword">return</span> <a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/errors.go.html#line-17" class="ident">Errorf</a>(<span class="lit-string">"storage: %s: generation not supported"</span>, <label for="r270" class="ident">method</label>)
		}
	}
	<span class="keyword">if</span> <label for="r272" class="ident">conds</label> == <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
	}
	<span class="keyword">if</span> <label for="r275" class="ident">err</label> := <label for="r272" class="ident">conds</label>.<a href="#line-1410" class="ident">validate</a>(<label for="r270" class="ident">method</label>); <label for="r275" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span> <label for="r275" class="ident">err</label>
	}
	<span class="keyword">switch</span> {
	<span class="keyword">case</span> <label for="r272" class="ident">conds</label>.<a href="#line-1384" class="ident">GenerationMatch</a> != <span class="lit-number">0</span>:
		<span class="keyword">if</span> !<a href="#line-1513" class="ident">setConditionField</a>(<label for="r274" class="ident">cval</label>, <span class="lit-string">"IfGenerationMatch"</span>, <label for="r272" class="ident">conds</label>.<a href="#line-1384" class="ident">GenerationMatch</a>) {
			<span class="keyword">return</span> <a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/errors.go.html#line-17" class="ident">Errorf</a>(<span class="lit-string">"storage: %s: ifGenerationMatch not supported"</span>, <label for="r270" class="ident">method</label>)
		}
	<span class="keyword">case</span> <label for="r272" class="ident">conds</label>.<a href="#line-1389" class="ident">GenerationNotMatch</a> != <span class="lit-number">0</span>:
		<span class="keyword">if</span> !<a href="#line-1513" class="ident">setConditionField</a>(<label for="r274" class="ident">cval</label>, <span class="lit-string">"IfGenerationNotMatch"</span>, <label for="r272" class="ident">conds</label>.<a href="#line-1389" class="ident">GenerationNotMatch</a>) {
			<span class="keyword">return</span> <a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/errors.go.html#line-17" class="ident">Errorf</a>(<span class="lit-string">"storage: %s: ifGenerationNotMatch not supported"</span>, <label for="r270" class="ident">method</label>)
		}
	<span class="keyword">case</span> <label for="r272" class="ident">conds</label>.<a href="#line-1394" class="ident">DoesNotExist</a>:
		<span class="keyword">if</span> !<a href="#line-1513" class="ident">setConditionField</a>(<label for="r274" class="ident">cval</label>, <span class="lit-string">"IfGenerationMatch"</span>, <a href="../../../../pkg/builtin.html#name-int64" class="ident">int64</a>(<span class="lit-number">0</span>)) {
			<span class="keyword">return</span> <a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/errors.go.html#line-17" class="ident">Errorf</a>(<span class="lit-string">"storage: %s: DoesNotExist not supported"</span>, <label for="r270" class="ident">method</label>)
		}
	}
	<span class="keyword">switch</span> {
	<span class="keyword">case</span> <label for="r272" class="ident">conds</label>.<a href="#line-1402" class="ident">MetagenerationMatch</a> != <span class="lit-number">0</span>:
		<span class="keyword">if</span> !<a href="#line-1513" class="ident">setConditionField</a>(<label for="r274" class="ident">cval</label>, <span class="lit-string">"IfMetagenerationMatch"</span>, <label for="r272" class="ident">conds</label>.<a href="#line-1402" class="ident">MetagenerationMatch</a>) {
			<span class="keyword">return</span> <a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/errors.go.html#line-17" class="ident">Errorf</a>(<span class="lit-string">"storage: %s: ifMetagenerationMatch not supported"</span>, <label for="r270" class="ident">method</label>)
		}
	<span class="keyword">case</span> <label for="r272" class="ident">conds</label>.<a href="#line-1407" class="ident">MetagenerationNotMatch</a> != <span class="lit-number">0</span>:
		<span class="keyword">if</span> !<a href="#line-1513" class="ident">setConditionField</a>(<label for="r274" class="ident">cval</label>, <span class="lit-string">"IfMetagenerationNotMatch"</span>, <label for="r272" class="ident">conds</label>.<a href="#line-1407" class="ident">MetagenerationNotMatch</a>) {
			<span class="keyword">return</span> <a href="../../../../pkg/fmt.html" class="ident i11">fmt</a>.<a href="../../../fmt/errors.go.html#line-17" class="ident">Errorf</a>(<span class="lit-string">"storage: %s: ifMetagenerationNotMatch not supported"</span>, <label for="r270" class="ident">method</label>)
		}
	}
	<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
}

<span class="keyword">func</span> <label for="r276" class="ident"><a href="../../../../pkg/cloud.google.com/go/storage.html#name-applySourceConds" class="ident">applySourceConds</a></label>(<label for="r277" class="ident">gen</label> <a href="../../../../pkg/builtin.html#name-int64" class="ident">int64</a>, <label for="r278" class="ident">conds</label> *<a href="#line-1376" class="ident">Conditions</a>, <label for="r279" class="ident">call</label> *<a href="../../../../pkg/google.golang.org/api/storage/v1.html" class="ident i27">raw</a>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-10940" class="ident">ObjectsRewriteCall</a>) <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a> {
	<span class="keyword">if</span> <label for="r277" class="ident">gen</label> &gt;= <span class="lit-number">0</span> {
		<label for="r279" class="ident">call</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-11116" class="ident">SourceGeneration</a>(<label for="r277" class="ident">gen</label>)
	}
	<span class="keyword">if</span> <label for="r278" class="ident">conds</label> == <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
	}
	<span class="keyword">if</span> <label for="r280" class="ident">err</label> := <label for="r278" class="ident">conds</label>.<a href="#line-1410" class="ident">validate</a>(<span class="lit-string">"CopyTo source"</span>); <label for="r280" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span> <label for="r280" class="ident">err</label>
	}
	<span class="keyword">switch</span> {
	<span class="keyword">case</span> <label for="r278" class="ident">conds</label>.<a href="#line-1384" class="ident">GenerationMatch</a> != <span class="lit-number">0</span>:
		<label for="r279" class="ident">call</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-11036" class="ident">IfSourceGenerationMatch</a>(<label for="r278" class="ident">conds</label>.<a href="#line-1384" class="ident">GenerationMatch</a>)
	<span class="keyword">case</span> <label for="r278" class="ident">conds</label>.<a href="#line-1389" class="ident">GenerationNotMatch</a> != <span class="lit-number">0</span>:
		<label for="r279" class="ident">call</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-11045" class="ident">IfSourceGenerationNotMatch</a>(<label for="r278" class="ident">conds</label>.<a href="#line-1389" class="ident">GenerationNotMatch</a>)
	<span class="keyword">case</span> <label for="r278" class="ident">conds</label>.<a href="#line-1394" class="ident">DoesNotExist</a>:
		<label for="r279" class="ident">call</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-11036" class="ident">IfSourceGenerationMatch</a>(<span class="lit-number">0</span>)
	}
	<span class="keyword">switch</span> {
	<span class="keyword">case</span> <label for="r278" class="ident">conds</label>.<a href="#line-1402" class="ident">MetagenerationMatch</a> != <span class="lit-number">0</span>:
		<label for="r279" class="ident">call</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-11054" class="ident">IfSourceMetagenerationMatch</a>(<label for="r278" class="ident">conds</label>.<a href="#line-1402" class="ident">MetagenerationMatch</a>)
	<span class="keyword">case</span> <label for="r278" class="ident">conds</label>.<a href="#line-1407" class="ident">MetagenerationNotMatch</a> != <span class="lit-number">0</span>:
		<label for="r279" class="ident">call</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-11063" class="ident">IfSourceMetagenerationNotMatch</a>(<label for="r278" class="ident">conds</label>.<a href="#line-1407" class="ident">MetagenerationNotMatch</a>)
	}
	<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> setConditionField sets a field on a *raw.WhateverCall.</span><span class="comment"> We can't use anonymous interfaces because the return type is</span><span class="comment"> different, since the field setters are builders.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> <label for="r281" class="ident"><a href="../../../../pkg/cloud.google.com/go/storage.html#name-setConditionField" class="ident">setConditionField</a></label>(<label for="r282" class="ident">call</label> <a href="../../../../pkg/reflect.html" class="ident i15">reflect</a>.<a href="../../../reflect/value.go.html#line-37" class="ident">Value</a>, <label for="r283" class="ident">name</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>, <label for="r284" class="ident">value</label> <span class="keyword">interface</span>{}) <a href="../../../../pkg/builtin.html#name-bool" class="ident">bool</a> {
	<label for="r285" class="ident">m</label> := <label for="r282" class="ident">call</label>.<a href="../../../reflect/value.go.html#line-1352" class="ident">MethodByName</a>(<label for="r283" class="ident">name</label>)
	<span class="keyword">if</span> !<label for="r285" class="ident">m</label>.<a href="../../../reflect/value.go.html#line-1094" class="ident">IsValid</a>() {
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-false" class="ident">false</a>
	}
	<label for="r285" class="ident">m</label>.<a href="../../../reflect/value.go.html#line-334" class="ident">Call</a>([]<a href="../../../../pkg/reflect.html" class="ident i15">reflect</a>.<a href="../../../reflect/value.go.html#line-37" class="ident">Value</a>{<a href="../../../../pkg/reflect.html" class="ident i15">reflect</a>.<a href="../../../reflect/value.go.html#line-2351" class="ident">ValueOf</a>(<label for="r284" class="ident">value</label>)})
	<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-true" class="ident">true</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> conditionsQuery returns the generation and conditions as a URL query</span><span class="comment"> string suitable for URL.RawQuery.  It assumes that the conditions</span><span class="comment"> have been validated.</span></div>
<div class="code"><pre><code></code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> URL escapes are elided because integer strings are URL-safe.</span></div>
<div class="code"><pre><code>	<span class="keyword">var</span> <label for="r289" class="ident">buf</label> []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>

	<label for="r290" class="ident">appendParam</label> := <span class="keyword">func</span>(<label for="r291" class="ident">s</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>, <label for="r292" class="ident">n</label> <a href="../../../../pkg/builtin.html#name-int64" class="ident">int64</a>) {
		<span class="keyword">if</span> <a href="../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r289" class="ident">buf</label>) &gt; <span class="lit-number">0</span> {
			<label for="r289" class="ident">buf</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r289" class="ident">buf</label>, <span class="lit-number">'&amp;'</span>)
		}
		<label for="r289" class="ident">buf</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r289" class="ident">buf</label>, <label for="r291" class="ident">s</label>...)
		<label for="r289" class="ident">buf</label> = <a href="../../../../pkg/strconv.html" class="ident i18">strconv</a>.<a href="../../../strconv/itoa.go.html#line-40" class="ident">AppendInt</a>(<label for="r289" class="ident">buf</label>, <label for="r292" class="ident">n</label>, <span class="lit-number">10</span>)
	}

	<span class="keyword">if</span> <label for="r287" class="ident">gen</label> &gt;= <span class="lit-number">0</span> {
		<label for="r290" class="ident">appendParam</label>(<span class="lit-string">"generation="</span>, <label for="r287" class="ident">gen</label>)
	}
	<span class="keyword">if</span> <label for="r288" class="ident">conds</label> == <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>(<label for="r289" class="ident">buf</label>)
	}
	<span class="keyword">switch</span> {
	<span class="keyword">case</span> <label for="r288" class="ident">conds</label>.<a href="#line-1384" class="ident">GenerationMatch</a> != <span class="lit-number">0</span>:
		<label for="r290" class="ident">appendParam</label>(<span class="lit-string">"ifGenerationMatch="</span>, <label for="r288" class="ident">conds</label>.<a href="#line-1384" class="ident">GenerationMatch</a>)
	<span class="keyword">case</span> <label for="r288" class="ident">conds</label>.<a href="#line-1389" class="ident">GenerationNotMatch</a> != <span class="lit-number">0</span>:
		<label for="r290" class="ident">appendParam</label>(<span class="lit-string">"ifGenerationNotMatch="</span>, <label for="r288" class="ident">conds</label>.<a href="#line-1389" class="ident">GenerationNotMatch</a>)
	<span class="keyword">case</span> <label for="r288" class="ident">conds</label>.<a href="#line-1394" class="ident">DoesNotExist</a>:
		<label for="r290" class="ident">appendParam</label>(<span class="lit-string">"ifGenerationMatch="</span>, <span class="lit-number">0</span>)
	}
	<span class="keyword">switch</span> {
	<span class="keyword">case</span> <label for="r288" class="ident">conds</label>.<a href="#line-1402" class="ident">MetagenerationMatch</a> != <span class="lit-number">0</span>:
		<label for="r290" class="ident">appendParam</label>(<span class="lit-string">"ifMetagenerationMatch="</span>, <label for="r288" class="ident">conds</label>.<a href="#line-1402" class="ident">MetagenerationMatch</a>)
	<span class="keyword">case</span> <label for="r288" class="ident">conds</label>.<a href="#line-1407" class="ident">MetagenerationNotMatch</a> != <span class="lit-number">0</span>:
		<label for="r290" class="ident">appendParam</label>(<span class="lit-string">"ifMetagenerationNotMatch="</span>, <label for="r288" class="ident">conds</label>.<a href="#line-1407" class="ident">MetagenerationNotMatch</a>)
	}
	<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>(<label for="r289" class="ident">buf</label>)
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> composeSourceObj wraps a *raw.ComposeRequestSourceObjects, but adds the methods</span><span class="comment"> that modifyCall searches for by name.</span></div>
<div class="code"><pre><code><span class="keyword">type</span> <a href="../../../../pkg/cloud.google.com/go/storage.html#name-composeSourceObj" class="ident">composeSourceObj</a> <span class="keyword">struct</span> {
	<a href="../../../../use/cloud.google.com/go/storage..composeSourceObj*615b3.src*25a66.html" class="ident">src</a> *<a href="../../../../pkg/google.golang.org/api/storage/v1.html" class="ident i27">raw</a>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1302" class="ident">ComposeRequestSourceObjects</a>
}

<span class="keyword">func</span> (<label for="r293" class="ident">c</label> <a href="#line-1562" class="ident">composeSourceObj</a>) <label for="r294" class="ident"><a href="../../../../use/cloud.google.com/go/storage..composeSourceObj*615b3.Generation.html" class="ident">Generation</a></label>(<label for="r295" class="ident">gen</label> <a href="../../../../pkg/builtin.html#name-int64" class="ident">int64</a>) {
	<label for="r293" class="ident">c</label>.<a href="#line-1563" class="ident">src</a>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1304" class="ident">Generation</a> = <label for="r295" class="ident">gen</label>
}

</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> It's safe to overwrite ObjectPreconditions, since its only field is</span><span class="comment">	 IfGenerationMatch.</span></div>
<div class="code"><pre><code>	<label for="r296" class="ident">c</label>.<a href="#line-1563" class="ident">src</a>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1312" class="ident">ObjectPreconditions</a> = &amp;<a href="../../../../pkg/google.golang.org/api/storage/v1.html" class="ident i27">raw</a>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1339" class="ident">ComposeRequestSourceObjectsObjectPreconditions</a>{
		<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-1344" class="ident">IfGenerationMatch</a>: <label for="r298" class="ident">gen</label>,
	}
}

<span class="keyword">func</span> <label for="r299" class="ident"><a href="../../../../pkg/cloud.google.com/go/storage.html#name-setEncryptionHeaders" class="ident">setEncryptionHeaders</a></label>(<label for="r300" class="ident">headers</label> <a href="../../../../pkg/net/http.html" class="ident i12">http</a>.<a href="../../../net/http/header.go.html#line-21" class="ident">Header</a>, <label for="r301" class="ident">key</label> []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>, <label for="r302" class="ident">copySource</label> <a href="../../../../pkg/builtin.html#name-bool" class="ident">bool</a>) <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a> {
	<span class="keyword">if</span> <label for="r301" class="ident">key</label> == <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> TODO(jbd): Ask the API team to return a more user-friendly error</span><span class="comment">	 and avoid doing this check at the client level.</span></div>
<div class="code"><pre><code>	<span class="keyword">if</span> <a href="../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r301" class="ident">key</label>) != <span class="lit-number">32</span> {
		<span class="keyword">return</span> <a href="../../../../pkg/errors.html" class="ident i10">errors</a>.<a href="../../../errors/errors.go.html#line-58" class="ident">New</a>(<span class="lit-string">"storage: not a 32-byte AES-256 key"</span>)
	}
	<span class="keyword">var</span> <label for="r303" class="ident">cs</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>
	<span class="keyword">if</span> <label for="r302" class="ident">copySource</label> {
		<label for="r303" class="ident">cs</label> = <span class="lit-string">"copy-source-"</span>
	}
	<label for="r300" class="ident">headers</label>.<a href="../../../net/http/header.go.html#line-36" class="ident">Set</a>(<span class="lit-string">"x-goog-"</span>+<label for="r303" class="ident">cs</label>+<span class="lit-string">"encryption-algorithm"</span>, <span class="lit-string">"AES256"</span>)
	<label for="r300" class="ident">headers</label>.<a href="../../../net/http/header.go.html#line-36" class="ident">Set</a>(<span class="lit-string">"x-goog-"</span>+<label for="r303" class="ident">cs</label>+<span class="lit-string">"encryption-key"</span>, <a href="../../../../pkg/encoding/base64.html" class="ident i7">base64</a>.<a href="../../../encoding/base64/base64.go.html#line-99" class="ident">StdEncoding</a>.<a href="../../../encoding/base64/base64.go.html#line-177" class="ident">EncodeToString</a>(<label for="r301" class="ident">key</label>))
	<label for="r304" class="ident">keyHash</label> := <a href="../../../../pkg/crypto/sha256.html" class="ident i5">sha256</a>.<a href="../../../crypto/sha256/sha256.go.html#line-254" class="ident">Sum256</a>(<label for="r301" class="ident">key</label>)
	<label for="r300" class="ident">headers</label>.<a href="../../../net/http/header.go.html#line-36" class="ident">Set</a>(<span class="lit-string">"x-goog-"</span>+<label for="r303" class="ident">cs</label>+<span class="lit-string">"encryption-key-sha256"</span>, <a href="../../../../pkg/encoding/base64.html" class="ident i7">base64</a>.<a href="../../../encoding/base64/base64.go.html#line-99" class="ident">StdEncoding</a>.<a href="../../../encoding/base64/base64.go.html#line-177" class="ident">EncodeToString</a>(<label for="r304" class="ident">keyHash</label>[:]))
	<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> ServiceAccount fetches the email address of the given project's Google Cloud Storage service account.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r305" class="ident">c</label> *<a href="#line-88" class="ident">Client</a>) <label for="r306" class="ident"><a href="../../../../use/cloud.google.com/go/storage..Client.ServiceAccount.html" class="ident">ServiceAccount</a></label>(<label for="r307" class="ident">ctx</label> <a href="../../../../pkg/context.html" class="ident i1">context</a>.<a href="../../../context/context.go.html#line-62" class="ident">Context</a>, <label for="r308" class="ident">projectID</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>) (<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>, <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a>) {
	<label for="r309" class="ident">r</label> := <label for="r305" class="ident">c</label>.<a href="#line-90" class="ident">raw</a>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-169" class="ident">Projects</a>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-254" class="ident">ServiceAccount</a>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-13252" class="ident">Get</a>(<label for="r308" class="ident">projectID</label>)
	<label for="r310" class="ident">res</label>, <label for="r311" class="ident">err</label> := <label for="r309" class="ident">r</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-13294" class="ident">Context</a>(<label for="r307" class="ident">ctx</label>).<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-13341" class="ident">Do</a>()
	<span class="keyword">if</span> <label for="r311" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span> <span class="lit-string">""</span>, <label for="r311" class="ident">err</label>
	}
	<span class="keyword">return</span> <label for="r310" class="ident">res</label>.<a href="../../../google.golang.org/api/storage/v1/storage-gen.go.html#line-2299" class="ident">EmailAddress</a>, <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
</code></pre></div></div>

</div><pre id="footer">
<table><tr><td><img src="../../../../png/go101-twitter.png"></td>
<td>The pages are generated with <a href="https://go101.org/article/tool-golds.html"><b>Golds</b></a> <i>v0.3.2-preview</i>. (GOOS=darwin GOARCH=amd64)
<b>Golds</b> is a <a href="https://go101.org">Go 101</a> project developed by <a href="https://tapirgames.com">Tapir Liu</a>.
PR and bug reports are welcome and can be submitted to <a href="https://github.com/go101/golds">the issue list</a>.
Please follow <a href="https://twitter.com/go100and1">@Go100and1</a> (reachable from the left QR code) to get the latest news of <b>Golds</b>.</td></tr></table></pre>