<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Source: encode.go in package github.com/lib/pq</title>
<link href="../../../../css/lightLiterate-v0.3.2-preview.css" rel="stylesheet">
<script src="../../../../jvs/golds-v0.3.2-preview.js"></script>
<body onload="onPageLoad()"><div>

<pre id="header"><code><span class="title">Source File</span>
	encode.go

<span class="title">Belonging Package</span>
	<a href="../../../../pkg/github.com/lib/pq.html">github.com/lib/pq</a>
</code></pre>
<style>input[type=radio] {display: none;}
input[id=r0]:checked ~pre label[for=r0],
input[id=r1]:checked ~pre label[for=r1],
input[id=r2]:checked ~pre label[for=r2],
input[id=r3]:checked ~pre label[for=r3],
input[id=r4]:checked ~pre label[for=r4],
input[id=r5]:checked ~pre label[for=r5],
input[id=r6]:checked ~pre label[for=r6],
input[id=r7]:checked ~pre label[for=r7],
input[id=r8]:checked ~pre label[for=r8],
input[id=r9]:checked ~pre label[for=r9],
input[id=r10]:checked ~pre label[for=r10],
input[id=r11]:checked ~pre label[for=r11],
input[id=r12]:checked ~pre label[for=r12],
input[id=r13]:checked ~pre label[for=r13],
input[id=r14]:checked ~pre label[for=r14],
input[id=r15]:checked ~pre label[for=r15],
input[id=r16]:checked ~pre label[for=r16],
input[id=r17]:checked ~pre label[for=r17],
input[id=r18]:checked ~pre label[for=r18],
input[id=r19]:checked ~pre label[for=r19],
input[id=r20]:checked ~pre label[for=r20],
input[id=r21]:checked ~pre label[for=r21],
input[id=r22]:checked ~pre label[for=r22],
input[id=r23]:checked ~pre label[for=r23],
input[id=r24]:checked ~pre label[for=r24],
input[id=r25]:checked ~pre label[for=r25],
input[id=r26]:checked ~pre label[for=r26],
input[id=r27]:checked ~pre label[for=r27],
input[id=r28]:checked ~pre label[for=r28],
input[id=r29]:checked ~pre label[for=r29],
input[id=r30]:checked ~pre label[for=r30],
input[id=r31]:checked ~pre label[for=r31],
input[id=r32]:checked ~pre label[for=r32],
input[id=r33]:checked ~pre label[for=r33],
input[id=r34]:checked ~pre label[for=r34],
input[id=r35]:checked ~pre label[for=r35],
input[id=r36]:checked ~pre label[for=r36],
input[id=r37]:checked ~pre label[for=r37],
input[id=r38]:checked ~pre label[for=r38],
input[id=r39]:checked ~pre label[for=r39],
input[id=r40]:checked ~pre label[for=r40],
input[id=r41]:checked ~pre label[for=r41],
input[id=r42]:checked ~pre label[for=r42],
input[id=r43]:checked ~pre label[for=r43],
input[id=r44]:checked ~pre label[for=r44],
input[id=r45]:checked ~pre label[for=r45],
input[id=r46]:checked ~pre label[for=r46],
input[id=r47]:checked ~pre label[for=r47],
input[id=r48]:checked ~pre label[for=r48],
input[id=r49]:checked ~pre label[for=r49],
input[id=r50]:checked ~pre label[for=r50],
input[id=r51]:checked ~pre label[for=r51],
input[id=r52]:checked ~pre label[for=r52],
input[id=r53]:checked ~pre label[for=r53],
input[id=r54]:checked ~pre label[for=r54],
input[id=r55]:checked ~pre label[for=r55],
input[id=r56]:checked ~pre label[for=r56],
input[id=r57]:checked ~pre label[for=r57],
input[id=r58]:checked ~pre label[for=r58],
input[id=r59]:checked ~pre label[for=r59],
input[id=r60]:checked ~pre label[for=r60],
input[id=r61]:checked ~pre label[for=r61],
input[id=r62]:checked ~pre label[for=r62],
input[id=r63]:checked ~pre label[for=r63],
input[id=r64]:checked ~pre label[for=r64],
input[id=r65]:checked ~pre label[for=r65],
input[id=r66]:checked ~pre label[for=r66],
input[id=r67]:checked ~pre label[for=r67],
input[id=r68]:checked ~pre label[for=r68],
input[id=r69]:checked ~pre label[for=r69],
input[id=r70]:checked ~pre label[for=r70],
input[id=r71]:checked ~pre label[for=r71],
input[id=r72]:checked ~pre label[for=r72],
input[id=r73]:checked ~pre label[for=r73],
input[id=r74]:checked ~pre label[for=r74],
input[id=r75]:checked ~pre label[for=r75],
input[id=r76]:checked ~pre label[for=r76],
input[id=r77]:checked ~pre label[for=r77],
input[id=r78]:checked ~pre label[for=r78],
input[id=r79]:checked ~pre label[for=r79],
input[id=r80]:checked ~pre label[for=r80],
input[id=r81]:checked ~pre label[for=r81],
input[id=r82]:checked ~pre label[for=r82],
input[id=r83]:checked ~pre label[for=r83],
input[id=r84]:checked ~pre label[for=r84],
input[id=r85]:checked ~pre label[for=r85],
input[id=r86]:checked ~pre label[for=r86],
input[id=r87]:checked ~pre label[for=r87],
input[id=r88]:checked ~pre label[for=r88],
input[id=r89]:checked ~pre label[for=r89],
input[id=r90]:checked ~pre label[for=r90],
input[id=r91]:checked ~pre label[for=r91],
input[id=r92]:checked ~pre label[for=r92],
input[id=r93]:checked ~pre label[for=r93],
input[id=r94]:checked ~pre label[for=r94],
input[id=r95]:checked ~pre label[for=r95],
input[id=r96]:checked ~pre label[for=r96],
input[id=r97]:checked ~pre label[for=r97],
input[id=r98]:checked ~pre label[for=r98],
input[id=r99]:checked ~pre label[for=r99],
input[id=r100]:checked ~pre label[for=r100],
input[id=r101]:checked ~pre label[for=r101],
input[id=r102]:checked ~pre label[for=r102],
input[id=r103]:checked ~pre label[for=r103],
input[id=r104]:checked ~pre label[for=r104],
input[id=r105]:checked ~pre label[for=r105],
input[id=r106]:checked ~pre label[for=r106],
input[id=r107]:checked ~pre label[for=r107],
input[id=r108]:checked ~pre label[for=r108],
input[id=r109]:checked ~pre label[for=r109],
input[id=r110]:checked ~pre label[for=r110],
input[id=r111]:checked ~pre label[for=r111],
input[id=r112]:checked ~pre label[for=r112],
input[id=r113]:checked ~pre label[for=r113],
input[id=r114]:checked ~pre label[for=r114],
input[id=r115]:checked ~pre label[for=r115],
input[id=r116]:checked ~pre label[for=r116],
input[id=r117]:checked ~pre label[for=r117],
input[id=r118]:checked ~pre label[for=r118],
input[id=r119]:checked ~pre label[for=r119],
input[id=r120]:checked ~pre label[for=r120],
input[id=r121]:checked ~pre label[for=r121],
input[id=r122]:checked ~pre label[for=r122],
input[id=r123]:checked ~pre label[for=r123],
input[id=r124]:checked ~pre label[for=r124],
input[id=r125]:checked ~pre label[for=r125],
input[id=r126]:checked ~pre label[for=r126],
input[id=r127]:checked ~pre label[for=r127],
input[id=r128]:checked ~pre label[for=r128],
input[id=r129]:checked ~pre label[for=r129],
input[id=r130]:checked ~pre label[for=r130],
input[id=r131]:checked ~pre label[for=r131],
input[id=r132]:checked ~pre label[for=r132],
input[id=r133]:checked ~pre label[for=r133],
input[id=r134]:checked ~pre label[for=r134],
input[id=r135]:checked ~pre label[for=r135],
input[id=r136]:checked ~pre label[for=r136],
input[id=r137]:checked ~pre label[for=r137],
input[id=r138]:checked ~pre label[for=r138],
input[id=r139]:checked ~pre label[for=r139],
input[id=r140]:checked ~pre label[for=r140],
input[id=r141]:checked ~pre label[for=r141],
input[id=r142]:checked ~pre label[for=r142],
input[id=r143]:checked ~pre label[for=r143],
input[id=r144]:checked ~pre label[for=r144],
input[id=r145]:checked ~pre label[for=r145],
input[id=r146]:checked ~pre label[for=r146],
input[id=r147]:checked ~pre label[for=r147],
input[id=r148]:checked ~pre label[for=r148],
input[id=r149]:checked ~pre label[for=r149],
input[id=r150]:checked ~pre label[for=r150],
input[id=r151]:checked ~pre label[for=r151],
input[id=r152]:checked ~pre label[for=r152],
input[id=r153]:checked ~pre label[for=r153],
input[id=r154]:checked ~pre label[for=r154]
{background: #226; color: #ff8;}
input[id=i0]:checked ~pre .i0,
input[id=i1]:checked ~pre .i1,
input[id=i2]:checked ~pre .i2,
input[id=i3]:checked ~pre .i3,
input[id=i4]:checked ~pre .i4,
input[id=i5]:checked ~pre .i5,
input[id=i6]:checked ~pre .i6,
input[id=i7]:checked ~pre .i7,
input[id=i8]:checked ~pre .i8,
input[id=i9]:checked ~pre .i9,
input[id=i10]:checked ~pre .i10,
input[id=i11]:checked ~pre .i11
{background: brown; color: #eed;}
</style><input id="r0" type="radio" name="g"/>
<input id="r1" type="radio" name="g"/>
<input id="r2" type="radio" name="g"/>
<input id="r3" type="radio" name="g"/>
<input id="r4" type="radio" name="g"/>
<input id="r5" type="radio" name="g"/>
<input id="r6" type="radio" name="g"/>
<input id="r7" type="radio" name="g"/>
<input id="r8" type="radio" name="g"/>
<input id="r9" type="radio" name="g"/>
<input id="r10" type="radio" name="g"/>
<input id="r11" type="radio" name="g"/>
<input id="r12" type="radio" name="g"/>
<input id="r13" type="radio" name="g"/>
<input id="r14" type="radio" name="g"/>
<input id="r15" type="radio" name="g"/>
<input id="r16" type="radio" name="g"/>
<input id="r17" type="radio" name="g"/>
<input id="r18" type="radio" name="g"/>
<input id="r19" type="radio" name="g"/>
<input id="r20" type="radio" name="g"/>
<input id="r21" type="radio" name="g"/>
<input id="r22" type="radio" name="g"/>
<input id="r23" type="radio" name="g"/>
<input id="r24" type="radio" name="g"/>
<input id="r25" type="radio" name="g"/>
<input id="r26" type="radio" name="g"/>
<input id="r27" type="radio" name="g"/>
<input id="r28" type="radio" name="g"/>
<input id="r29" type="radio" name="g"/>
<input id="r30" type="radio" name="g"/>
<input id="r31" type="radio" name="g"/>
<input id="r32" type="radio" name="g"/>
<input id="r33" type="radio" name="g"/>
<input id="r34" type="radio" name="g"/>
<input id="r35" type="radio" name="g"/>
<input id="r36" type="radio" name="g"/>
<input id="r37" type="radio" name="g"/>
<input id="r38" type="radio" name="g"/>
<input id="r39" type="radio" name="g"/>
<input id="r40" type="radio" name="g"/>
<input id="r41" type="radio" name="g"/>
<input id="r42" type="radio" name="g"/>
<input id="r43" type="radio" name="g"/>
<input id="r44" type="radio" name="g"/>
<input id="r45" type="radio" name="g"/>
<input id="r46" type="radio" name="g"/>
<input id="r47" type="radio" name="g"/>
<input id="r48" type="radio" name="g"/>
<input id="r49" type="radio" name="g"/>
<input id="r50" type="radio" name="g"/>
<input id="r51" type="radio" name="g"/>
<input id="r52" type="radio" name="g"/>
<input id="r53" type="radio" name="g"/>
<input id="r54" type="radio" name="g"/>
<input id="r55" type="radio" name="g"/>
<input id="r56" type="radio" name="g"/>
<input id="r57" type="radio" name="g"/>
<input id="r58" type="radio" name="g"/>
<input id="r59" type="radio" name="g"/>
<input id="r60" type="radio" name="g"/>
<input id="r61" type="radio" name="g"/>
<input id="r62" type="radio" name="g"/>
<input id="r63" type="radio" name="g"/>
<input id="r64" type="radio" name="g"/>
<input id="r65" type="radio" name="g"/>
<input id="r66" type="radio" name="g"/>
<input id="r67" type="radio" name="g"/>
<input id="r68" type="radio" name="g"/>
<input id="r69" type="radio" name="g"/>
<input id="r70" type="radio" name="g"/>
<input id="r71" type="radio" name="g"/>
<input id="r72" type="radio" name="g"/>
<input id="r73" type="radio" name="g"/>
<input id="r74" type="radio" name="g"/>
<input id="r75" type="radio" name="g"/>
<input id="r76" type="radio" name="g"/>
<input id="r77" type="radio" name="g"/>
<input id="r78" type="radio" name="g"/>
<input id="r79" type="radio" name="g"/>
<input id="r80" type="radio" name="g"/>
<input id="r81" type="radio" name="g"/>
<input id="r82" type="radio" name="g"/>
<input id="r83" type="radio" name="g"/>
<input id="r84" type="radio" name="g"/>
<input id="r85" type="radio" name="g"/>
<input id="r86" type="radio" name="g"/>
<input id="r87" type="radio" name="g"/>
<input id="r88" type="radio" name="g"/>
<input id="r89" type="radio" name="g"/>
<input id="r90" type="radio" name="g"/>
<input id="r91" type="radio" name="g"/>
<input id="r92" type="radio" name="g"/>
<input id="r93" type="radio" name="g"/>
<input id="r94" type="radio" name="g"/>
<input id="r95" type="radio" name="g"/>
<input id="r96" type="radio" name="g"/>
<input id="r97" type="radio" name="g"/>
<input id="r98" type="radio" name="g"/>
<input id="r99" type="radio" name="g"/>
<input id="r100" type="radio" name="g"/>
<input id="r101" type="radio" name="g"/>
<input id="r102" type="radio" name="g"/>
<input id="r103" type="radio" name="g"/>
<input id="r104" type="radio" name="g"/>
<input id="r105" type="radio" name="g"/>
<input id="r106" type="radio" name="g"/>
<input id="r107" type="radio" name="g"/>
<input id="r108" type="radio" name="g"/>
<input id="r109" type="radio" name="g"/>
<input id="r110" type="radio" name="g"/>
<input id="r111" type="radio" name="g"/>
<input id="r112" type="radio" name="g"/>
<input id="r113" type="radio" name="g"/>
<input id="r114" type="radio" name="g"/>
<input id="r115" type="radio" name="g"/>
<input id="r116" type="radio" name="g"/>
<input id="r117" type="radio" name="g"/>
<input id="r118" type="radio" name="g"/>
<input id="r119" type="radio" name="g"/>
<input id="r120" type="radio" name="g"/>
<input id="r121" type="radio" name="g"/>
<input id="r122" type="radio" name="g"/>
<input id="r123" type="radio" name="g"/>
<input id="r124" type="radio" name="g"/>
<input id="r125" type="radio" name="g"/>
<input id="r126" type="radio" name="g"/>
<input id="r127" type="radio" name="g"/>
<input id="r128" type="radio" name="g"/>
<input id="r129" type="radio" name="g"/>
<input id="r130" type="radio" name="g"/>
<input id="r131" type="radio" name="g"/>
<input id="r132" type="radio" name="g"/>
<input id="r133" type="radio" name="g"/>
<input id="r134" type="radio" name="g"/>
<input id="r135" type="radio" name="g"/>
<input id="r136" type="radio" name="g"/>
<input id="r137" type="radio" name="g"/>
<input id="r138" type="radio" name="g"/>
<input id="r139" type="radio" name="g"/>
<input id="r140" type="radio" name="g"/>
<input id="r141" type="radio" name="g"/>
<input id="r142" type="radio" name="g"/>
<input id="r143" type="radio" name="g"/>
<input id="r144" type="radio" name="g"/>
<input id="r145" type="radio" name="g"/>
<input id="r146" type="radio" name="g"/>
<input id="r147" type="radio" name="g"/>
<input id="r148" type="radio" name="g"/>
<input id="r149" type="radio" name="g"/>
<input id="r150" type="radio" name="g"/>
<input id="r151" type="radio" name="g"/>
<input id="r152" type="radio" name="g"/>
<input id="r153" type="radio" name="g"/>
<input id="r154" type="radio" name="g"/>
<input id="i0" type="radio" name="i"/>
<input id="i1" type="radio" name="i"/>
<input id="i2" type="radio" name="i"/>
<input id="i3" type="radio" name="i"/>
<input id="i4" type="radio" name="i"/>
<input id="i5" type="radio" name="i"/>
<input id="i6" type="radio" name="i"/>
<input id="i7" type="radio" name="i"/>
<input id="i8" type="radio" name="i"/>
<input id="i9" type="radio" name="i"/>
<input id="i10" type="radio" name="i"/>
<input id="i11" type="radio" name="i"/>
<div id="container"><div class="section">
<div class="doc">
</div>
<div class="code"><pre><code><span class="keyword">package</span> pq

<span class="keyword">import</span> (
	<label for="i0"><span class="lit-string i0">"bytes"</span></label>
	<label for="i1"><span class="lit-string i1">"database/sql/driver"</span></label>
	<label for="i2"><span class="lit-string i2">"encoding/binary"</span></label>
	<label for="i3"><span class="lit-string i3">"encoding/hex"</span></label>
	<label for="i4"><span class="lit-string i4">"errors"</span></label>
	<label for="i5"><span class="lit-string i5">"fmt"</span></label>
	<label for="i6"><span class="lit-string i6">"math"</span></label>
	<label for="i7"><span class="lit-string i7">"strconv"</span></label>
	<label for="i8"><span class="lit-string i8">"strings"</span></label>
	<label for="i9"><span class="lit-string i9">"sync"</span></label>
	<label for="i10"><span class="lit-string i10">"time"</span></label>

	<label for="i11"><span class="lit-string i11">"github.com/lib/pq/oid"</span></label>
)

<span class="keyword">func</span> <label for="r0" class="ident"><a href="../../../../pkg/github.com/lib/pq.html#name-binaryEncode" class="ident">binaryEncode</a></label>(<label for="r1" class="ident">parameterStatus</label> *<a href="conn.go.html#line-55" class="ident">parameterStatus</a>, <label for="r2" class="ident">x</label> <span class="keyword">interface</span>{}) []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a> {
	<span class="keyword">switch</span> v := <label for="r2" class="ident">x</label>.(<span class="keyword">type</span>) {
	<span class="keyword">case</span> []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>:
		<span class="keyword">return</span> <label for="r3" class="ident">v</label>
	<span class="keyword">default</span>:
		<span class="keyword">return</span> <a href="#line-28" class="ident">encode</a>(<label for="r1" class="ident">parameterStatus</label>, <label for="r2" class="ident">x</label>, <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/types.go.html#line-47" class="ident">T_unknown</a>)
	}
}

<span class="keyword">func</span> <label for="r4" class="ident"><a href="../../../../pkg/github.com/lib/pq.html#name-encode" class="ident">encode</a></label>(<label for="r5" class="ident">parameterStatus</label> *<a href="conn.go.html#line-55" class="ident">parameterStatus</a>, <label for="r6" class="ident">x</label> <span class="keyword">interface</span>{}, <label for="r7" class="ident">pgtypOid</label> <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/doc.go.html#line-6" class="ident">Oid</a>) []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a> {
	<span class="keyword">switch</span> v := <label for="r6" class="ident">x</label>.(<span class="keyword">type</span>) {
	<span class="keyword">case</span> <a href="../../../../pkg/builtin.html#name-int64" class="ident">int64</a>:
		<span class="keyword">return</span> <a href="../../../../pkg/strconv.html" class="ident i7">strconv</a>.<a href="../../../strconv/itoa.go.html#line-40" class="ident">AppendInt</a>(<a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>, <label for="r8" class="ident">v</label>, <span class="lit-number">10</span>)
	<span class="keyword">case</span> <a href="../../../../pkg/builtin.html#name-float64" class="ident">float64</a>:
		<span class="keyword">return</span> <a href="../../../../pkg/strconv.html" class="ident i7">strconv</a>.<a href="../../../strconv/ftoa.go.html#line-53" class="ident">AppendFloat</a>(<a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>, <label for="r9" class="ident">v</label>, <span class="lit-number">'f'</span>, -<span class="lit-number">1</span>, <span class="lit-number">64</span>)
	<span class="keyword">case</span> []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>:
		<span class="keyword">if</span> <label for="r7" class="ident">pgtypOid</label> == <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/types.go.html#line-7" class="ident">T_bytea</a> {
			<span class="keyword">return</span> <a href="#line-559" class="ident">encodeBytea</a>(<label for="r5" class="ident">parameterStatus</label>.<a href="conn.go.html#line-58" class="ident">serverVersion</a>, <label for="r10" class="ident">v</label>)
		}

		<span class="keyword">return</span> <label for="r10" class="ident">v</label>
	<span class="keyword">case</span> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>:
		<span class="keyword">if</span> <label for="r7" class="ident">pgtypOid</label> == <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/types.go.html#line-7" class="ident">T_bytea</a> {
			<span class="keyword">return</span> <a href="#line-559" class="ident">encodeBytea</a>(<label for="r5" class="ident">parameterStatus</label>.<a href="conn.go.html#line-58" class="ident">serverVersion</a>, []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>(<label for="r11" class="ident">v</label>))
		}

		<span class="keyword">return</span> []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>(<label for="r11" class="ident">v</label>)
	<span class="keyword">case</span> <a href="../../../../pkg/builtin.html#name-bool" class="ident">bool</a>:
		<span class="keyword">return</span> <a href="../../../../pkg/strconv.html" class="ident i7">strconv</a>.<a href="../../../strconv/atob.go.html#line-30" class="ident">AppendBool</a>(<a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>, <label for="r12" class="ident">v</label>)
	<span class="keyword">case</span> <a href="../../../../pkg/time.html" class="ident i10">time</a>.<a href="../../../time/time.go.html#line-127" class="ident">Time</a>:
		<span class="keyword">return</span> <a href="#line-462" class="ident">formatTs</a>(<label for="r13" class="ident">v</label>)

	<span class="keyword">default</span>:
		<a href="error.go.html#line-459" class="ident">errorf</a>(<span class="lit-string">"encode: unknown type for %T"</span>, <label for="r14" class="ident">v</label>)
	}

	<a href="../../../../pkg/builtin.html#name-panic" class="ident">panic</a>(<span class="lit-string">"not reached"</span>)
}

<span class="keyword">func</span> <label for="r15" class="ident"><a href="../../../../pkg/github.com/lib/pq.html#name-decode" class="ident">decode</a></label>(<label for="r16" class="ident">parameterStatus</label> *<a href="conn.go.html#line-55" class="ident">parameterStatus</a>, <label for="r17" class="ident">s</label> []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>, <label for="r18" class="ident">typ</label> <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/doc.go.html#line-6" class="ident">Oid</a>, <label for="r19" class="ident">f</label> <a href="conn.go.html#line-1194" class="ident">format</a>) <span class="keyword">interface</span>{} {
	<span class="keyword">switch</span> <label for="r19" class="ident">f</label> {
	<span class="keyword">case</span> <a href="conn.go.html#line-1197" class="ident">formatBinary</a>:
		<span class="keyword">return</span> <a href="#line-69" class="ident">binaryDecode</a>(<label for="r16" class="ident">parameterStatus</label>, <label for="r17" class="ident">s</label>, <label for="r18" class="ident">typ</label>)
	<span class="keyword">case</span> <a href="conn.go.html#line-1196" class="ident">formatText</a>:
		<span class="keyword">return</span> <a href="#line-93" class="ident">textDecode</a>(<label for="r16" class="ident">parameterStatus</label>, <label for="r17" class="ident">s</label>, <label for="r18" class="ident">typ</label>)
	<span class="keyword">default</span>:
		<a href="../../../../pkg/builtin.html#name-panic" class="ident">panic</a>(<span class="lit-string">"not reached"</span>)
	}
}

<span class="keyword">func</span> <label for="r20" class="ident"><a href="../../../../pkg/github.com/lib/pq.html#name-binaryDecode" class="ident">binaryDecode</a></label>(<label for="r21" class="ident">parameterStatus</label> *<a href="conn.go.html#line-55" class="ident">parameterStatus</a>, <label for="r22" class="ident">s</label> []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>, <label for="r23" class="ident">typ</label> <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/doc.go.html#line-6" class="ident">Oid</a>) <span class="keyword">interface</span>{} {
	<span class="keyword">switch</span> <label for="r23" class="ident">typ</label> {
	<span class="keyword">case</span> <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/types.go.html#line-7" class="ident">T_bytea</a>:
		<span class="keyword">return</span> <label for="r22" class="ident">s</label>
	<span class="keyword">case</span> <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/types.go.html#line-10" class="ident">T_int8</a>:
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-int64" class="ident">int64</a>(<a href="../../../../pkg/encoding/binary.html" class="ident i2">binary</a>.<a href="../../../encoding/binary/binary.go.html#line-48" class="ident">BigEndian</a>.<a href="../../../encoding/binary/binary.go.html#line-124" class="ident">Uint64</a>(<label for="r22" class="ident">s</label>))
	<span class="keyword">case</span> <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/types.go.html#line-13" class="ident">T_int4</a>:
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-int64" class="ident">int64</a>(<a href="../../../../pkg/builtin.html#name-int32" class="ident">int32</a>(<a href="../../../../pkg/encoding/binary.html" class="ident i2">binary</a>.<a href="../../../encoding/binary/binary.go.html#line-48" class="ident">BigEndian</a>.<a href="../../../encoding/binary/binary.go.html#line-111" class="ident">Uint32</a>(<label for="r22" class="ident">s</label>)))
	<span class="keyword">case</span> <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/types.go.html#line-11" class="ident">T_int2</a>:
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-int64" class="ident">int64</a>(<a href="../../../../pkg/builtin.html#name-int16" class="ident">int16</a>(<a href="../../../../pkg/encoding/binary.html" class="ident i2">binary</a>.<a href="../../../encoding/binary/binary.go.html#line-48" class="ident">BigEndian</a>.<a href="../../../encoding/binary/binary.go.html#line-100" class="ident">Uint16</a>(<label for="r22" class="ident">s</label>)))
	<span class="keyword">case</span> <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/types.go.html#line-134" class="ident">T_uuid</a>:
		<label for="r24" class="ident">b</label>, <label for="r25" class="ident">err</label> := <a href="uuid.go.html#line-9" class="ident">decodeUUIDBinary</a>(<label for="r22" class="ident">s</label>)
		<span class="keyword">if</span> <label for="r25" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
			<a href="../../../../pkg/builtin.html#name-panic" class="ident">panic</a>(<label for="r25" class="ident">err</label>)
		}
		<span class="keyword">return</span> <label for="r24" class="ident">b</label>

	<span class="keyword">default</span>:
		<a href="error.go.html#line-459" class="ident">errorf</a>(<span class="lit-string">"don't know how to decode binary parameter of type %d"</span>, <a href="../../../../pkg/builtin.html#name-uint32" class="ident">uint32</a>(<label for="r23" class="ident">typ</label>))
	}

	<a href="../../../../pkg/builtin.html#name-panic" class="ident">panic</a>(<span class="lit-string">"not reached"</span>)
}

<span class="keyword">func</span> <label for="r26" class="ident"><a href="../../../../pkg/github.com/lib/pq.html#name-textDecode" class="ident">textDecode</a></label>(<label for="r27" class="ident">parameterStatus</label> *<a href="conn.go.html#line-55" class="ident">parameterStatus</a>, <label for="r28" class="ident">s</label> []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>, <label for="r29" class="ident">typ</label> <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/doc.go.html#line-6" class="ident">Oid</a>) <span class="keyword">interface</span>{} {
	<span class="keyword">switch</span> <label for="r29" class="ident">typ</label> {
	<span class="keyword">case</span> <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/types.go.html#line-8" class="ident">T_char</a>, <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/types.go.html#line-86" class="ident">T_varchar</a>, <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/types.go.html#line-15" class="ident">T_text</a>:
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>(<label for="r28" class="ident">s</label>)
	<span class="keyword">case</span> <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/types.go.html#line-7" class="ident">T_bytea</a>:
		<label for="r30" class="ident">b</label>, <label for="r31" class="ident">err</label> := <a href="#line-512" class="ident">parseBytea</a>(<label for="r28" class="ident">s</label>)
		<span class="keyword">if</span> <label for="r31" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
			<a href="error.go.html#line-459" class="ident">errorf</a>(<span class="lit-string">"%s"</span>, <label for="r31" class="ident">err</label>)
		}
		<span class="keyword">return</span> <label for="r30" class="ident">b</label>
	<span class="keyword">case</span> <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/types.go.html#line-93" class="ident">T_timestamptz</a>:
		<span class="keyword">return</span> <a href="#line-332" class="ident">parseTs</a>(<label for="r27" class="ident">parameterStatus</label>.<a href="conn.go.html#line-62" class="ident">currentLocation</a>, <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>(<label for="r28" class="ident">s</label>))
	<span class="keyword">case</span> <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/types.go.html#line-89" class="ident">T_timestamp</a>, <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/types.go.html#line-87" class="ident">T_date</a>:
		<span class="keyword">return</span> <a href="#line-332" class="ident">parseTs</a>(<a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>, <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>(<label for="r28" class="ident">s</label>))
	<span class="keyword">case</span> <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/types.go.html#line-88" class="ident">T_time</a>:
		<span class="keyword">return</span> <a href="#line-197" class="ident">mustParse</a>(<span class="lit-string">"15:04:05"</span>, <label for="r29" class="ident">typ</label>, <label for="r28" class="ident">s</label>)
	<span class="keyword">case</span> <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/types.go.html#line-100" class="ident">T_timetz</a>:
		<span class="keyword">return</span> <a href="#line-197" class="ident">mustParse</a>(<span class="lit-string">"15:04:05-07"</span>, <label for="r29" class="ident">typ</label>, <label for="r28" class="ident">s</label>)
	<span class="keyword">case</span> <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/types.go.html#line-6" class="ident">T_bool</a>:
		<span class="keyword">return</span> <label for="r28" class="ident">s</label>[<span class="lit-number">0</span>] == <span class="lit-number">'t'</span>
	<span class="keyword">case</span> <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/types.go.html#line-10" class="ident">T_int8</a>, <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/types.go.html#line-13" class="ident">T_int4</a>, <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/types.go.html#line-11" class="ident">T_int2</a>:
		<label for="r32" class="ident">i</label>, <label for="r33" class="ident">err</label> := <a href="../../../../pkg/strconv.html" class="ident i7">strconv</a>.<a href="../../../strconv/atoi.go.html#line-179" class="ident">ParseInt</a>(<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>(<label for="r28" class="ident">s</label>), <span class="lit-number">10</span>, <span class="lit-number">64</span>)
		<span class="keyword">if</span> <label for="r33" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
			<a href="error.go.html#line-459" class="ident">errorf</a>(<span class="lit-string">"%s"</span>, <label for="r33" class="ident">err</label>)
		}
		<span class="keyword">return</span> <label for="r32" class="ident">i</label>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> We always use 64 bit parsing, regardless of whether the input text is for</span><span class="comment">		 a float4 or float8, because clients expect float64s for all float datatypes</span><span class="comment">		 and returning a 32-bit parsed float64 produces lossy results.</span></div>
<div class="code"><pre><code>		<label for="r34" class="ident">f</label>, <label for="r35" class="ident">err</label> := <a href="../../../../pkg/strconv.html" class="ident i7">strconv</a>.<a href="../../../strconv/atof.go.html#line-690" class="ident">ParseFloat</a>(<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>(<label for="r28" class="ident">s</label>), <span class="lit-number">64</span>)
		<span class="keyword">if</span> <label for="r35" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
			<a href="error.go.html#line-459" class="ident">errorf</a>(<span class="lit-string">"%s"</span>, <label for="r35" class="ident">err</label>)
		}
		<span class="keyword">return</span> <label for="r34" class="ident">f</label>
	}

	<span class="keyword">return</span> <label for="r28" class="ident">s</label>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> appendEncodedText encodes item in text format as required by COPY</span><span class="comment"> and appends to buf</span></div>
<div class="code"><pre><code><span class="keyword">func</span> <label for="r36" class="ident"><a href="../../../../pkg/github.com/lib/pq.html#name-appendEncodedText" class="ident">appendEncodedText</a></label>(<label for="r37" class="ident">parameterStatus</label> *<a href="conn.go.html#line-55" class="ident">parameterStatus</a>, <label for="r38" class="ident">buf</label> []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>, <label for="r39" class="ident">x</label> <span class="keyword">interface</span>{}) []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a> {
	<span class="keyword">switch</span> v := <label for="r39" class="ident">x</label>.(<span class="keyword">type</span>) {
	<span class="keyword">case</span> <a href="../../../../pkg/builtin.html#name-int64" class="ident">int64</a>:
		<span class="keyword">return</span> <a href="../../../../pkg/strconv.html" class="ident i7">strconv</a>.<a href="../../../strconv/itoa.go.html#line-40" class="ident">AppendInt</a>(<label for="r38" class="ident">buf</label>, <label for="r40" class="ident">v</label>, <span class="lit-number">10</span>)
	<span class="keyword">case</span> <a href="../../../../pkg/builtin.html#name-float64" class="ident">float64</a>:
		<span class="keyword">return</span> <a href="../../../../pkg/strconv.html" class="ident i7">strconv</a>.<a href="../../../strconv/ftoa.go.html#line-53" class="ident">AppendFloat</a>(<label for="r38" class="ident">buf</label>, <label for="r41" class="ident">v</label>, <span class="lit-number">'f'</span>, -<span class="lit-number">1</span>, <span class="lit-number">64</span>)
	<span class="keyword">case</span> []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>:
		<label for="r42" class="ident">encodedBytea</label> := <a href="#line-559" class="ident">encodeBytea</a>(<label for="r37" class="ident">parameterStatus</label>.<a href="conn.go.html#line-58" class="ident">serverVersion</a>, <label for="r43" class="ident">v</label>)
		<span class="keyword">return</span> <a href="#line-159" class="ident">appendEscapedText</a>(<label for="r38" class="ident">buf</label>, <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>(<label for="r42" class="ident">encodedBytea</label>))
	<span class="keyword">case</span> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>:
		<span class="keyword">return</span> <a href="#line-159" class="ident">appendEscapedText</a>(<label for="r38" class="ident">buf</label>, <label for="r44" class="ident">v</label>)
	<span class="keyword">case</span> <a href="../../../../pkg/builtin.html#name-bool" class="ident">bool</a>:
		<span class="keyword">return</span> <a href="../../../../pkg/strconv.html" class="ident i7">strconv</a>.<a href="../../../strconv/atob.go.html#line-30" class="ident">AppendBool</a>(<label for="r38" class="ident">buf</label>, <label for="r45" class="ident">v</label>)
	<span class="keyword">case</span> <a href="../../../../pkg/time.html" class="ident i10">time</a>.<a href="../../../time/time.go.html#line-127" class="ident">Time</a>:
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r38" class="ident">buf</label>, <a href="#line-462" class="ident">formatTs</a>(<label for="r46" class="ident">v</label>)...)
	<span class="keyword">case</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>:
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r38" class="ident">buf</label>, <span class="lit-string">"\\N"</span>...)
	<span class="keyword">default</span>:
		<a href="error.go.html#line-459" class="ident">errorf</a>(<span class="lit-string">"encode: unknown type for %T"</span>, <label for="r47" class="ident">v</label>)
	}

	<a href="../../../../pkg/builtin.html#name-panic" class="ident">panic</a>(<span class="lit-string">"not reached"</span>)
}

<span class="keyword">func</span> <label for="r48" class="ident"><a href="../../../../pkg/github.com/lib/pq.html#name-appendEscapedText" class="ident">appendEscapedText</a></label>(<label for="r49" class="ident">buf</label> []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>, <label for="r50" class="ident">text</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>) []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a> {
	<label for="r51" class="ident">escapeNeeded</label> := <a href="../../../../pkg/builtin.html#name-false" class="ident">false</a>
	<label for="r52" class="ident">startPos</label> := <span class="lit-number">0</span>
	<span class="keyword">var</span> <label for="r53" class="ident">c</label> <a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> check if we need to escape</span></div>
<div class="code"><pre><code>	<span class="keyword">for</span> <label for="r54" class="ident">i</label> := <span class="lit-number">0</span>; <label for="r54" class="ident">i</label> &lt; <a href="../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r50" class="ident">text</label>); <label for="r54" class="ident">i</label>++ {
		<label for="r53" class="ident">c</label> = <label for="r50" class="ident">text</label>[<label for="r54" class="ident">i</label>]
		<span class="keyword">if</span> <label for="r53" class="ident">c</label> == <span class="lit-number">'\\'</span> || <label for="r53" class="ident">c</label> == <span class="lit-number">'\n'</span> || <label for="r53" class="ident">c</label> == <span class="lit-number">'\r'</span> || <label for="r53" class="ident">c</label> == <span class="lit-number">'\t'</span> {
			<label for="r51" class="ident">escapeNeeded</label> = <a href="../../../../pkg/builtin.html#name-true" class="ident">true</a>
			<label for="r52" class="ident">startPos</label> = <label for="r54" class="ident">i</label>
			<span class="keyword">break</span>
		}
	}
	<span class="keyword">if</span> !<label for="r51" class="ident">escapeNeeded</label> {
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r49" class="ident">buf</label>, <label for="r50" class="ident">text</label>...)
	}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> copy till first char to escape, iterate the rest</span></div>
<div class="code"><pre><code>	<label for="r55" class="ident">result</label> := <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r49" class="ident">buf</label>, <label for="r50" class="ident">text</label>[:<label for="r52" class="ident">startPos</label>]...)
	<span class="keyword">for</span> <label for="r56" class="ident">i</label> := <label for="r52" class="ident">startPos</label>; <label for="r56" class="ident">i</label> &lt; <a href="../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r50" class="ident">text</label>); <label for="r56" class="ident">i</label>++ {
		<label for="r53" class="ident">c</label> = <label for="r50" class="ident">text</label>[<label for="r56" class="ident">i</label>]
		<span class="keyword">switch</span> <label for="r53" class="ident">c</label> {
		<span class="keyword">case</span> <span class="lit-number">'\\'</span>:
			<label for="r55" class="ident">result</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r55" class="ident">result</label>, <span class="lit-number">'\\'</span>, <span class="lit-number">'\\'</span>)
		<span class="keyword">case</span> <span class="lit-number">'\n'</span>:
			<label for="r55" class="ident">result</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r55" class="ident">result</label>, <span class="lit-number">'\\'</span>, <span class="lit-number">'n'</span>)
		<span class="keyword">case</span> <span class="lit-number">'\r'</span>:
			<label for="r55" class="ident">result</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r55" class="ident">result</label>, <span class="lit-number">'\\'</span>, <span class="lit-number">'r'</span>)
		<span class="keyword">case</span> <span class="lit-number">'\t'</span>:
			<label for="r55" class="ident">result</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r55" class="ident">result</label>, <span class="lit-number">'\\'</span>, <span class="lit-number">'t'</span>)
		<span class="keyword">default</span>:
			<label for="r55" class="ident">result</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r55" class="ident">result</label>, <label for="r53" class="ident">c</label>)
		}
	}
	<span class="keyword">return</span> <label for="r55" class="ident">result</label>
}

<span class="keyword">func</span> <label for="r57" class="ident"><a href="../../../../pkg/github.com/lib/pq.html#name-mustParse" class="ident">mustParse</a></label>(<label for="r58" class="ident">f</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>, <label for="r59" class="ident">typ</label> <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/doc.go.html#line-6" class="ident">Oid</a>, <label for="r60" class="ident">s</label> []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>) <a href="../../../../pkg/time.html" class="ident i10">time</a>.<a href="../../../time/time.go.html#line-127" class="ident">Time</a> {
	<label for="r61" class="ident">str</label> := <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>(<label for="r60" class="ident">s</label>)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> check for a 30-minute-offset timezone</span></div>
<div class="code"><pre><code>	<span class="keyword">if</span> (<label for="r59" class="ident">typ</label> == <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/types.go.html#line-93" class="ident">T_timestamptz</a> || <label for="r59" class="ident">typ</label> == <a href="../../../../pkg/github.com/lib/pq/oid.html" class="ident i11">oid</a>.<a href="oid/types.go.html#line-100" class="ident">T_timetz</a>) &amp;&amp;
		<label for="r61" class="ident">str</label>[<a href="../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r61" class="ident">str</label>)-<span class="lit-number">3</span>] == <span class="lit-number">':'</span> {
		<label for="r58" class="ident">f</label> += <span class="lit-string">":00"</span>
	}
	<label for="r62" class="ident">t</label>, <label for="r63" class="ident">err</label> := <a href="../../../../pkg/time.html" class="ident i10">time</a>.<a href="../../../time/format.go.html#line-814" class="ident">Parse</a>(<label for="r58" class="ident">f</label>, <label for="r61" class="ident">str</label>)
	<span class="keyword">if</span> <label for="r63" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<a href="error.go.html#line-459" class="ident">errorf</a>(<span class="lit-string">"decode: %s"</span>, <label for="r63" class="ident">err</label>)
	}
	<span class="keyword">return</span> <label for="r62" class="ident">t</label>
}

<span class="keyword">var</span> <a href="../../../../pkg/github.com/lib/pq.html#name-errInvalidTimestamp" class="ident">errInvalidTimestamp</a> = <a href="../../../../pkg/errors.html" class="ident i4">errors</a>.<a href="../../../errors/errors.go.html#line-58" class="ident">New</a>(<span class="lit-string">"invalid timestamp"</span>)

<span class="keyword">type</span> <a href="../../../../pkg/github.com/lib/pq.html#name-timestampParser" class="ident">timestampParser</a> <span class="keyword">struct</span> {
	<a href="../../../../use/github.com/lib/pq..timestampParser*41595.err*d9eb2.html" class="ident">err</a> <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a>
}

<span class="keyword">func</span> (<label for="r64" class="ident">p</label> *<a href="#line-214" class="ident">timestampParser</a>) <label for="r65" class="ident"><a href="../../../../use/github.com/lib/pq..timestampParser*41595.expect*77f2f.html" class="ident">expect</a></label>(<label for="r66" class="ident">str</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>, <label for="r67" class="ident">char</label> <a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>, <label for="r68" class="ident">pos</label> <a href="../../../../pkg/builtin.html#name-int" class="ident">int</a>) {
	<span class="keyword">if</span> <label for="r64" class="ident">p</label>.<a href="#line-215" class="ident">err</a> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span>
	}
	<span class="keyword">if</span> <label for="r68" class="ident">pos</label>+<span class="lit-number">1</span> &gt; <a href="../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r66" class="ident">str</label>) {
		<label for="r64" class="ident">p</label>.<a href="#line-215" class="ident">err</a> = <a href="#line-212" class="ident">errInvalidTimestamp</a>
		<span class="keyword">return</span>
	}
	<span class="keyword">if</span> <label for="r69" class="ident">c</label> := <label for="r66" class="ident">str</label>[<label for="r68" class="ident">pos</label>]; <label for="r69" class="ident">c</label> != <label for="r67" class="ident">char</label> &amp;&amp; <label for="r64" class="ident">p</label>.<a href="#line-215" class="ident">err</a> == <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<label for="r64" class="ident">p</label>.<a href="#line-215" class="ident">err</a> = <a href="../../../../pkg/fmt.html" class="ident i5">fmt</a>.<a href="../../../fmt/errors.go.html#line-17" class="ident">Errorf</a>(<span class="lit-string">"expected '%v' at position %v; got '%v'"</span>, <label for="r67" class="ident">char</label>, <label for="r68" class="ident">pos</label>, <label for="r69" class="ident">c</label>)
	}
}

<span class="keyword">func</span> (<label for="r70" class="ident">p</label> *<a href="#line-214" class="ident">timestampParser</a>) <label for="r71" class="ident"><a href="../../../../use/github.com/lib/pq..timestampParser*41595.mustAtoi*b1617.html" class="ident">mustAtoi</a></label>(<label for="r72" class="ident">str</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>, <label for="r73" class="ident">begin</label> <a href="../../../../pkg/builtin.html#name-int" class="ident">int</a>, <label for="r74" class="ident">end</label> <a href="../../../../pkg/builtin.html#name-int" class="ident">int</a>) <a href="../../../../pkg/builtin.html#name-int" class="ident">int</a> {
	<span class="keyword">if</span> <label for="r70" class="ident">p</label>.<a href="#line-215" class="ident">err</a> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">return</span> <span class="lit-number">0</span>
	}
	<span class="keyword">if</span> <label for="r73" class="ident">begin</label> &lt; <span class="lit-number">0</span> || <label for="r74" class="ident">end</label> &lt; <span class="lit-number">0</span> || <label for="r73" class="ident">begin</label> &gt; <label for="r74" class="ident">end</label> || <label for="r74" class="ident">end</label> &gt; <a href="../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r72" class="ident">str</label>) {
		<label for="r70" class="ident">p</label>.<a href="#line-215" class="ident">err</a> = <a href="#line-212" class="ident">errInvalidTimestamp</a>
		<span class="keyword">return</span> <span class="lit-number">0</span>
	}
	<label for="r75" class="ident">result</label>, <label for="r76" class="ident">err</label> := <a href="../../../../pkg/strconv.html" class="ident i7">strconv</a>.<a href="../../../strconv/atoi.go.html#line-224" class="ident">Atoi</a>(<label for="r72" class="ident">str</label>[<label for="r73" class="ident">begin</label>:<label for="r74" class="ident">end</label>])
	<span class="keyword">if</span> <label for="r76" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<span class="keyword">if</span> <label for="r70" class="ident">p</label>.<a href="#line-215" class="ident">err</a> == <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
			<label for="r70" class="ident">p</label>.<a href="#line-215" class="ident">err</a> = <a href="../../../../pkg/fmt.html" class="ident i5">fmt</a>.<a href="../../../fmt/errors.go.html#line-17" class="ident">Errorf</a>(<span class="lit-string">"expected number; got '%v'"</span>, <label for="r72" class="ident">str</label>)
		}
		<span class="keyword">return</span> <span class="lit-number">0</span>
	}
	<span class="keyword">return</span> <label for="r75" class="ident">result</label>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> The location cache caches the time zones typically used by the client.</span></div>
<div class="code"><pre><code><span class="keyword">type</span> <a href="../../../../pkg/github.com/lib/pq.html#name-locationCache" class="ident">locationCache</a> <span class="keyword">struct</span> {
	<a href="../../../../use/github.com/lib/pq..locationCache*4bb08.cache*5e1ec.html" class="ident">cache</a> <span class="keyword">map</span>[<a href="../../../../pkg/builtin.html#name-int" class="ident">int</a>]*<a href="../../../../pkg/time.html" class="ident i10">time</a>.<a href="../../../time/zoneinfo.go.html#line-19" class="ident">Location</a>
	<a href="../../../../use/github.com/lib/pq..locationCache*4bb08.lock*0c030.html" class="ident">lock</a>  <a href="../../../../pkg/sync.html" class="ident i9">sync</a>.<a href="../../../sync/mutex.go.html#line-25" class="ident">Mutex</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> All connections share the same list of timezones. Benchmarking shows that</span><span class="comment"> about 5% speed could be gained by putting the cache in the connection and</span><span class="comment"> losing the mutex, at the cost of a small amount of memory and a somewhat</span><span class="comment"> significant increase in code complexity.</span></div>
<div class="code"><pre><code><span class="keyword">var</span> <a href="../../../../pkg/github.com/lib/pq.html#name-globalLocationCache" class="ident">globalLocationCache</a> = <a href="#line-261" class="ident">newLocationCache</a>()

<span class="keyword">func</span> <label for="r77" class="ident"><a href="../../../../pkg/github.com/lib/pq.html#name-newLocationCache" class="ident">newLocationCache</a></label>() *<a href="#line-250" class="ident">locationCache</a> {
	<span class="keyword">return</span> &amp;<a href="#line-250" class="ident">locationCache</a>{<a href="#line-251" class="ident">cache</a>: <a href="../../../../pkg/builtin.html#name-make" class="ident">make</a>(<span class="keyword">map</span>[<a href="../../../../pkg/builtin.html#name-int" class="ident">int</a>]*<a href="../../../../pkg/time.html" class="ident i10">time</a>.<a href="../../../time/zoneinfo.go.html#line-19" class="ident">Location</a>)}
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Returns the cached timezone for the specified offset, creating and caching</span><span class="comment"> it if necessary.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r78" class="ident">c</label> *<a href="#line-250" class="ident">locationCache</a>) <label for="r79" class="ident"><a href="../../../../use/github.com/lib/pq..locationCache*4bb08.getLocation*8de5e.html" class="ident">getLocation</a></label>(<label for="r80" class="ident">offset</label> <a href="../../../../pkg/builtin.html#name-int" class="ident">int</a>) *<a href="../../../../pkg/time.html" class="ident i10">time</a>.<a href="../../../time/zoneinfo.go.html#line-19" class="ident">Location</a> {
	<label for="r78" class="ident">c</label>.<a href="#line-252" class="ident">lock</a>.<a href="../../../sync/mutex.go.html#line-72" class="ident">Lock</a>()
	<span class="keyword">defer</span> <label for="r78" class="ident">c</label>.<a href="#line-252" class="ident">lock</a>.<a href="../../../sync/mutex.go.html#line-179" class="ident">Unlock</a>()

	<label for="r81" class="ident">location</label>, <label for="r82" class="ident">ok</label> := <label for="r78" class="ident">c</label>.<a href="#line-251" class="ident">cache</a>[<label for="r80" class="ident">offset</label>]
	<span class="keyword">if</span> !<label for="r82" class="ident">ok</label> {
		<label for="r81" class="ident">location</label> = <a href="../../../../pkg/time.html" class="ident i10">time</a>.<a href="../../../time/zoneinfo.go.html#line-105" class="ident">FixedZone</a>(<span class="lit-string">""</span>, <label for="r80" class="ident">offset</label>)
		<label for="r78" class="ident">c</label>.<a href="#line-251" class="ident">cache</a>[<label for="r80" class="ident">offset</label>] = <label for="r81" class="ident">location</label>
	}

	<span class="keyword">return</span> <label for="r81" class="ident">location</label>
}

<span class="keyword">var</span> <a href="../../../../pkg/github.com/lib/pq.html#name-infinityTsEnabled" class="ident">infinityTsEnabled</a> = <a href="../../../../pkg/builtin.html#name-false" class="ident">false</a>
<span class="keyword">var</span> <a href="../../../../pkg/github.com/lib/pq.html#name-infinityTsNegative" class="ident">infinityTsNegative</a> <a href="../../../../pkg/time.html" class="ident i10">time</a>.<a href="../../../time/time.go.html#line-127" class="ident">Time</a>
<span class="keyword">var</span> <a href="../../../../pkg/github.com/lib/pq.html#name-infinityTsPositive" class="ident">infinityTsPositive</a> <a href="../../../../pkg/time.html" class="ident i10">time</a>.<a href="../../../time/time.go.html#line-127" class="ident">Time</a>

<span class="keyword">const</span> (
	<a href="../../../../pkg/github.com/lib/pq.html#name-infinityTsEnabledAlready" class="ident">infinityTsEnabledAlready</a>        = <span class="lit-string">"pq: infinity timestamp enabled already"</span>
	<a href="../../../../pkg/github.com/lib/pq.html#name-infinityTsNegativeMustBeSmaller" class="ident">infinityTsNegativeMustBeSmaller</a> = <span class="lit-string">"pq: infinity timestamp: negative value must be smaller (before) than positive"</span>
)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> EnableInfinityTs controls the handling of Postgres' "-infinity" and</span><span class="comment"> "infinity" "timestamp"s.</span><span class="comment"></span><span class="comment"> If EnableInfinityTs is not called, "-infinity" and "infinity" will return</span><span class="comment"> []byte("-infinity") and []byte("infinity") respectively, and potentially</span><span class="comment"> cause error "sql: Scan error on column index 0: unsupported driver -&gt; Scan</span><span class="comment"> pair: []uint8 -&gt; *time.Time", when scanning into a time.Time value.</span><span class="comment"></span><span class="comment"> Once EnableInfinityTs has been called, all connections created using this</span><span class="comment"> driver will decode Postgres' "-infinity" and "infinity" for "timestamp",</span><span class="comment"> "timestamp with time zone" and "date" types to the predefined minimum and</span><span class="comment"> maximum times, respectively.  When encoding time.Time values, any time which</span><span class="comment"> equals or precedes the predefined minimum time will be encoded to</span><span class="comment"> "-infinity".  Any values at or past the maximum time will similarly be</span><span class="comment"> encoded to "infinity".</span><span class="comment"></span><span class="comment"> If EnableInfinityTs is called with negative &gt;= positive, it will panic.</span><span class="comment"> Calling EnableInfinityTs after a connection has been established results in</span><span class="comment"> undefined behavior.  If EnableInfinityTs is called more than once, it will</span><span class="comment"> panic.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> <label for="r83" class="ident"><a href="../../../../pkg/github.com/lib/pq.html#name-EnableInfinityTs" class="ident">EnableInfinityTs</a></label>(<label for="r84" class="ident">negative</label> <a href="../../../../pkg/time.html" class="ident i10">time</a>.<a href="../../../time/time.go.html#line-127" class="ident">Time</a>, <label for="r85" class="ident">positive</label> <a href="../../../../pkg/time.html" class="ident i10">time</a>.<a href="../../../time/time.go.html#line-127" class="ident">Time</a>) {
	<span class="keyword">if</span> <a href="#line-280" class="ident">infinityTsEnabled</a> {
		<a href="../../../../pkg/builtin.html#name-panic" class="ident">panic</a>(<a href="#line-285" class="ident">infinityTsEnabledAlready</a>)
	}
	<span class="keyword">if</span> !<label for="r84" class="ident">negative</label>.<a href="../../../time/time.go.html#line-251" class="ident">Before</a>(<label for="r85" class="ident">positive</label>) {
		<a href="../../../../pkg/builtin.html#name-panic" class="ident">panic</a>(<a href="#line-286" class="ident">infinityTsNegativeMustBeSmaller</a>)
	}
	<a href="#line-280" class="ident">infinityTsEnabled</a> = <a href="../../../../pkg/builtin.html#name-true" class="ident">true</a>
	<a href="#line-281" class="ident">infinityTsNegative</a> = <label for="r84" class="ident">negative</label>
	<a href="#line-282" class="ident">infinityTsPositive</a> = <label for="r85" class="ident">positive</label>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"></span><span class="comment"> * Testing might want to toggle infinityTsEnabled</span><span class="comment"> </span></div>
<div class="code"><pre><code><span class="keyword">func</span> <label for="r86" class="ident"><a href="../../../../pkg/github.com/lib/pq.html#name-disableInfinityTs" class="ident">disableInfinityTs</a></label>() {
	<a href="#line-280" class="ident">infinityTsEnabled</a> = <a href="../../../../pkg/builtin.html#name-false" class="ident">false</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> This is a time function specific to the Postgres default DateStyle</span><span class="comment"> setting ("ISO, MDY"), the only one we currently support. This</span><span class="comment"> accounts for the discrepancies between the parsing available with</span><span class="comment"> time.Parse and the Postgres date formatting quirks.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> <label for="r87" class="ident"><a href="../../../../pkg/github.com/lib/pq.html#name-parseTs" class="ident">parseTs</a></label>(<label for="r88" class="ident">currentLocation</label> *<a href="../../../../pkg/time.html" class="ident i10">time</a>.<a href="../../../time/zoneinfo.go.html#line-19" class="ident">Location</a>, <label for="r89" class="ident">str</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>) <span class="keyword">interface</span>{} {
	<span class="keyword">switch</span> <label for="r89" class="ident">str</label> {
	<span class="keyword">case</span> <span class="lit-string">"-infinity"</span>:
		<span class="keyword">if</span> <a href="#line-280" class="ident">infinityTsEnabled</a> {
			<span class="keyword">return</span> <a href="#line-281" class="ident">infinityTsNegative</a>
		}
		<span class="keyword">return</span> []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>(<label for="r89" class="ident">str</label>)
	<span class="keyword">case</span> <span class="lit-string">"infinity"</span>:
		<span class="keyword">if</span> <a href="#line-280" class="ident">infinityTsEnabled</a> {
			<span class="keyword">return</span> <a href="#line-282" class="ident">infinityTsPositive</a>
		}
		<span class="keyword">return</span> []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>(<label for="r89" class="ident">str</label>)
	}
	<label for="r90" class="ident">t</label>, <label for="r91" class="ident">err</label> := <a href="#line-356" class="ident">ParseTimestamp</a>(<label for="r88" class="ident">currentLocation</label>, <label for="r89" class="ident">str</label>)
	<span class="keyword">if</span> <label for="r91" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
		<a href="../../../../pkg/builtin.html#name-panic" class="ident">panic</a>(<label for="r91" class="ident">err</label>)
	}
	<span class="keyword">return</span> <label for="r90" class="ident">t</label>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> ParseTimestamp parses Postgres' text format. It returns a time.Time in</span><span class="comment"> currentLocation iff that time's offset agrees with the offset sent from the</span><span class="comment"> Postgres server. Otherwise, ParseTimestamp returns a time.Time with the</span><span class="comment"> fixed offset offset provided by the Postgres server.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> <label for="r92" class="ident"><a href="../../../../pkg/github.com/lib/pq.html#name-ParseTimestamp" class="ident">ParseTimestamp</a></label>(<label for="r93" class="ident">currentLocation</label> *<a href="../../../../pkg/time.html" class="ident i10">time</a>.<a href="../../../time/zoneinfo.go.html#line-19" class="ident">Location</a>, <label for="r94" class="ident">str</label> <a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>) (<a href="../../../../pkg/time.html" class="ident i10">time</a>.<a href="../../../time/time.go.html#line-127" class="ident">Time</a>, <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a>) {
	<label for="r95" class="ident">p</label> := <a href="#line-214" class="ident">timestampParser</a>{}

</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> this is Gregorian year, not ISO Year</span><span class="comment">	 In Gregorian system, the year 1 BC is followed by AD 1</span></div>
<div class="code"><pre><code>	<label for="r97" class="ident">year</label> := <label for="r95" class="ident">p</label>.<a href="#line-231" class="ident">mustAtoi</a>(<label for="r94" class="ident">str</label>, <span class="lit-number">0</span>, <label for="r96" class="ident">monSep</label>)
	<label for="r98" class="ident">daySep</label> := <label for="r96" class="ident">monSep</label> + <span class="lit-number">3</span>
	<label for="r99" class="ident">month</label> := <label for="r95" class="ident">p</label>.<a href="#line-231" class="ident">mustAtoi</a>(<label for="r94" class="ident">str</label>, <label for="r96" class="ident">monSep</label>+<span class="lit-number">1</span>, <label for="r98" class="ident">daySep</label>)
	<label for="r95" class="ident">p</label>.<a href="#line-218" class="ident">expect</a>(<label for="r94" class="ident">str</label>, <span class="lit-number">'-'</span>, <label for="r98" class="ident">daySep</label>)
	<label for="r100" class="ident">timeSep</label> := <label for="r98" class="ident">daySep</label> + <span class="lit-number">3</span>
	<label for="r101" class="ident">day</label> := <label for="r95" class="ident">p</label>.<a href="#line-231" class="ident">mustAtoi</a>(<label for="r94" class="ident">str</label>, <label for="r98" class="ident">daySep</label>+<span class="lit-number">1</span>, <label for="r100" class="ident">timeSep</label>)

	<label for="r102" class="ident">minLen</label> := <label for="r96" class="ident">monSep</label> + <a href="../../../../pkg/builtin.html#name-len" class="ident">len</a>(<span class="lit-string">"01-01"</span>) + <span class="lit-number">1</span>

	<label for="r103" class="ident">isBC</label> := <a href="../../../../pkg/strings.html" class="ident i8">strings</a>.<a href="../../../strings/strings.go.html#line-449" class="ident">HasSuffix</a>(<label for="r94" class="ident">str</label>, <span class="lit-string">" BC"</span>)
	<span class="keyword">if</span> <label for="r103" class="ident">isBC</label> {
		<label for="r102" class="ident">minLen</label> += <span class="lit-number">3</span>
	}

	<span class="keyword">var</span> <label for="r104" class="ident">hour</label>, <label for="r105" class="ident">minute</label>, <label for="r106" class="ident">second</label> <a href="../../../../pkg/builtin.html#name-int" class="ident">int</a>
	<span class="keyword">if</span> <a href="../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r94" class="ident">str</label>) &gt; <label for="r102" class="ident">minLen</label> {
		<label for="r95" class="ident">p</label>.<a href="#line-218" class="ident">expect</a>(<label for="r94" class="ident">str</label>, <span class="lit-number">' '</span>, <label for="r100" class="ident">timeSep</label>)
		<label for="r107" class="ident">minSep</label> := <label for="r100" class="ident">timeSep</label> + <span class="lit-number">3</span>
		<label for="r95" class="ident">p</label>.<a href="#line-218" class="ident">expect</a>(<label for="r94" class="ident">str</label>, <span class="lit-number">':'</span>, <label for="r107" class="ident">minSep</label>)
		<label for="r104" class="ident">hour</label> = <label for="r95" class="ident">p</label>.<a href="#line-231" class="ident">mustAtoi</a>(<label for="r94" class="ident">str</label>, <label for="r100" class="ident">timeSep</label>+<span class="lit-number">1</span>, <label for="r107" class="ident">minSep</label>)
		<label for="r108" class="ident">secSep</label> := <label for="r107" class="ident">minSep</label> + <span class="lit-number">3</span>
		<label for="r95" class="ident">p</label>.<a href="#line-218" class="ident">expect</a>(<label for="r94" class="ident">str</label>, <span class="lit-number">':'</span>, <label for="r108" class="ident">secSep</label>)
		<label for="r105" class="ident">minute</label> = <label for="r95" class="ident">p</label>.<a href="#line-231" class="ident">mustAtoi</a>(<label for="r94" class="ident">str</label>, <label for="r107" class="ident">minSep</label>+<span class="lit-number">1</span>, <label for="r108" class="ident">secSep</label>)
		<label for="r109" class="ident">secEnd</label> := <label for="r108" class="ident">secSep</label> + <span class="lit-number">3</span>
		<label for="r106" class="ident">second</label> = <label for="r95" class="ident">p</label>.<a href="#line-231" class="ident">mustAtoi</a>(<label for="r94" class="ident">str</label>, <label for="r108" class="ident">secSep</label>+<span class="lit-number">1</span>, <label for="r109" class="ident">secEnd</label>)
	}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Three optional (but ordered) sections follow: the</span><span class="comment">	 fractional seconds, the time zone offset, and the BC</span><span class="comment">	 designation. We set them up here and adjust the other</span><span class="comment">	 offsets if the preceding sections exist.</span></div>
<div class="code"><pre><code>
	<label for="r111" class="ident">nanoSec</label> := <span class="lit-number">0</span>
	<label for="r112" class="ident">tzOff</label> := <span class="lit-number">0</span>

	<span class="keyword">if</span> <label for="r110" class="ident">remainderIdx</label> &lt; <a href="../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r94" class="ident">str</label>) &amp;&amp; <label for="r94" class="ident">str</label>[<label for="r110" class="ident">remainderIdx</label>] == <span class="lit-number">'.'</span> {
		<label for="r113" class="ident">fracStart</label> := <label for="r110" class="ident">remainderIdx</label> + <span class="lit-number">1</span>
		<label for="r114" class="ident">fracOff</label> := <a href="../../../../pkg/strings.html" class="ident i8">strings</a>.<a href="../../../strings/strings.go.html#line-141" class="ident">IndexAny</a>(<label for="r94" class="ident">str</label>[<label for="r113" class="ident">fracStart</label>:], <span class="lit-string">"-+ "</span>)
		<span class="keyword">if</span> <label for="r114" class="ident">fracOff</label> &lt; <span class="lit-number">0</span> {
			<label for="r114" class="ident">fracOff</label> = <a href="../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r94" class="ident">str</label>) - <label for="r113" class="ident">fracStart</label>
		}
		<label for="r115" class="ident">fracSec</label> := <label for="r95" class="ident">p</label>.<a href="#line-231" class="ident">mustAtoi</a>(<label for="r94" class="ident">str</label>, <label for="r113" class="ident">fracStart</label>, <label for="r113" class="ident">fracStart</label>+<label for="r114" class="ident">fracOff</label>)
		<label for="r111" class="ident">nanoSec</label> = <label for="r115" class="ident">fracSec</label> * (<span class="lit-number">1000000000</span> / <a href="../../../../pkg/builtin.html#name-int" class="ident">int</a>(<a href="../../../../pkg/math.html" class="ident i6">math</a>.<a href="../../../math/pow.go.html#line-38" class="ident">Pow</a>(<span class="lit-number">10</span>, <a href="../../../../pkg/builtin.html#name-float64" class="ident">float64</a>(<label for="r114" class="ident">fracOff</label>))))

		<label for="r110" class="ident">remainderIdx</label> += <label for="r114" class="ident">fracOff</label> + <span class="lit-number">1</span>
	}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> time zone separator is always '-' or '+' (UTC is +00)</span></div>
<div class="code"><pre><code>		<span class="keyword">var</span> <label for="r117" class="ident">tzSign</label> <a href="../../../../pkg/builtin.html#name-int" class="ident">int</a>
		<span class="keyword">switch</span> <label for="r118" class="ident">c</label> := <label for="r94" class="ident">str</label>[<label for="r116" class="ident">tzStart</label>]; <label for="r118" class="ident">c</label> {
		<span class="keyword">case</span> <span class="lit-number">'-'</span>:
			<label for="r117" class="ident">tzSign</label> = -<span class="lit-number">1</span>
		<span class="keyword">case</span> <span class="lit-number">'+'</span>:
			<label for="r117" class="ident">tzSign</label> = +<span class="lit-number">1</span>
		<span class="keyword">default</span>:
			<span class="keyword">return</span> <a href="../../../../pkg/time.html" class="ident i10">time</a>.<a href="../../../time/time.go.html#line-127" class="ident">Time</a>{}, <a href="../../../../pkg/fmt.html" class="ident i5">fmt</a>.<a href="../../../fmt/errors.go.html#line-17" class="ident">Errorf</a>(<span class="lit-string">"expected '-' or '+' at position %v; got %v"</span>, <label for="r116" class="ident">tzStart</label>, <label for="r118" class="ident">c</label>)
		}
		<label for="r119" class="ident">tzHours</label> := <label for="r95" class="ident">p</label>.<a href="#line-231" class="ident">mustAtoi</a>(<label for="r94" class="ident">str</label>, <label for="r116" class="ident">tzStart</label>+<span class="lit-number">1</span>, <label for="r116" class="ident">tzStart</label>+<span class="lit-number">3</span>)
		<label for="r110" class="ident">remainderIdx</label> += <span class="lit-number">3</span>
		<span class="keyword">var</span> <label for="r120" class="ident">tzMin</label>, <label for="r121" class="ident">tzSec</label> <a href="../../../../pkg/builtin.html#name-int" class="ident">int</a>
		<span class="keyword">if</span> <label for="r110" class="ident">remainderIdx</label> &lt; <a href="../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r94" class="ident">str</label>) &amp;&amp; <label for="r94" class="ident">str</label>[<label for="r110" class="ident">remainderIdx</label>] == <span class="lit-number">':'</span> {
			<label for="r120" class="ident">tzMin</label> = <label for="r95" class="ident">p</label>.<a href="#line-231" class="ident">mustAtoi</a>(<label for="r94" class="ident">str</label>, <label for="r110" class="ident">remainderIdx</label>+<span class="lit-number">1</span>, <label for="r110" class="ident">remainderIdx</label>+<span class="lit-number">3</span>)
			<label for="r110" class="ident">remainderIdx</label> += <span class="lit-number">3</span>
		}
		<span class="keyword">if</span> <label for="r110" class="ident">remainderIdx</label> &lt; <a href="../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r94" class="ident">str</label>) &amp;&amp; <label for="r94" class="ident">str</label>[<label for="r110" class="ident">remainderIdx</label>] == <span class="lit-number">':'</span> {
			<label for="r121" class="ident">tzSec</label> = <label for="r95" class="ident">p</label>.<a href="#line-231" class="ident">mustAtoi</a>(<label for="r94" class="ident">str</label>, <label for="r110" class="ident">remainderIdx</label>+<span class="lit-number">1</span>, <label for="r110" class="ident">remainderIdx</label>+<span class="lit-number">3</span>)
			<label for="r110" class="ident">remainderIdx</label> += <span class="lit-number">3</span>
		}
		<label for="r112" class="ident">tzOff</label> = <label for="r117" class="ident">tzSign</label> * ((<label for="r119" class="ident">tzHours</label> * <span class="lit-number">60</span> * <span class="lit-number">60</span>) + (<label for="r120" class="ident">tzMin</label> * <span class="lit-number">60</span>) + <label for="r121" class="ident">tzSec</label>)
	}
	<span class="keyword">var</span> <label for="r122" class="ident">isoYear</label> <a href="../../../../pkg/builtin.html#name-int" class="ident">int</a>

	<span class="keyword">if</span> <label for="r103" class="ident">isBC</label> {
		<label for="r122" class="ident">isoYear</label> = <span class="lit-number">1</span> - <label for="r97" class="ident">year</label>
		<label for="r110" class="ident">remainderIdx</label> += <span class="lit-number">3</span>
	} <span class="keyword">else</span> {
		<label for="r122" class="ident">isoYear</label> = <label for="r97" class="ident">year</label>
	}
	<span class="keyword">if</span> <label for="r110" class="ident">remainderIdx</label> &lt; <a href="../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r94" class="ident">str</label>) {
		<span class="keyword">return</span> <a href="../../../../pkg/time.html" class="ident i10">time</a>.<a href="../../../time/time.go.html#line-127" class="ident">Time</a>{}, <a href="../../../../pkg/fmt.html" class="ident i5">fmt</a>.<a href="../../../fmt/errors.go.html#line-17" class="ident">Errorf</a>(<span class="lit-string">"expected end of input, got %v"</span>, <label for="r94" class="ident">str</label>[<label for="r110" class="ident">remainderIdx</label>:])
	}
	<label for="r123" class="ident">t</label> := <a href="../../../../pkg/time.html" class="ident i10">time</a>.<a href="../../../time/time.go.html#line-1342" class="ident">Date</a>(<label for="r122" class="ident">isoYear</label>, <a href="../../../../pkg/time.html" class="ident i10">time</a>.<a href="../../../time/time.go.html#line-273" class="ident">Month</a>(<label for="r99" class="ident">month</label>), <label for="r101" class="ident">day</label>,
		<label for="r104" class="ident">hour</label>, <label for="r105" class="ident">minute</label>, <label for="r106" class="ident">second</label>, <label for="r111" class="ident">nanoSec</label>,
		<a href="#line-259" class="ident">globalLocationCache</a>.<a href="#line-267" class="ident">getLocation</a>(<label for="r112" class="ident">tzOff</label>))

</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Set the location of the returned Time based on the session's</span><span class="comment">		 TimeZone value, but only if the local time zone database agrees with</span><span class="comment">		 the remote database on the offset.</span></div>
<div class="code"><pre><code>		<label for="r124" class="ident">lt</label> := <label for="r123" class="ident">t</label>.<a href="../../../time/time.go.html#line-1097" class="ident">In</a>(<label for="r93" class="ident">currentLocation</label>)
		<label for="r125" class="ident">_</label>, <label for="r126" class="ident">newOff</label> := <label for="r124" class="ident">lt</label>.<a href="../../../time/time.go.html#line-1116" class="ident">Zone</a>()
		<span class="keyword">if</span> <label for="r126" class="ident">newOff</label> == <label for="r112" class="ident">tzOff</label> {
			<label for="r123" class="ident">t</label> = <label for="r124" class="ident">lt</label>
		}
	}

	<span class="keyword">return</span> <label for="r123" class="ident">t</label>, <label for="r95" class="ident">p</label>.<a href="#line-215" class="ident">err</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> formatTs formats t into a format postgres understands.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> <label for="r127" class="ident"><a href="../../../../pkg/github.com/lib/pq.html#name-formatTs" class="ident">formatTs</a></label>(<label for="r128" class="ident">t</label> <a href="../../../../pkg/time.html" class="ident i10">time</a>.<a href="../../../time/time.go.html#line-127" class="ident">Time</a>) []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a> {
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> t &lt;= -infinity : ! (t &gt; -infinity)</span></div>
<div class="code"><pre><code>		<span class="keyword">if</span> !<label for="r128" class="ident">t</label>.<a href="../../../time/time.go.html#line-241" class="ident">After</a>(<a href="#line-281" class="ident">infinityTsNegative</a>) {
			<span class="keyword">return</span> []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>(<span class="lit-string">"-infinity"</span>)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> t &gt;= infinity : ! (!t &lt; infinity)</span></div>
<div class="code"><pre><code>		<span class="keyword">if</span> !<label for="r128" class="ident">t</label>.<a href="../../../time/time.go.html#line-251" class="ident">Before</a>(<a href="#line-282" class="ident">infinityTsPositive</a>) {
			<span class="keyword">return</span> []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>(<span class="lit-string">"infinity"</span>)
		}
	}
	<span class="keyword">return</span> <a href="#line-477" class="ident">FormatTimestamp</a>(<label for="r128" class="ident">t</label>)
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> FormatTimestamp formats t into Postgres' text format for timestamps.</span></div>
<div class="code"><pre><code></code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Need to send dates before 0001 A.D. with " BC" suffix, instead of the</span><span class="comment">	 minus sign preferred by Go.</span><span class="comment">	 Beware, "0000" in ISO is "1 BC", "-0001" is "2 BC" and so on</span></div>
<div class="code"><pre><code>	<label for="r131" class="ident">bc</label> := <a href="../../../../pkg/builtin.html#name-false" class="ident">false</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> flip year sign, and add 1, e.g: "0" will be "1", and "-10" will be "11"</span></div>
<div class="code"><pre><code>		<label for="r130" class="ident">t</label> = <label for="r130" class="ident">t</label>.<a href="../../../time/time.go.html#line-900" class="ident">AddDate</a>((-<label for="r130" class="ident">t</label>.<a href="../../../time/time.go.html#line-481" class="ident">Year</a>())*<span class="lit-number">2</span>+<span class="lit-number">1</span>, <span class="lit-number">0</span>, <span class="lit-number">0</span>)
		<label for="r131" class="ident">bc</label> = <a href="../../../../pkg/builtin.html#name-true" class="ident">true</a>
	}
	<label for="r132" class="ident">b</label> := []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>(<label for="r130" class="ident">t</label>.<a href="../../../time/format.go.html#line-495" class="ident">Format</a>(<span class="lit-string">"2006-01-02 15:04:05.999999999Z07:00"</span>))

	<label for="r133" class="ident">_</label>, <label for="r134" class="ident">offset</label> := <label for="r130" class="ident">t</label>.<a href="../../../time/time.go.html#line-1116" class="ident">Zone</a>()
	<label for="r134" class="ident">offset</label> %= <span class="lit-number">60</span>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> RFC3339Nano already printed the minus sign</span></div>
<div class="code"><pre><code>		<span class="keyword">if</span> <label for="r134" class="ident">offset</label> &lt; <span class="lit-number">0</span> {
			<label for="r134" class="ident">offset</label> = -<label for="r134" class="ident">offset</label>
		}

		<label for="r132" class="ident">b</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r132" class="ident">b</label>, <span class="lit-number">':'</span>)
		<span class="keyword">if</span> <label for="r134" class="ident">offset</label> &lt; <span class="lit-number">10</span> {
			<label for="r132" class="ident">b</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r132" class="ident">b</label>, <span class="lit-number">'0'</span>)
		}
		<label for="r132" class="ident">b</label> = <a href="../../../../pkg/strconv.html" class="ident i7">strconv</a>.<a href="../../../strconv/itoa.go.html#line-40" class="ident">AppendInt</a>(<label for="r132" class="ident">b</label>, <a href="../../../../pkg/builtin.html#name-int64" class="ident">int64</a>(<label for="r134" class="ident">offset</label>), <span class="lit-number">10</span>)
	}

	<span class="keyword">if</span> <label for="r131" class="ident">bc</label> {
		<label for="r132" class="ident">b</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r132" class="ident">b</label>, <span class="lit-string">" BC"</span>...)
	}
	<span class="keyword">return</span> <label for="r132" class="ident">b</label>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Parse a bytea value received from the server.  Both "hex" and the legacy</span><span class="comment"> "escape" format are supported.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> <label for="r135" class="ident"><a href="../../../../pkg/github.com/lib/pq.html#name-parseBytea" class="ident">parseBytea</a></label>(<label for="r136" class="ident">s</label> []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>) (<label for="r137" class="ident">result</label> []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>, <label for="r138" class="ident">err</label> <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a>) {
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> bytea_output = hex</span></div>
<div class="code"><pre><code>		<label for="r136" class="ident">s</label> = <label for="r136" class="ident">s</label>[<span class="lit-number">2</span>:] <span class="comment">// trim off leading "\\x"</span>
		<label for="r137" class="ident">result</label> = <a href="../../../../pkg/builtin.html#name-make" class="ident">make</a>([]<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>, <a href="../../../../pkg/encoding/hex.html" class="ident i3">hex</a>.<a href="../../../encoding/hex/hex.go.html#line-49" class="ident">DecodedLen</a>(<a href="../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r136" class="ident">s</label>)))
		<label for="r139" class="ident">_</label>, <label for="r140" class="ident">err</label> := <a href="../../../../pkg/encoding/hex.html" class="ident i3">hex</a>.<a href="../../../encoding/hex/hex.go.html#line-58" class="ident">Decode</a>(<label for="r137" class="ident">result</label>, <label for="r136" class="ident">s</label>)
		<span class="keyword">if</span> <label for="r140" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
			<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>, <label for="r140" class="ident">err</label>
		}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> bytea_output = escape</span></div>
<div class="code"><pre><code>		<span class="keyword">for</span> <a href="../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r136" class="ident">s</label>) &gt; <span class="lit-number">0</span> {
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> escaped '\\'</span></div>
<div class="code"><pre><code>				<span class="keyword">if</span> <a href="../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r136" class="ident">s</label>) &gt;= <span class="lit-number">2</span> &amp;&amp; <label for="r136" class="ident">s</label>[<span class="lit-number">1</span>] == <span class="lit-number">'\\'</span> {
					<label for="r137" class="ident">result</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r137" class="ident">result</label>, <span class="lit-number">'\\'</span>)
					<label for="r136" class="ident">s</label> = <label for="r136" class="ident">s</label>[<span class="lit-number">2</span>:]
					<span class="keyword">continue</span>
				}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> '\\' followed by an octal number</span></div>
<div class="code"><pre><code>				<span class="keyword">if</span> <a href="../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r136" class="ident">s</label>) &lt; <span class="lit-number">4</span> {
					<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>, <a href="../../../../pkg/fmt.html" class="ident i5">fmt</a>.<a href="../../../fmt/errors.go.html#line-17" class="ident">Errorf</a>(<span class="lit-string">"invalid bytea sequence %v"</span>, <label for="r136" class="ident">s</label>)
				}
				<label for="r141" class="ident">r</label>, <label for="r142" class="ident">err</label> := <a href="../../../../pkg/strconv.html" class="ident i7">strconv</a>.<a href="../../../strconv/atoi.go.html#line-179" class="ident">ParseInt</a>(<a href="../../../../pkg/builtin.html#name-string" class="ident">string</a>(<label for="r136" class="ident">s</label>[<span class="lit-number">1</span>:<span class="lit-number">4</span>]), <span class="lit-number">8</span>, <span class="lit-number">9</span>)
				<span class="keyword">if</span> <label for="r142" class="ident">err</label> != <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a> {
					<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>, <a href="../../../../pkg/fmt.html" class="ident i5">fmt</a>.<a href="../../../fmt/errors.go.html#line-17" class="ident">Errorf</a>(<span class="lit-string">"could not parse bytea value: %s"</span>, <label for="r142" class="ident">err</label>.Error())
				}
				<label for="r137" class="ident">result</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r137" class="ident">result</label>, <a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>(<label for="r141" class="ident">r</label>))
				<label for="r136" class="ident">s</label> = <label for="r136" class="ident">s</label>[<span class="lit-number">4</span>:]
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> We hit an unescaped, raw byte.  Try to read in as many as</span><span class="comment">				 possible in one go.</span></div>
<div class="code"><pre><code>				<label for="r143" class="ident">i</label> := <a href="../../../../pkg/bytes.html" class="ident i0">bytes</a>.<a href="../../../bytes/bytes.go.html#line-90" class="ident">IndexByte</a>(<label for="r136" class="ident">s</label>, <span class="lit-number">'\\'</span>)
				<span class="keyword">if</span> <label for="r143" class="ident">i</label> == -<span class="lit-number">1</span> {
					<label for="r137" class="ident">result</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r137" class="ident">result</label>, <label for="r136" class="ident">s</label>...)
					<span class="keyword">break</span>
				}
				<label for="r137" class="ident">result</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r137" class="ident">result</label>, <label for="r136" class="ident">s</label>[:<label for="r143" class="ident">i</label>]...)
				<label for="r136" class="ident">s</label> = <label for="r136" class="ident">s</label>[<label for="r143" class="ident">i</label>:]
			}
		}
	}

	<span class="keyword">return</span> <label for="r137" class="ident">result</label>, <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
}

<span class="keyword">func</span> <label for="r144" class="ident"><a href="../../../../pkg/github.com/lib/pq.html#name-encodeBytea" class="ident">encodeBytea</a></label>(<label for="r145" class="ident">serverVersion</label> <a href="../../../../pkg/builtin.html#name-int" class="ident">int</a>, <label for="r146" class="ident">v</label> []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>) (<label for="r147" class="ident">result</label> []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>) {
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Use the hex format if we know that the server supports it</span></div>
<div class="code"><pre><code>		<label for="r147" class="ident">result</label> = <a href="../../../../pkg/builtin.html#name-make" class="ident">make</a>([]<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>, <span class="lit-number">2</span>+<a href="../../../../pkg/encoding/hex.html" class="ident i3">hex</a>.<a href="../../../encoding/hex/hex.go.html#line-19" class="ident">EncodedLen</a>(<a href="../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r146" class="ident">v</label>)))
		<label for="r147" class="ident">result</label>[<span class="lit-number">0</span>] = <span class="lit-number">'\\'</span>
		<label for="r147" class="ident">result</label>[<span class="lit-number">1</span>] = <span class="lit-number">'x'</span>
		<a href="../../../../pkg/encoding/hex.html" class="ident i3">hex</a>.<a href="../../../encoding/hex/hex.go.html#line-25" class="ident">Encode</a>(<label for="r147" class="ident">result</label>[<span class="lit-number">2</span>:], <label for="r146" class="ident">v</label>)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> .. or resort to "escape"</span></div>
<div class="code"><pre><code>		<span class="keyword">for</span> <label for="r148" class="ident">_</label>, <label for="r149" class="ident">b</label> := <span class="keyword">range</span> <label for="r146" class="ident">v</label> {
			<span class="keyword">if</span> <label for="r149" class="ident">b</label> == <span class="lit-number">'\\'</span> {
				<label for="r147" class="ident">result</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r147" class="ident">result</label>, <span class="lit-number">'\\'</span>, <span class="lit-number">'\\'</span>)
			} <span class="keyword">else</span> <span class="keyword">if</span> <label for="r149" class="ident">b</label> &lt; <span class="lit-number">0x20</span> || <label for="r149" class="ident">b</label> &gt; <span class="lit-number">0x7e</span> {
				<label for="r147" class="ident">result</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r147" class="ident">result</label>, []<a href="../../../../pkg/builtin.html#name-byte" class="ident">byte</a>(<a href="../../../../pkg/fmt.html" class="ident i5">fmt</a>.<a href="../../../fmt/print.go.html#line-217" class="ident">Sprintf</a>(<span class="lit-string">"\\%03o"</span>, <label for="r149" class="ident">b</label>))...)
			} <span class="keyword">else</span> {
				<label for="r147" class="ident">result</label> = <a href="../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r147" class="ident">result</label>, <label for="r149" class="ident">b</label>)
			}
		}
	}

	<span class="keyword">return</span> <label for="r147" class="ident">result</label>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> NullTime represents a time.Time that may be null. NullTime implements the</span><span class="comment"> sql.Scanner interface so it can be used as a scan destination, similar to</span><span class="comment"> sql.NullString.</span></div>
<div class="code"><pre><code><span class="keyword">type</span> <a href="../../../../pkg/github.com/lib/pq.html#name-NullTime" class="ident">NullTime</a> <span class="keyword">struct</span> {
	<a href="../../../../use/github.com/lib/pq..NullTime.Time.html" class="ident">Time</a>  <a href="../../../../pkg/time.html" class="ident i10">time</a>.<a href="../../../time/time.go.html#line-127" class="ident">Time</a>
	<a href="../../../../use/github.com/lib/pq..NullTime.Valid.html" class="ident">Valid</a> <a href="../../../../pkg/builtin.html#name-bool" class="ident">bool</a> <span class="comment">// Valid is true if Time is not NULL</span>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Scan implements the Scanner interface.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r150" class="ident">nt</label> *<a href="#line-585" class="ident">NullTime</a>) <label for="r151" class="ident"><a href="../../../../use/github.com/lib/pq..NullTime.Scan.html" class="ident">Scan</a></label>(<label for="r152" class="ident">value</label> <span class="keyword">interface</span>{}) <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a> {
	<label for="r150" class="ident">nt</label>.<a href="#line-586" class="ident">Time</a>, <label for="r150" class="ident">nt</label>.<a href="#line-587" class="ident">Valid</a> = <label for="r152" class="ident">value</label>.(<a href="../../../../pkg/time.html" class="ident i10">time</a>.<a href="../../../time/time.go.html#line-127" class="ident">Time</a>)
	<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Value implements the driver Valuer interface.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r153" class="ident">nt</label> <a href="#line-585" class="ident">NullTime</a>) <label for="r154" class="ident"><a href="../../../../use/github.com/lib/pq..NullTime.Value.html" class="ident">Value</a></label>() (<a href="../../../../pkg/database/sql/driver.html" class="ident i1">driver</a>.<a href="../../../database/sql/driver/driver.go.html#line-61" class="ident">Value</a>, <a href="../../../../pkg/builtin.html#name-error" class="ident">error</a>) {
	<span class="keyword">if</span> !<label for="r153" class="ident">nt</label>.<a href="#line-587" class="ident">Valid</a> {
		<span class="keyword">return</span> <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>, <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
	}
	<span class="keyword">return</span> <label for="r153" class="ident">nt</label>.<a href="#line-586" class="ident">Time</a>, <a href="../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
</code></pre></div></div>

</div><pre id="footer">
<table><tr><td><img src="../../../../png/go101-twitter.png"></td>
<td>The pages are generated with <a href="https://go101.org/article/tool-golds.html"><b>Golds</b></a> <i>v0.3.2-preview</i>. (GOOS=darwin GOARCH=amd64)
<b>Golds</b> is a <a href="https://go101.org">Go 101</a> project developed by <a href="https://tapirgames.com">Tapir Liu</a>.
PR and bug reports are welcome and can be submitted to <a href="https://github.com/go101/golds">the issue list</a>.
Please follow <a href="https://twitter.com/go100and1">@Go100and1</a> (reachable from the left QR code) to get the latest news of <b>Golds</b>.</td></tr></table></pre>