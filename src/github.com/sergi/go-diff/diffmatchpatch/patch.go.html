<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Source: patch.go in package github.com/sergi/go-diff/diffmatchpatch</title>
<link href="../../../../../css/lightLiterate-v0.3.2-preview.css" rel="stylesheet">
<script src="../../../../../jvs/golds-v0.3.2-preview.js"></script>
<body onload="onPageLoad()"><div>

<pre id="header"><code><span class="title">Source File</span>
	patch.go

<span class="title">Belonging Package</span>
	<a href="../../../../../pkg/github.com/sergi/go-diff/diffmatchpatch.html">github.com/sergi/go-diff/diffmatchpatch</a>
</code></pre>
<style>input[type=radio] {display: none;}
input[id=r0]:checked ~pre label[for=r0],
input[id=r1]:checked ~pre label[for=r1],
input[id=r2]:checked ~pre label[for=r2],
input[id=r3]:checked ~pre label[for=r3],
input[id=r4]:checked ~pre label[for=r4],
input[id=r5]:checked ~pre label[for=r5],
input[id=r6]:checked ~pre label[for=r6],
input[id=r7]:checked ~pre label[for=r7],
input[id=r8]:checked ~pre label[for=r8],
input[id=r9]:checked ~pre label[for=r9],
input[id=r10]:checked ~pre label[for=r10],
input[id=r11]:checked ~pre label[for=r11],
input[id=r12]:checked ~pre label[for=r12],
input[id=r13]:checked ~pre label[for=r13],
input[id=r14]:checked ~pre label[for=r14],
input[id=r15]:checked ~pre label[for=r15],
input[id=r16]:checked ~pre label[for=r16],
input[id=r17]:checked ~pre label[for=r17],
input[id=r18]:checked ~pre label[for=r18],
input[id=r19]:checked ~pre label[for=r19],
input[id=r20]:checked ~pre label[for=r20],
input[id=r21]:checked ~pre label[for=r21],
input[id=r22]:checked ~pre label[for=r22],
input[id=r23]:checked ~pre label[for=r23],
input[id=r24]:checked ~pre label[for=r24],
input[id=r25]:checked ~pre label[for=r25],
input[id=r26]:checked ~pre label[for=r26],
input[id=r27]:checked ~pre label[for=r27],
input[id=r28]:checked ~pre label[for=r28],
input[id=r29]:checked ~pre label[for=r29],
input[id=r30]:checked ~pre label[for=r30],
input[id=r31]:checked ~pre label[for=r31],
input[id=r32]:checked ~pre label[for=r32],
input[id=r33]:checked ~pre label[for=r33],
input[id=r34]:checked ~pre label[for=r34],
input[id=r35]:checked ~pre label[for=r35],
input[id=r36]:checked ~pre label[for=r36],
input[id=r37]:checked ~pre label[for=r37],
input[id=r38]:checked ~pre label[for=r38],
input[id=r39]:checked ~pre label[for=r39],
input[id=r40]:checked ~pre label[for=r40],
input[id=r41]:checked ~pre label[for=r41],
input[id=r42]:checked ~pre label[for=r42],
input[id=r43]:checked ~pre label[for=r43],
input[id=r44]:checked ~pre label[for=r44],
input[id=r45]:checked ~pre label[for=r45],
input[id=r46]:checked ~pre label[for=r46],
input[id=r47]:checked ~pre label[for=r47],
input[id=r48]:checked ~pre label[for=r48],
input[id=r49]:checked ~pre label[for=r49],
input[id=r50]:checked ~pre label[for=r50],
input[id=r51]:checked ~pre label[for=r51],
input[id=r52]:checked ~pre label[for=r52],
input[id=r53]:checked ~pre label[for=r53],
input[id=r54]:checked ~pre label[for=r54],
input[id=r55]:checked ~pre label[for=r55],
input[id=r56]:checked ~pre label[for=r56],
input[id=r57]:checked ~pre label[for=r57],
input[id=r58]:checked ~pre label[for=r58],
input[id=r59]:checked ~pre label[for=r59],
input[id=r60]:checked ~pre label[for=r60],
input[id=r61]:checked ~pre label[for=r61],
input[id=r62]:checked ~pre label[for=r62],
input[id=r63]:checked ~pre label[for=r63],
input[id=r64]:checked ~pre label[for=r64],
input[id=r65]:checked ~pre label[for=r65],
input[id=r66]:checked ~pre label[for=r66],
input[id=r67]:checked ~pre label[for=r67],
input[id=r68]:checked ~pre label[for=r68],
input[id=r69]:checked ~pre label[for=r69],
input[id=r70]:checked ~pre label[for=r70],
input[id=r71]:checked ~pre label[for=r71],
input[id=r72]:checked ~pre label[for=r72],
input[id=r73]:checked ~pre label[for=r73],
input[id=r74]:checked ~pre label[for=r74],
input[id=r75]:checked ~pre label[for=r75],
input[id=r76]:checked ~pre label[for=r76],
input[id=r77]:checked ~pre label[for=r77],
input[id=r78]:checked ~pre label[for=r78],
input[id=r79]:checked ~pre label[for=r79],
input[id=r80]:checked ~pre label[for=r80],
input[id=r81]:checked ~pre label[for=r81],
input[id=r82]:checked ~pre label[for=r82],
input[id=r83]:checked ~pre label[for=r83],
input[id=r84]:checked ~pre label[for=r84],
input[id=r85]:checked ~pre label[for=r85],
input[id=r86]:checked ~pre label[for=r86],
input[id=r87]:checked ~pre label[for=r87],
input[id=r88]:checked ~pre label[for=r88],
input[id=r89]:checked ~pre label[for=r89],
input[id=r90]:checked ~pre label[for=r90],
input[id=r91]:checked ~pre label[for=r91],
input[id=r92]:checked ~pre label[for=r92],
input[id=r93]:checked ~pre label[for=r93],
input[id=r94]:checked ~pre label[for=r94],
input[id=r95]:checked ~pre label[for=r95],
input[id=r96]:checked ~pre label[for=r96],
input[id=r97]:checked ~pre label[for=r97],
input[id=r98]:checked ~pre label[for=r98],
input[id=r99]:checked ~pre label[for=r99],
input[id=r100]:checked ~pre label[for=r100],
input[id=r101]:checked ~pre label[for=r101],
input[id=r102]:checked ~pre label[for=r102],
input[id=r103]:checked ~pre label[for=r103],
input[id=r104]:checked ~pre label[for=r104],
input[id=r105]:checked ~pre label[for=r105],
input[id=r106]:checked ~pre label[for=r106],
input[id=r107]:checked ~pre label[for=r107],
input[id=r108]:checked ~pre label[for=r108],
input[id=r109]:checked ~pre label[for=r109],
input[id=r110]:checked ~pre label[for=r110]
{background: #226; color: #ff8;}
input[id=i0]:checked ~pre .i0,
input[id=i1]:checked ~pre .i1,
input[id=i2]:checked ~pre .i2,
input[id=i3]:checked ~pre .i3,
input[id=i4]:checked ~pre .i4,
input[id=i5]:checked ~pre .i5,
input[id=i6]:checked ~pre .i6
{background: brown; color: #eed;}
</style><input id="r0" type="radio" name="g"/>
<input id="r1" type="radio" name="g"/>
<input id="r2" type="radio" name="g"/>
<input id="r3" type="radio" name="g"/>
<input id="r4" type="radio" name="g"/>
<input id="r5" type="radio" name="g"/>
<input id="r6" type="radio" name="g"/>
<input id="r7" type="radio" name="g"/>
<input id="r8" type="radio" name="g"/>
<input id="r9" type="radio" name="g"/>
<input id="r10" type="radio" name="g"/>
<input id="r11" type="radio" name="g"/>
<input id="r12" type="radio" name="g"/>
<input id="r13" type="radio" name="g"/>
<input id="r14" type="radio" name="g"/>
<input id="r15" type="radio" name="g"/>
<input id="r16" type="radio" name="g"/>
<input id="r17" type="radio" name="g"/>
<input id="r18" type="radio" name="g"/>
<input id="r19" type="radio" name="g"/>
<input id="r20" type="radio" name="g"/>
<input id="r21" type="radio" name="g"/>
<input id="r22" type="radio" name="g"/>
<input id="r23" type="radio" name="g"/>
<input id="r24" type="radio" name="g"/>
<input id="r25" type="radio" name="g"/>
<input id="r26" type="radio" name="g"/>
<input id="r27" type="radio" name="g"/>
<input id="r28" type="radio" name="g"/>
<input id="r29" type="radio" name="g"/>
<input id="r30" type="radio" name="g"/>
<input id="r31" type="radio" name="g"/>
<input id="r32" type="radio" name="g"/>
<input id="r33" type="radio" name="g"/>
<input id="r34" type="radio" name="g"/>
<input id="r35" type="radio" name="g"/>
<input id="r36" type="radio" name="g"/>
<input id="r37" type="radio" name="g"/>
<input id="r38" type="radio" name="g"/>
<input id="r39" type="radio" name="g"/>
<input id="r40" type="radio" name="g"/>
<input id="r41" type="radio" name="g"/>
<input id="r42" type="radio" name="g"/>
<input id="r43" type="radio" name="g"/>
<input id="r44" type="radio" name="g"/>
<input id="r45" type="radio" name="g"/>
<input id="r46" type="radio" name="g"/>
<input id="r47" type="radio" name="g"/>
<input id="r48" type="radio" name="g"/>
<input id="r49" type="radio" name="g"/>
<input id="r50" type="radio" name="g"/>
<input id="r51" type="radio" name="g"/>
<input id="r52" type="radio" name="g"/>
<input id="r53" type="radio" name="g"/>
<input id="r54" type="radio" name="g"/>
<input id="r55" type="radio" name="g"/>
<input id="r56" type="radio" name="g"/>
<input id="r57" type="radio" name="g"/>
<input id="r58" type="radio" name="g"/>
<input id="r59" type="radio" name="g"/>
<input id="r60" type="radio" name="g"/>
<input id="r61" type="radio" name="g"/>
<input id="r62" type="radio" name="g"/>
<input id="r63" type="radio" name="g"/>
<input id="r64" type="radio" name="g"/>
<input id="r65" type="radio" name="g"/>
<input id="r66" type="radio" name="g"/>
<input id="r67" type="radio" name="g"/>
<input id="r68" type="radio" name="g"/>
<input id="r69" type="radio" name="g"/>
<input id="r70" type="radio" name="g"/>
<input id="r71" type="radio" name="g"/>
<input id="r72" type="radio" name="g"/>
<input id="r73" type="radio" name="g"/>
<input id="r74" type="radio" name="g"/>
<input id="r75" type="radio" name="g"/>
<input id="r76" type="radio" name="g"/>
<input id="r77" type="radio" name="g"/>
<input id="r78" type="radio" name="g"/>
<input id="r79" type="radio" name="g"/>
<input id="r80" type="radio" name="g"/>
<input id="r81" type="radio" name="g"/>
<input id="r82" type="radio" name="g"/>
<input id="r83" type="radio" name="g"/>
<input id="r84" type="radio" name="g"/>
<input id="r85" type="radio" name="g"/>
<input id="r86" type="radio" name="g"/>
<input id="r87" type="radio" name="g"/>
<input id="r88" type="radio" name="g"/>
<input id="r89" type="radio" name="g"/>
<input id="r90" type="radio" name="g"/>
<input id="r91" type="radio" name="g"/>
<input id="r92" type="radio" name="g"/>
<input id="r93" type="radio" name="g"/>
<input id="r94" type="radio" name="g"/>
<input id="r95" type="radio" name="g"/>
<input id="r96" type="radio" name="g"/>
<input id="r97" type="radio" name="g"/>
<input id="r98" type="radio" name="g"/>
<input id="r99" type="radio" name="g"/>
<input id="r100" type="radio" name="g"/>
<input id="r101" type="radio" name="g"/>
<input id="r102" type="radio" name="g"/>
<input id="r103" type="radio" name="g"/>
<input id="r104" type="radio" name="g"/>
<input id="r105" type="radio" name="g"/>
<input id="r106" type="radio" name="g"/>
<input id="r107" type="radio" name="g"/>
<input id="r108" type="radio" name="g"/>
<input id="r109" type="radio" name="g"/>
<input id="r110" type="radio" name="g"/>
<input id="i0" type="radio" name="i"/>
<input id="i1" type="radio" name="i"/>
<input id="i2" type="radio" name="i"/>
<input id="i3" type="radio" name="i"/>
<input id="i4" type="radio" name="i"/>
<input id="i5" type="radio" name="i"/>
<input id="i6" type="radio" name="i"/>
<div id="container"><div class="section">
<div class="doc">
<span class="comment"> Copyright (c) 2012-2016 The go-diff authors. All rights reserved.</span><span class="comment"> https://github.com/sergi/go-diff</span><span class="comment"> See the included LICENSE file for license details.</span><span class="comment"></span><span class="comment"> go-diff is a Go implementation of Google's Diff, Match, and Patch library</span><span class="comment"> Original library is Copyright (c) 2006 Google Inc.</span><span class="comment"> http://code.google.com/p/google-diff-match-patch/</span></div>
<div class="code"><pre><code>
<span class="keyword">package</span> diffmatchpatch

<span class="keyword">import</span> (
	<label for="i0"><span class="lit-string i0">"bytes"</span></label>
	<label for="i1"><span class="lit-string i1">"errors"</span></label>
	<label for="i2"><span class="lit-string i2">"math"</span></label>
	<label for="i3"><span class="lit-string i3">"net/url"</span></label>
	<label for="i4"><span class="lit-string i4">"regexp"</span></label>
	<label for="i5"><span class="lit-string i5">"strconv"</span></label>
	<label for="i6"><span class="lit-string i6">"strings"</span></label>
)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Patch represents one patch operation.</span></div>
<div class="code"><pre><code><span class="keyword">type</span> <a href="../../../../../pkg/github.com/sergi/go-diff/diffmatchpatch.html#name-Patch" class="ident">Patch</a> <span class="keyword">struct</span> {
	<a href="../../../../../use/github.com/sergi/go-diff/diffmatchpatch..Patch.diffs*25cbb.html" class="ident">diffs</a>   []<a href="diff.go.html#line-40" class="ident">Diff</a>
	<a href="../../../../../use/github.com/sergi/go-diff/diffmatchpatch..Patch.Start1.html" class="ident">Start1</a>  <a href="../../../../../pkg/builtin.html#name-int" class="ident">int</a>
	<a href="../../../../../use/github.com/sergi/go-diff/diffmatchpatch..Patch.Start2.html" class="ident">Start2</a>  <a href="../../../../../pkg/builtin.html#name-int" class="ident">int</a>
	<a href="../../../../../use/github.com/sergi/go-diff/diffmatchpatch..Patch.Length1.html" class="ident">Length1</a> <a href="../../../../../pkg/builtin.html#name-int" class="ident">int</a>
	<a href="../../../../../use/github.com/sergi/go-diff/diffmatchpatch..Patch.Length2.html" class="ident">Length2</a> <a href="../../../../../pkg/builtin.html#name-int" class="ident">int</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> String emulates GNU diff's format.</span><span class="comment"> Header: @@ -382,8 +481,9 @@</span><span class="comment"> Indices are printed as 1-based, not 0-based.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r0" class="ident">p</label> *<a href="#line-22" class="ident">Patch</a>) <label for="r1" class="ident"><a href="../../../../../use/github.com/sergi/go-diff/diffmatchpatch..Patch.String.html" class="ident">String</a></label>() <a href="../../../../../pkg/builtin.html#name-string" class="ident">string</a> {
	<span class="keyword">var</span> <label for="r2" class="ident">coords1</label>, <label for="r3" class="ident">coords2</label> <a href="../../../../../pkg/builtin.html#name-string" class="ident">string</a>

	<span class="keyword">if</span> <label for="r0" class="ident">p</label>.<a href="#line-26" class="ident">Length1</a> == <span class="lit-number">0</span> {
		<label for="r2" class="ident">coords1</label> = <a href="../../../../../pkg/strconv.html" class="ident i5">strconv</a>.<a href="../../../../strconv/itoa.go.html#line-34" class="ident">Itoa</a>(<label for="r0" class="ident">p</label>.<a href="#line-24" class="ident">Start1</a>) + <span class="lit-string">",0"</span>
	} <span class="keyword">else</span> <span class="keyword">if</span> <label for="r0" class="ident">p</label>.<a href="#line-26" class="ident">Length1</a> == <span class="lit-number">1</span> {
		<label for="r2" class="ident">coords1</label> = <a href="../../../../../pkg/strconv.html" class="ident i5">strconv</a>.<a href="../../../../strconv/itoa.go.html#line-34" class="ident">Itoa</a>(<label for="r0" class="ident">p</label>.<a href="#line-24" class="ident">Start1</a> + <span class="lit-number">1</span>)
	} <span class="keyword">else</span> {
		<label for="r2" class="ident">coords1</label> = <a href="../../../../../pkg/strconv.html" class="ident i5">strconv</a>.<a href="../../../../strconv/itoa.go.html#line-34" class="ident">Itoa</a>(<label for="r0" class="ident">p</label>.<a href="#line-24" class="ident">Start1</a>+<span class="lit-number">1</span>) + <span class="lit-string">","</span> + <a href="../../../../../pkg/strconv.html" class="ident i5">strconv</a>.<a href="../../../../strconv/itoa.go.html#line-34" class="ident">Itoa</a>(<label for="r0" class="ident">p</label>.<a href="#line-26" class="ident">Length1</a>)
	}

	<span class="keyword">if</span> <label for="r0" class="ident">p</label>.<a href="#line-27" class="ident">Length2</a> == <span class="lit-number">0</span> {
		<label for="r3" class="ident">coords2</label> = <a href="../../../../../pkg/strconv.html" class="ident i5">strconv</a>.<a href="../../../../strconv/itoa.go.html#line-34" class="ident">Itoa</a>(<label for="r0" class="ident">p</label>.<a href="#line-25" class="ident">Start2</a>) + <span class="lit-string">",0"</span>
	} <span class="keyword">else</span> <span class="keyword">if</span> <label for="r0" class="ident">p</label>.<a href="#line-27" class="ident">Length2</a> == <span class="lit-number">1</span> {
		<label for="r3" class="ident">coords2</label> = <a href="../../../../../pkg/strconv.html" class="ident i5">strconv</a>.<a href="../../../../strconv/itoa.go.html#line-34" class="ident">Itoa</a>(<label for="r0" class="ident">p</label>.<a href="#line-25" class="ident">Start2</a> + <span class="lit-number">1</span>)
	} <span class="keyword">else</span> {
		<label for="r3" class="ident">coords2</label> = <a href="../../../../../pkg/strconv.html" class="ident i5">strconv</a>.<a href="../../../../strconv/itoa.go.html#line-34" class="ident">Itoa</a>(<label for="r0" class="ident">p</label>.<a href="#line-25" class="ident">Start2</a>+<span class="lit-number">1</span>) + <span class="lit-string">","</span> + <a href="../../../../../pkg/strconv.html" class="ident i5">strconv</a>.<a href="../../../../strconv/itoa.go.html#line-34" class="ident">Itoa</a>(<label for="r0" class="ident">p</label>.<a href="#line-27" class="ident">Length2</a>)
	}

	<span class="keyword">var</span> <label for="r4" class="ident">text</label> <a href="../../../../../pkg/bytes.html" class="ident i0">bytes</a>.<a href="../../../../bytes/buffer.go.html#line-20" class="ident">Buffer</a>
	_, _ = <label for="r4" class="ident">text</label>.<a href="../../../../bytes/buffer.go.html#line-180" class="ident">WriteString</a>(<span class="lit-string">"@@ -"</span> + <label for="r2" class="ident">coords1</label> + <span class="lit-string">" +"</span> + <label for="r3" class="ident">coords2</label> + <span class="lit-string">" @@\n"</span>)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Escape the body of the patch with %xx notation.</span></div>
<div class="code"><pre><code>	<span class="keyword">for</span> <label for="r5" class="ident">_</label>, <label for="r6" class="ident">aDiff</label> := <span class="keyword">range</span> <label for="r0" class="ident">p</label>.<a href="#line-23" class="ident">diffs</a> {
		<span class="keyword">switch</span> <label for="r6" class="ident">aDiff</label>.<a href="diff.go.html#line-41" class="ident">Type</a> {
		<span class="keyword">case</span> <a href="diff.go.html#line-34" class="ident">DiffInsert</a>:
			_, _ = <label for="r4" class="ident">text</label>.<a href="../../../../bytes/buffer.go.html#line-180" class="ident">WriteString</a>(<span class="lit-string">"+"</span>)
		<span class="keyword">case</span> <a href="diff.go.html#line-32" class="ident">DiffDelete</a>:
			_, _ = <label for="r4" class="ident">text</label>.<a href="../../../../bytes/buffer.go.html#line-180" class="ident">WriteString</a>(<span class="lit-string">"-"</span>)
		<span class="keyword">case</span> <a href="diff.go.html#line-36" class="ident">DiffEqual</a>:
			_, _ = <label for="r4" class="ident">text</label>.<a href="../../../../bytes/buffer.go.html#line-180" class="ident">WriteString</a>(<span class="lit-string">" "</span>)
		}

		_, _ = <label for="r4" class="ident">text</label>.<a href="../../../../bytes/buffer.go.html#line-180" class="ident">WriteString</a>(<a href="../../../../../pkg/strings.html" class="ident i6">strings</a>.<a href="../../../../strings/strings.go.html#line-924" class="ident">Replace</a>(<a href="../../../../../pkg/net/url.html" class="ident i3">url</a>.<a href="../../../../net/url/url.go.html#line-274" class="ident">QueryEscape</a>(<label for="r6" class="ident">aDiff</label>.<a href="diff.go.html#line-42" class="ident">Text</a>), <span class="lit-string">"+"</span>, <span class="lit-string">" "</span>, -<span class="lit-number">1</span>))
		_, _ = <label for="r4" class="ident">text</label>.<a href="../../../../bytes/buffer.go.html#line-180" class="ident">WriteString</a>(<span class="lit-string">"\n"</span>)
	}

	<span class="keyword">return</span> <a href="stringutil.go.html#line-18" class="ident">unescaper</a>.<a href="../../../../strings/replace.go.html#line-95" class="ident">Replace</a>(<label for="r4" class="ident">text</label>.<a href="../../../../bytes/buffer.go.html#line-60" class="ident">String</a>())
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> PatchAddContext increases the context until it is unique, but doesn't let the pattern expand beyond MatchMaxBits.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r7" class="ident">dmp</label> *<a href="diffmatchpatch.go.html#line-17" class="ident">DiffMatchPatch</a>) <label for="r8" class="ident"><a href="../../../../../use/github.com/sergi/go-diff/diffmatchpatch..DiffMatchPatch.PatchAddContext.html" class="ident">PatchAddContext</a></label>(<label for="r9" class="ident">patch</label> <a href="#line-22" class="ident">Patch</a>, <label for="r10" class="ident">text</label> <a href="../../../../../pkg/builtin.html#name-string" class="ident">string</a>) <a href="#line-22" class="ident">Patch</a> {
	<span class="keyword">if</span> <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r10" class="ident">text</label>) == <span class="lit-number">0</span> {
		<span class="keyword">return</span> <label for="r9" class="ident">patch</label>
	}

	<label for="r11" class="ident">pattern</label> := <label for="r10" class="ident">text</label>[<label for="r9" class="ident">patch</label>.<a href="#line-25" class="ident">Start2</a> : <label for="r9" class="ident">patch</label>.<a href="#line-25" class="ident">Start2</a>+<label for="r9" class="ident">patch</label>.<a href="#line-26" class="ident">Length1</a>]
	<label for="r12" class="ident">padding</label> := <span class="lit-number">0</span>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Look for the first and last matches of pattern in text.  If two different matches are found, increase the pattern length.</span></div>
<div class="code"><pre><code>	<span class="keyword">for</span> <a href="../../../../../pkg/strings.html" class="ident i6">strings</a>.<a href="../../../../strings/strings.go.html#line-1024" class="ident">Index</a>(<label for="r10" class="ident">text</label>, <label for="r11" class="ident">pattern</label>) != <a href="../../../../../pkg/strings.html" class="ident i6">strings</a>.<a href="../../../../strings/strings.go.html#line-76" class="ident">LastIndex</a>(<label for="r10" class="ident">text</label>, <label for="r11" class="ident">pattern</label>) &amp;&amp;
		<a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r11" class="ident">pattern</label>) &lt; <label for="r7" class="ident">dmp</label>.<a href="diffmatchpatch.go.html#line-29" class="ident">MatchMaxBits</a>-<span class="lit-number">2</span>*<label for="r7" class="ident">dmp</label>.<a href="diffmatchpatch.go.html#line-27" class="ident">PatchMargin</a> {
		<label for="r12" class="ident">padding</label> += <label for="r7" class="ident">dmp</label>.<a href="diffmatchpatch.go.html#line-27" class="ident">PatchMargin</a>
		<label for="r13" class="ident">maxStart</label> := <a href="mathutil.go.html#line-18" class="ident">max</a>(<span class="lit-number">0</span>, <label for="r9" class="ident">patch</label>.<a href="#line-25" class="ident">Start2</a>-<label for="r12" class="ident">padding</label>)
		<label for="r14" class="ident">minEnd</label> := <a href="mathutil.go.html#line-11" class="ident">min</a>(<a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r10" class="ident">text</label>), <label for="r9" class="ident">patch</label>.<a href="#line-25" class="ident">Start2</a>+<label for="r9" class="ident">patch</label>.<a href="#line-26" class="ident">Length1</a>+<label for="r12" class="ident">padding</label>)
		<label for="r11" class="ident">pattern</label> = <label for="r10" class="ident">text</label>[<label for="r13" class="ident">maxStart</label>:<label for="r14" class="ident">minEnd</label>]
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Add one chunk for good luck.</span></div>
<div class="code"><pre><code>	<label for="r12" class="ident">padding</label> += <label for="r7" class="ident">dmp</label>.<a href="diffmatchpatch.go.html#line-27" class="ident">PatchMargin</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Add the prefix.</span></div>
<div class="code"><pre><code>	<label for="r15" class="ident">prefix</label> := <label for="r10" class="ident">text</label>[<a href="mathutil.go.html#line-18" class="ident">max</a>(<span class="lit-number">0</span>, <label for="r9" class="ident">patch</label>.<a href="#line-25" class="ident">Start2</a>-<label for="r12" class="ident">padding</label>):<label for="r9" class="ident">patch</label>.<a href="#line-25" class="ident">Start2</a>]
	<span class="keyword">if</span> <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r15" class="ident">prefix</label>) != <span class="lit-number">0</span> {
		<label for="r9" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a> = <a href="../../../../../pkg/builtin.html#name-append" class="ident">append</a>([]<a href="diff.go.html#line-40" class="ident">Diff</a>{<a href="diff.go.html#line-40" class="ident">Diff</a>{<a href="diff.go.html#line-36" class="ident">DiffEqual</a>, <label for="r15" class="ident">prefix</label>}}, <label for="r9" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a>...)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Add the suffix.</span></div>
<div class="code"><pre><code>	<label for="r16" class="ident">suffix</label> := <label for="r10" class="ident">text</label>[<label for="r9" class="ident">patch</label>.<a href="#line-25" class="ident">Start2</a>+<label for="r9" class="ident">patch</label>.<a href="#line-26" class="ident">Length1</a> : <a href="mathutil.go.html#line-11" class="ident">min</a>(<a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r10" class="ident">text</label>), <label for="r9" class="ident">patch</label>.<a href="#line-25" class="ident">Start2</a>+<label for="r9" class="ident">patch</label>.<a href="#line-26" class="ident">Length1</a>+<label for="r12" class="ident">padding</label>)]
	<span class="keyword">if</span> <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r16" class="ident">suffix</label>) != <span class="lit-number">0</span> {
		<label for="r9" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a> = <a href="../../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r9" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a>, <a href="diff.go.html#line-40" class="ident">Diff</a>{<a href="diff.go.html#line-36" class="ident">DiffEqual</a>, <label for="r16" class="ident">suffix</label>})
	}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Roll back the start points.</span></div>
<div class="code"><pre><code>	<label for="r9" class="ident">patch</label>.<a href="#line-24" class="ident">Start1</a> -= <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r15" class="ident">prefix</label>)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Extend the lengths.</span></div>
<div class="code"><pre><code>	<label for="r9" class="ident">patch</label>.<a href="#line-26" class="ident">Length1</a> += <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r15" class="ident">prefix</label>) + <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r16" class="ident">suffix</label>)
	<label for="r9" class="ident">patch</label>.<a href="#line-27" class="ident">Length2</a> += <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r15" class="ident">prefix</label>) + <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r16" class="ident">suffix</label>)

	<span class="keyword">return</span> <label for="r9" class="ident">patch</label>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> PatchMake computes a list of patches.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r17" class="ident">dmp</label> *<a href="diffmatchpatch.go.html#line-17" class="ident">DiffMatchPatch</a>) <label for="r18" class="ident"><a href="../../../../../use/github.com/sergi/go-diff/diffmatchpatch..DiffMatchPatch.PatchMake.html" class="ident">PatchMake</a></label>(<label for="r19" class="ident">opt</label> ...<span class="keyword">interface</span>{}) []<a href="#line-22" class="ident">Patch</a> {
	<span class="keyword">if</span> <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r19" class="ident">opt</label>) == <span class="lit-number">1</span> {
		<label for="r20" class="ident">diffs</label>, <label for="r21" class="ident">_</label> := <label for="r19" class="ident">opt</label>[<span class="lit-number">0</span>].([]<a href="diff.go.html#line-40" class="ident">Diff</a>)
		<label for="r22" class="ident">text1</label> := <label for="r17" class="ident">dmp</label>.<a href="diff.go.html#line-1206" class="ident">DiffText1</a>(<label for="r20" class="ident">diffs</label>)
		<span class="keyword">return</span> <label for="r17" class="ident">dmp</label>.<label for="r18" class="ident">PatchMake</label>(<label for="r22" class="ident">text1</label>, <label for="r20" class="ident">diffs</label>)
	} <span class="keyword">else</span> <span class="keyword">if</span> <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r19" class="ident">opt</label>) == <span class="lit-number">2</span> {
		<label for="r23" class="ident">text1</label> := <label for="r19" class="ident">opt</label>[<span class="lit-number">0</span>].(<a href="../../../../../pkg/builtin.html#name-string" class="ident">string</a>)
		<span class="keyword">switch</span> t := <label for="r19" class="ident">opt</label>[<span class="lit-number">1</span>].(<span class="keyword">type</span>) {
		<span class="keyword">case</span> <a href="../../../../../pkg/builtin.html#name-string" class="ident">string</a>:
			<label for="r24" class="ident">diffs</label> := <label for="r17" class="ident">dmp</label>.<a href="diff.go.html#line-84" class="ident">DiffMain</a>(<label for="r23" class="ident">text1</label>, <label for="r25" class="ident">t</label>, <a href="../../../../../pkg/builtin.html#name-true" class="ident">true</a>)
			<span class="keyword">if</span> <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r24" class="ident">diffs</label>) &gt; <span class="lit-number">2</span> {
				<label for="r24" class="ident">diffs</label> = <label for="r17" class="ident">dmp</label>.<a href="diff.go.html#line-647" class="ident">DiffCleanupSemantic</a>(<label for="r24" class="ident">diffs</label>)
				<label for="r24" class="ident">diffs</label> = <label for="r17" class="ident">dmp</label>.<a href="diff.go.html#line-888" class="ident">DiffCleanupEfficiency</a>(<label for="r24" class="ident">diffs</label>)
			}
			<span class="keyword">return</span> <label for="r17" class="ident">dmp</label>.<label for="r18" class="ident">PatchMake</label>(<label for="r23" class="ident">text1</label>, <label for="r24" class="ident">diffs</label>)
		<span class="keyword">case</span> []<a href="diff.go.html#line-40" class="ident">Diff</a>:
			<span class="keyword">return</span> <label for="r17" class="ident">dmp</label>.<a href="#line-141" class="ident">patchMake2</a>(<label for="r23" class="ident">text1</label>, <label for="r26" class="ident">t</label>)
		}
	} <span class="keyword">else</span> <span class="keyword">if</span> <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r19" class="ident">opt</label>) == <span class="lit-number">3</span> {
		<span class="keyword">return</span> <label for="r17" class="ident">dmp</label>.<label for="r18" class="ident">PatchMake</label>(<label for="r19" class="ident">opt</label>[<span class="lit-number">0</span>], <label for="r19" class="ident">opt</label>[<span class="lit-number">2</span>])
	}
	<span class="keyword">return</span> []<a href="#line-22" class="ident">Patch</a>{}
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> patchMake2 computes a list of patches to turn text1 into text2.</span><span class="comment"> text2 is not provided, diffs are the delta between text1 and text2.</span></div>
<div class="code"><pre><code></code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Check for null inputs not needed since null can't be passed in C#.</span></div>
<div class="code"><pre><code>	<label for="r31" class="ident">patches</label> := []<a href="#line-22" class="ident">Patch</a>{}
	<span class="keyword">if</span> <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r30" class="ident">diffs</label>) == <span class="lit-number">0</span> {
		<span class="keyword">return</span> <label for="r31" class="ident">patches</label> <span class="comment">// Get rid of the null case.</span>
	}

	<label for="r32" class="ident">patch</label> := <a href="#line-22" class="ident">Patch</a>{}
	<label for="r33" class="ident">charCount1</label> := <span class="lit-number">0</span> <span class="comment">// Number of characters into the text1 string.</span>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Start with text1 (prepatchText) and apply the diffs until we arrive at text2 (postpatchText). We recreate the patches one by one to determine context info.</span></div>
<div class="code"><pre><code>	<label for="r35" class="ident">prepatchText</label> := <label for="r29" class="ident">text1</label>
	<label for="r36" class="ident">postpatchText</label> := <label for="r29" class="ident">text1</label>

	<span class="keyword">for</span> <label for="r37" class="ident">i</label>, <label for="r38" class="ident">aDiff</label> := <span class="keyword">range</span> <label for="r30" class="ident">diffs</label> {
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> A new patch starts here.</span></div>
<div class="code"><pre><code>			<label for="r32" class="ident">patch</label>.<a href="#line-24" class="ident">Start1</a> = <label for="r33" class="ident">charCount1</label>
			<label for="r32" class="ident">patch</label>.<a href="#line-25" class="ident">Start2</a> = <label for="r34" class="ident">charCount2</label>
		}

		<span class="keyword">switch</span> <label for="r38" class="ident">aDiff</label>.<a href="diff.go.html#line-41" class="ident">Type</a> {
		<span class="keyword">case</span> <a href="diff.go.html#line-34" class="ident">DiffInsert</a>:
			<label for="r32" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a> = <a href="../../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r32" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a>, <label for="r38" class="ident">aDiff</label>)
			<label for="r32" class="ident">patch</label>.<a href="#line-27" class="ident">Length2</a> += <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r38" class="ident">aDiff</label>.<a href="diff.go.html#line-42" class="ident">Text</a>)
			<label for="r36" class="ident">postpatchText</label> = <label for="r36" class="ident">postpatchText</label>[:<label for="r34" class="ident">charCount2</label>] +
				<label for="r38" class="ident">aDiff</label>.<a href="diff.go.html#line-42" class="ident">Text</a> + <label for="r36" class="ident">postpatchText</label>[<label for="r34" class="ident">charCount2</label>:]
		<span class="keyword">case</span> <a href="diff.go.html#line-32" class="ident">DiffDelete</a>:
			<label for="r32" class="ident">patch</label>.<a href="#line-26" class="ident">Length1</a> += <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r38" class="ident">aDiff</label>.<a href="diff.go.html#line-42" class="ident">Text</a>)
			<label for="r32" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a> = <a href="../../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r32" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a>, <label for="r38" class="ident">aDiff</label>)
			<label for="r36" class="ident">postpatchText</label> = <label for="r36" class="ident">postpatchText</label>[:<label for="r34" class="ident">charCount2</label>] + <label for="r36" class="ident">postpatchText</label>[<label for="r34" class="ident">charCount2</label>+<a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r38" class="ident">aDiff</label>.<a href="diff.go.html#line-42" class="ident">Text</a>):]
		<span class="keyword">case</span> <a href="diff.go.html#line-36" class="ident">DiffEqual</a>:
			<span class="keyword">if</span> <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r38" class="ident">aDiff</label>.<a href="diff.go.html#line-42" class="ident">Text</a>) &lt;= <span class="lit-number">2</span>*<label for="r27" class="ident">dmp</label>.<a href="diffmatchpatch.go.html#line-27" class="ident">PatchMargin</a> &amp;&amp;
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Small equality inside a patch.</span></div>
<div class="code"><pre><code>				<label for="r32" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a> = <a href="../../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r32" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a>, <label for="r38" class="ident">aDiff</label>)
				<label for="r32" class="ident">patch</label>.<a href="#line-26" class="ident">Length1</a> += <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r38" class="ident">aDiff</label>.<a href="diff.go.html#line-42" class="ident">Text</a>)
				<label for="r32" class="ident">patch</label>.<a href="#line-27" class="ident">Length2</a> += <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r38" class="ident">aDiff</label>.<a href="diff.go.html#line-42" class="ident">Text</a>)
			}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Time for a new patch.</span></div>
<div class="code"><pre><code>				<span class="keyword">if</span> <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r32" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a>) != <span class="lit-number">0</span> {
					<label for="r32" class="ident">patch</label> = <label for="r27" class="ident">dmp</label>.<a href="#line-74" class="ident">PatchAddContext</a>(<label for="r32" class="ident">patch</label>, <label for="r35" class="ident">prepatchText</label>)
					<label for="r31" class="ident">patches</label> = <a href="../../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r31" class="ident">patches</label>, <label for="r32" class="ident">patch</label>)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Unlike Unidiff, our patch lists have a rolling context. http://code.google.com/p/google-diff-match-patch/wiki/Unidiff Update prepatch text &amp; pos to reflect the application of the just completed patch.</span></div>
<div class="code"><pre><code>					<label for="r35" class="ident">prepatchText</label> = <label for="r36" class="ident">postpatchText</label>
					<label for="r33" class="ident">charCount1</label> = <label for="r34" class="ident">charCount2</label>
				}
			}
		}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Update the current character count.</span></div>
<div class="code"><pre><code>		<span class="keyword">if</span> <label for="r38" class="ident">aDiff</label>.<a href="diff.go.html#line-41" class="ident">Type</a> != <a href="diff.go.html#line-34" class="ident">DiffInsert</a> {
			<label for="r33" class="ident">charCount1</label> += <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r38" class="ident">aDiff</label>.<a href="diff.go.html#line-42" class="ident">Text</a>)
		}
		<span class="keyword">if</span> <label for="r38" class="ident">aDiff</label>.<a href="diff.go.html#line-41" class="ident">Type</a> != <a href="diff.go.html#line-32" class="ident">DiffDelete</a> {
			<label for="r34" class="ident">charCount2</label> += <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r38" class="ident">aDiff</label>.<a href="diff.go.html#line-42" class="ident">Text</a>)
		}
	}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Pick up the leftover patch if not empty.</span></div>
<div class="code"><pre><code>	<span class="keyword">if</span> <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r32" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a>) != <span class="lit-number">0</span> {
		<label for="r32" class="ident">patch</label> = <label for="r27" class="ident">dmp</label>.<a href="#line-74" class="ident">PatchAddContext</a>(<label for="r32" class="ident">patch</label>, <label for="r35" class="ident">prepatchText</label>)
		<label for="r31" class="ident">patches</label> = <a href="../../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r31" class="ident">patches</label>, <label for="r32" class="ident">patch</label>)
	}

	<span class="keyword">return</span> <label for="r31" class="ident">patches</label>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> PatchDeepCopy returns an array that is identical to a given an array of patches.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r39" class="ident">dmp</label> *<a href="diffmatchpatch.go.html#line-17" class="ident">DiffMatchPatch</a>) <label for="r40" class="ident"><a href="../../../../../use/github.com/sergi/go-diff/diffmatchpatch..DiffMatchPatch.PatchDeepCopy.html" class="ident">PatchDeepCopy</a></label>(<label for="r41" class="ident">patches</label> []<a href="#line-22" class="ident">Patch</a>) []<a href="#line-22" class="ident">Patch</a> {
	<label for="r42" class="ident">patchesCopy</label> := []<a href="#line-22" class="ident">Patch</a>{}
	<span class="keyword">for</span> <label for="r43" class="ident">_</label>, <label for="r44" class="ident">aPatch</label> := <span class="keyword">range</span> <label for="r41" class="ident">patches</label> {
		<label for="r45" class="ident">patchCopy</label> := <a href="#line-22" class="ident">Patch</a>{}
		<span class="keyword">for</span> <label for="r46" class="ident">_</label>, <label for="r47" class="ident">aDiff</label> := <span class="keyword">range</span> <label for="r44" class="ident">aPatch</label>.<a href="#line-23" class="ident">diffs</a> {
			<label for="r45" class="ident">patchCopy</label>.<a href="#line-23" class="ident">diffs</a> = <a href="../../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r45" class="ident">patchCopy</label>.<a href="#line-23" class="ident">diffs</a>, <a href="diff.go.html#line-40" class="ident">Diff</a>{
				<label for="r47" class="ident">aDiff</label>.<a href="diff.go.html#line-41" class="ident">Type</a>,
				<label for="r47" class="ident">aDiff</label>.<a href="diff.go.html#line-42" class="ident">Text</a>,
			})
		}
		<label for="r45" class="ident">patchCopy</label>.<a href="#line-24" class="ident">Start1</a> = <label for="r44" class="ident">aPatch</label>.<a href="#line-24" class="ident">Start1</a>
		<label for="r45" class="ident">patchCopy</label>.<a href="#line-25" class="ident">Start2</a> = <label for="r44" class="ident">aPatch</label>.<a href="#line-25" class="ident">Start2</a>
		<label for="r45" class="ident">patchCopy</label>.<a href="#line-26" class="ident">Length1</a> = <label for="r44" class="ident">aPatch</label>.<a href="#line-26" class="ident">Length1</a>
		<label for="r45" class="ident">patchCopy</label>.<a href="#line-27" class="ident">Length2</a> = <label for="r44" class="ident">aPatch</label>.<a href="#line-27" class="ident">Length2</a>
		<label for="r42" class="ident">patchesCopy</label> = <a href="../../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r42" class="ident">patchesCopy</label>, <label for="r45" class="ident">patchCopy</label>)
	}
	<span class="keyword">return</span> <label for="r42" class="ident">patchesCopy</label>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> PatchApply merges a set of patches onto the text.  Returns a patched text, as well as an array of true/false values indicating which patches were applied.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r48" class="ident">dmp</label> *<a href="diffmatchpatch.go.html#line-17" class="ident">DiffMatchPatch</a>) <label for="r49" class="ident"><a href="../../../../../use/github.com/sergi/go-diff/diffmatchpatch..DiffMatchPatch.PatchApply.html" class="ident">PatchApply</a></label>(<label for="r50" class="ident">patches</label> []<a href="#line-22" class="ident">Patch</a>, <label for="r51" class="ident">text</label> <a href="../../../../../pkg/builtin.html#name-string" class="ident">string</a>) (<a href="../../../../../pkg/builtin.html#name-string" class="ident">string</a>, []<a href="../../../../../pkg/builtin.html#name-bool" class="ident">bool</a>) {
	<span class="keyword">if</span> <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r50" class="ident">patches</label>) == <span class="lit-number">0</span> {
		<span class="keyword">return</span> <label for="r51" class="ident">text</label>, []<a href="../../../../../pkg/builtin.html#name-bool" class="ident">bool</a>{}
	}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Deep copy the patches so that no changes are made to originals.</span></div>
<div class="code"><pre><code>	<label for="r50" class="ident">patches</label> = <label for="r48" class="ident">dmp</label>.<a href="#line-212" class="ident">PatchDeepCopy</a>(<label for="r50" class="ident">patches</label>)

	<label for="r52" class="ident">nullPadding</label> := <label for="r48" class="ident">dmp</label>.<a href="#line-323" class="ident">PatchAddPadding</a>(<label for="r50" class="ident">patches</label>)
	<label for="r51" class="ident">text</label> = <label for="r52" class="ident">nullPadding</label> + <label for="r51" class="ident">text</label> + <label for="r52" class="ident">nullPadding</label>
	<label for="r50" class="ident">patches</label> = <label for="r48" class="ident">dmp</label>.<a href="#line-375" class="ident">PatchSplitMax</a>(<label for="r50" class="ident">patches</label>)

</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> delta keeps track of the offset between the expected and actual location of the previous patch.  If there are patches expected at positions 10 and 20, but the first patch was found at 12, delta is 2 and the second patch has an effective expected position of 22.</span></div>
<div class="code"><pre><code>	<label for="r54" class="ident">delta</label> := <span class="lit-number">0</span>
	<label for="r55" class="ident">results</label> := <a href="../../../../../pkg/builtin.html#name-make" class="ident">make</a>([]<a href="../../../../../pkg/builtin.html#name-bool" class="ident">bool</a>, <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r50" class="ident">patches</label>))
	<span class="keyword">for</span> <label for="r56" class="ident">_</label>, <label for="r57" class="ident">aPatch</label> := <span class="keyword">range</span> <label for="r50" class="ident">patches</label> {
		<label for="r58" class="ident">expectedLoc</label> := <label for="r57" class="ident">aPatch</label>.<a href="#line-25" class="ident">Start2</a> + <label for="r54" class="ident">delta</label>
		<label for="r59" class="ident">text1</label> := <label for="r48" class="ident">dmp</label>.<a href="diff.go.html#line-1206" class="ident">DiffText1</a>(<label for="r57" class="ident">aPatch</label>.<a href="#line-23" class="ident">diffs</a>)
		<span class="keyword">var</span> <label for="r60" class="ident">startLoc</label> <a href="../../../../../pkg/builtin.html#name-int" class="ident">int</a>
		<label for="r61" class="ident">endLoc</label> := -<span class="lit-number">1</span>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> PatchSplitMax will only provide an oversized pattern in the case of a monster delete.</span></div>
<div class="code"><pre><code>			<label for="r60" class="ident">startLoc</label> = <label for="r48" class="ident">dmp</label>.<a href="match.go.html#line-17" class="ident">MatchMain</a>(<label for="r51" class="ident">text</label>, <label for="r59" class="ident">text1</label>[:<label for="r48" class="ident">dmp</label>.<a href="diffmatchpatch.go.html#line-29" class="ident">MatchMaxBits</a>], <label for="r58" class="ident">expectedLoc</label>)
			<span class="keyword">if</span> <label for="r60" class="ident">startLoc</label> != -<span class="lit-number">1</span> {
				<label for="r61" class="ident">endLoc</label> = <label for="r48" class="ident">dmp</label>.<a href="match.go.html#line-17" class="ident">MatchMain</a>(<label for="r51" class="ident">text</label>,
					<label for="r59" class="ident">text1</label>[<a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r59" class="ident">text1</label>)-<label for="r48" class="ident">dmp</label>.<a href="diffmatchpatch.go.html#line-29" class="ident">MatchMaxBits</a>:], <label for="r58" class="ident">expectedLoc</label>+<a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r59" class="ident">text1</label>)-<label for="r48" class="ident">dmp</label>.<a href="diffmatchpatch.go.html#line-29" class="ident">MatchMaxBits</a>)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Can't find valid trailing context.  Drop this patch.</span></div>
<div class="code"><pre><code>					<label for="r60" class="ident">startLoc</label> = -<span class="lit-number">1</span>
				}
			}
		} <span class="keyword">else</span> {
			<label for="r60" class="ident">startLoc</label> = <label for="r48" class="ident">dmp</label>.<a href="match.go.html#line-17" class="ident">MatchMain</a>(<label for="r51" class="ident">text</label>, <label for="r59" class="ident">text1</label>, <label for="r58" class="ident">expectedLoc</label>)
		}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> No match found.  :(</span></div>
<div class="code"><pre><code></code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Subtract the delta for this failed patch from subsequent patches.</span></div>
<div class="code"><pre><code>			<label for="r54" class="ident">delta</label> -= <label for="r57" class="ident">aPatch</label>.<a href="#line-27" class="ident">Length2</a> - <label for="r57" class="ident">aPatch</label>.<a href="#line-26" class="ident">Length1</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Found a match.  :)</span></div>
<div class="code"><pre><code>			<label for="r55" class="ident">results</label>[<label for="r53" class="ident">x</label>] = <a href="../../../../../pkg/builtin.html#name-true" class="ident">true</a>
			<label for="r54" class="ident">delta</label> = <label for="r60" class="ident">startLoc</label> - <label for="r58" class="ident">expectedLoc</label>
			<span class="keyword">var</span> <label for="r62" class="ident">text2</label> <a href="../../../../../pkg/builtin.html#name-string" class="ident">string</a>
			<span class="keyword">if</span> <label for="r61" class="ident">endLoc</label> == -<span class="lit-number">1</span> {
				<label for="r62" class="ident">text2</label> = <label for="r51" class="ident">text</label>[<label for="r60" class="ident">startLoc</label>:<a href="../../../../../pkg/builtin.html#name-int" class="ident">int</a>(<a href="../../../../../pkg/math.html" class="ident i2">math</a>.<a href="../../../../math/dim.go.html#line-62" class="ident">Min</a>(<a href="../../../../../pkg/builtin.html#name-float64" class="ident">float64</a>(<label for="r60" class="ident">startLoc</label>+<a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r59" class="ident">text1</label>)), <a href="../../../../../pkg/builtin.html#name-float64" class="ident">float64</a>(<a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r51" class="ident">text</label>))))]
			} <span class="keyword">else</span> {
				<label for="r62" class="ident">text2</label> = <label for="r51" class="ident">text</label>[<label for="r60" class="ident">startLoc</label>:<a href="../../../../../pkg/builtin.html#name-int" class="ident">int</a>(<a href="../../../../../pkg/math.html" class="ident i2">math</a>.<a href="../../../../math/dim.go.html#line-62" class="ident">Min</a>(<a href="../../../../../pkg/builtin.html#name-float64" class="ident">float64</a>(<label for="r61" class="ident">endLoc</label>+<label for="r48" class="ident">dmp</label>.<a href="diffmatchpatch.go.html#line-29" class="ident">MatchMaxBits</a>), <a href="../../../../../pkg/builtin.html#name-float64" class="ident">float64</a>(<a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r51" class="ident">text</label>))))]
			}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Perfect match, just shove the Replacement text in.</span></div>
<div class="code"><pre><code>				<label for="r51" class="ident">text</label> = <label for="r51" class="ident">text</label>[:<label for="r60" class="ident">startLoc</label>] + <label for="r48" class="ident">dmp</label>.<a href="diff.go.html#line-1219" class="ident">DiffText2</a>(<label for="r57" class="ident">aPatch</label>.<a href="#line-23" class="ident">diffs</a>) + <label for="r51" class="ident">text</label>[<label for="r60" class="ident">startLoc</label>+<a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r59" class="ident">text1</label>):]
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Imperfect match.  Run a diff to get a framework of equivalent indices.</span></div>
<div class="code"><pre><code>				<label for="r63" class="ident">diffs</label> := <label for="r48" class="ident">dmp</label>.<a href="diff.go.html#line-84" class="ident">DiffMain</a>(<label for="r59" class="ident">text1</label>, <label for="r62" class="ident">text2</label>, <a href="../../../../../pkg/builtin.html#name-false" class="ident">false</a>)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> The end points match, but the content is unacceptably bad.</span></div>
<div class="code"><pre><code>					<label for="r55" class="ident">results</label>[<label for="r53" class="ident">x</label>] = <a href="../../../../../pkg/builtin.html#name-false" class="ident">false</a>
				} <span class="keyword">else</span> {
					<label for="r63" class="ident">diffs</label> = <label for="r48" class="ident">dmp</label>.<a href="diff.go.html#line-815" class="ident">DiffCleanupSemanticLossless</a>(<label for="r63" class="ident">diffs</label>)
					<label for="r64" class="ident">index1</label> := <span class="lit-number">0</span>
					<span class="keyword">for</span> <label for="r65" class="ident">_</label>, <label for="r66" class="ident">aDiff</label> := <span class="keyword">range</span> <label for="r57" class="ident">aPatch</label>.<a href="#line-23" class="ident">diffs</a> {
						<span class="keyword">if</span> <label for="r66" class="ident">aDiff</label>.<a href="diff.go.html#line-41" class="ident">Type</a> != <a href="diff.go.html#line-36" class="ident">DiffEqual</a> {
							<label for="r67" class="ident">index2</label> := <label for="r48" class="ident">dmp</label>.<a href="diff.go.html#line-1126" class="ident">DiffXIndex</a>(<label for="r63" class="ident">diffs</label>, <label for="r64" class="ident">index1</label>)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Insertion</span></div>
<div class="code"><pre><code>								<label for="r51" class="ident">text</label> = <label for="r51" class="ident">text</label>[:<label for="r60" class="ident">startLoc</label>+<label for="r67" class="ident">index2</label>] + <label for="r66" class="ident">aDiff</label>.<a href="diff.go.html#line-42" class="ident">Text</a> + <label for="r51" class="ident">text</label>[<label for="r60" class="ident">startLoc</label>+<label for="r67" class="ident">index2</label>:]
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Deletion</span></div>
<div class="code"><pre><code>								<label for="r68" class="ident">startIndex</label> := <label for="r60" class="ident">startLoc</label> + <label for="r67" class="ident">index2</label>
								<label for="r51" class="ident">text</label> = <label for="r51" class="ident">text</label>[:<label for="r68" class="ident">startIndex</label>] +
									<label for="r51" class="ident">text</label>[<label for="r68" class="ident">startIndex</label>+<label for="r48" class="ident">dmp</label>.<a href="diff.go.html#line-1126" class="ident">DiffXIndex</a>(<label for="r63" class="ident">diffs</label>, <label for="r64" class="ident">index1</label>+<a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r66" class="ident">aDiff</label>.<a href="diff.go.html#line-42" class="ident">Text</a>))-<label for="r67" class="ident">index2</label>:]
							}
						}
						<span class="keyword">if</span> <label for="r66" class="ident">aDiff</label>.<a href="diff.go.html#line-41" class="ident">Type</a> != <a href="diff.go.html#line-32" class="ident">DiffDelete</a> {
							<label for="r64" class="ident">index1</label> += <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r66" class="ident">aDiff</label>.<a href="diff.go.html#line-42" class="ident">Text</a>)
						}
					}
				}
			}
		}
		<label for="r53" class="ident">x</label>++
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Strip the padding off.</span></div>
<div class="code"><pre><code>	<label for="r51" class="ident">text</label> = <label for="r51" class="ident">text</label>[<a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r52" class="ident">nullPadding</label>) : <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r52" class="ident">nullPadding</label>)+(<a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r51" class="ident">text</label>)-<span class="lit-number">2</span>*<a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r52" class="ident">nullPadding</label>))]
	<span class="keyword">return</span> <label for="r51" class="ident">text</label>, <label for="r55" class="ident">results</label>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> PatchAddPadding adds some padding on text start and end so that edges can match something.</span><span class="comment"> Intended to be called only from within patchApply.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r69" class="ident">dmp</label> *<a href="diffmatchpatch.go.html#line-17" class="ident">DiffMatchPatch</a>) <label for="r70" class="ident"><a href="../../../../../use/github.com/sergi/go-diff/diffmatchpatch..DiffMatchPatch.PatchAddPadding.html" class="ident">PatchAddPadding</a></label>(<label for="r71" class="ident">patches</label> []<a href="#line-22" class="ident">Patch</a>) <a href="../../../../../pkg/builtin.html#name-string" class="ident">string</a> {
	<label for="r72" class="ident">paddingLength</label> := <label for="r69" class="ident">dmp</label>.<a href="diffmatchpatch.go.html#line-27" class="ident">PatchMargin</a>
	<label for="r73" class="ident">nullPadding</label> := <span class="lit-string">""</span>
	<span class="keyword">for</span> <label for="r74" class="ident">x</label> := <span class="lit-number">1</span>; <label for="r74" class="ident">x</label> &lt;= <label for="r72" class="ident">paddingLength</label>; <label for="r74" class="ident">x</label>++ {
		<label for="r73" class="ident">nullPadding</label> += <a href="../../../../../pkg/builtin.html#name-string" class="ident">string</a>(<label for="r74" class="ident">x</label>)
	}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Bump all the patches forward.</span></div>
<div class="code"><pre><code>	<span class="keyword">for</span> <label for="r75" class="ident">i</label> := <span class="keyword">range</span> <label for="r71" class="ident">patches</label> {
		<label for="r71" class="ident">patches</label>[<label for="r75" class="ident">i</label>].<a href="#line-24" class="ident">Start1</a> += <label for="r72" class="ident">paddingLength</label>
		<label for="r71" class="ident">patches</label>[<label for="r75" class="ident">i</label>].<a href="#line-25" class="ident">Start2</a> += <label for="r72" class="ident">paddingLength</label>
	}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Add some padding on start of first diff.</span></div>
<div class="code"><pre><code></code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Add nullPadding equality.</span></div>
<div class="code"><pre><code>		<label for="r71" class="ident">patches</label>[<span class="lit-number">0</span>].<a href="#line-23" class="ident">diffs</a> = <a href="../../../../../pkg/builtin.html#name-append" class="ident">append</a>([]<a href="diff.go.html#line-40" class="ident">Diff</a>{<a href="diff.go.html#line-40" class="ident">Diff</a>{<a href="diff.go.html#line-36" class="ident">DiffEqual</a>, <label for="r73" class="ident">nullPadding</label>}}, <label for="r71" class="ident">patches</label>[<span class="lit-number">0</span>].<a href="#line-23" class="ident">diffs</a>...)
		<label for="r71" class="ident">patches</label>[<span class="lit-number">0</span>].<a href="#line-24" class="ident">Start1</a> -= <label for="r72" class="ident">paddingLength</label> <span class="comment">// Should be 0.</span>
		<label for="r71" class="ident">patches</label>[<span class="lit-number">0</span>].<a href="#line-25" class="ident">Start2</a> -= <label for="r72" class="ident">paddingLength</label> <span class="comment">// Should be 0.</span>
		<label for="r71" class="ident">patches</label>[<span class="lit-number">0</span>].<a href="#line-26" class="ident">Length1</a> += <label for="r72" class="ident">paddingLength</label>
		<label for="r71" class="ident">patches</label>[<span class="lit-number">0</span>].<a href="#line-27" class="ident">Length2</a> += <label for="r72" class="ident">paddingLength</label>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Grow first equality.</span></div>
<div class="code"><pre><code>		<label for="r76" class="ident">extraLength</label> := <label for="r72" class="ident">paddingLength</label> - <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r71" class="ident">patches</label>[<span class="lit-number">0</span>].<a href="#line-23" class="ident">diffs</a>[<span class="lit-number">0</span>].<a href="diff.go.html#line-42" class="ident">Text</a>)
		<label for="r71" class="ident">patches</label>[<span class="lit-number">0</span>].<a href="#line-23" class="ident">diffs</a>[<span class="lit-number">0</span>].<a href="diff.go.html#line-42" class="ident">Text</a> = <label for="r73" class="ident">nullPadding</label>[<a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r71" class="ident">patches</label>[<span class="lit-number">0</span>].<a href="#line-23" class="ident">diffs</a>[<span class="lit-number">0</span>].<a href="diff.go.html#line-42" class="ident">Text</a>):] + <label for="r71" class="ident">patches</label>[<span class="lit-number">0</span>].<a href="#line-23" class="ident">diffs</a>[<span class="lit-number">0</span>].<a href="diff.go.html#line-42" class="ident">Text</a>
		<label for="r71" class="ident">patches</label>[<span class="lit-number">0</span>].<a href="#line-24" class="ident">Start1</a> -= <label for="r76" class="ident">extraLength</label>
		<label for="r71" class="ident">patches</label>[<span class="lit-number">0</span>].<a href="#line-25" class="ident">Start2</a> -= <label for="r76" class="ident">extraLength</label>
		<label for="r71" class="ident">patches</label>[<span class="lit-number">0</span>].<a href="#line-26" class="ident">Length1</a> += <label for="r76" class="ident">extraLength</label>
		<label for="r71" class="ident">patches</label>[<span class="lit-number">0</span>].<a href="#line-27" class="ident">Length2</a> += <label for="r76" class="ident">extraLength</label>
	}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Add some padding on end of last diff.</span></div>
<div class="code"><pre><code>	<label for="r77" class="ident">last</label> := <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r71" class="ident">patches</label>) - <span class="lit-number">1</span>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Add nullPadding equality.</span></div>
<div class="code"><pre><code>		<label for="r71" class="ident">patches</label>[<label for="r77" class="ident">last</label>].<a href="#line-23" class="ident">diffs</a> = <a href="../../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r71" class="ident">patches</label>[<label for="r77" class="ident">last</label>].<a href="#line-23" class="ident">diffs</a>, <a href="diff.go.html#line-40" class="ident">Diff</a>{<a href="diff.go.html#line-36" class="ident">DiffEqual</a>, <label for="r73" class="ident">nullPadding</label>})
		<label for="r71" class="ident">patches</label>[<label for="r77" class="ident">last</label>].<a href="#line-26" class="ident">Length1</a> += <label for="r72" class="ident">paddingLength</label>
		<label for="r71" class="ident">patches</label>[<label for="r77" class="ident">last</label>].<a href="#line-27" class="ident">Length2</a> += <label for="r72" class="ident">paddingLength</label>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Grow last equality.</span></div>
<div class="code"><pre><code>		<label for="r78" class="ident">lastDiff</label> := <label for="r71" class="ident">patches</label>[<label for="r77" class="ident">last</label>].<a href="#line-23" class="ident">diffs</a>[<a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r71" class="ident">patches</label>[<label for="r77" class="ident">last</label>].<a href="#line-23" class="ident">diffs</a>)-<span class="lit-number">1</span>]
		<label for="r79" class="ident">extraLength</label> := <label for="r72" class="ident">paddingLength</label> - <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r78" class="ident">lastDiff</label>.<a href="diff.go.html#line-42" class="ident">Text</a>)
		<label for="r71" class="ident">patches</label>[<label for="r77" class="ident">last</label>].<a href="#line-23" class="ident">diffs</a>[<a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r71" class="ident">patches</label>[<label for="r77" class="ident">last</label>].<a href="#line-23" class="ident">diffs</a>)-<span class="lit-number">1</span>].<a href="diff.go.html#line-42" class="ident">Text</a> += <label for="r73" class="ident">nullPadding</label>[:<label for="r79" class="ident">extraLength</label>]
		<label for="r71" class="ident">patches</label>[<label for="r77" class="ident">last</label>].<a href="#line-26" class="ident">Length1</a> += <label for="r79" class="ident">extraLength</label>
		<label for="r71" class="ident">patches</label>[<label for="r77" class="ident">last</label>].<a href="#line-27" class="ident">Length2</a> += <label for="r79" class="ident">extraLength</label>
	}

	<span class="keyword">return</span> <label for="r73" class="ident">nullPadding</label>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> PatchSplitMax looks through the patches and breaks up any which are longer than the maximum limit of the match algorithm.</span><span class="comment"> Intended to be called only from within patchApply.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r80" class="ident">dmp</label> *<a href="diffmatchpatch.go.html#line-17" class="ident">DiffMatchPatch</a>) <label for="r81" class="ident"><a href="../../../../../use/github.com/sergi/go-diff/diffmatchpatch..DiffMatchPatch.PatchSplitMax.html" class="ident">PatchSplitMax</a></label>(<label for="r82" class="ident">patches</label> []<a href="#line-22" class="ident">Patch</a>) []<a href="#line-22" class="ident">Patch</a> {
	<label for="r83" class="ident">patchSize</label> := <label for="r80" class="ident">dmp</label>.<a href="diffmatchpatch.go.html#line-29" class="ident">MatchMaxBits</a>
	<span class="keyword">for</span> <label for="r84" class="ident">x</label> := <span class="lit-number">0</span>; <label for="r84" class="ident">x</label> &lt; <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r82" class="ident">patches</label>); <label for="r84" class="ident">x</label>++ {
		<span class="keyword">if</span> <label for="r82" class="ident">patches</label>[<label for="r84" class="ident">x</label>].<a href="#line-26" class="ident">Length1</a> &lt;= <label for="r83" class="ident">patchSize</label> {
			<span class="keyword">continue</span>
		}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Remove the big old patch.</span></div>
<div class="code"><pre><code>		<label for="r82" class="ident">patches</label> = <a href="../../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r82" class="ident">patches</label>[:<label for="r84" class="ident">x</label>], <label for="r82" class="ident">patches</label>[<label for="r84" class="ident">x</label>+<span class="lit-number">1</span>:]...)
		<label for="r84" class="ident">x</label>--

		<label for="r86" class="ident">Start1</label> := <label for="r85" class="ident">bigpatch</label>.<a href="#line-24" class="ident">Start1</a>
		<label for="r87" class="ident">Start2</label> := <label for="r85" class="ident">bigpatch</label>.<a href="#line-25" class="ident">Start2</a>
		<label for="r88" class="ident">precontext</label> := <span class="lit-string">""</span>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Create one of several smaller patches.</span></div>
<div class="code"><pre><code>			<label for="r89" class="ident">patch</label> := <a href="#line-22" class="ident">Patch</a>{}
			<label for="r90" class="ident">empty</label> := <a href="../../../../../pkg/builtin.html#name-true" class="ident">true</a>
			<label for="r89" class="ident">patch</label>.<a href="#line-24" class="ident">Start1</a> = <label for="r86" class="ident">Start1</label> - <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r88" class="ident">precontext</label>)
			<label for="r89" class="ident">patch</label>.<a href="#line-25" class="ident">Start2</a> = <label for="r87" class="ident">Start2</label> - <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r88" class="ident">precontext</label>)
			<span class="keyword">if</span> <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r88" class="ident">precontext</label>) != <span class="lit-number">0</span> {
				<label for="r89" class="ident">patch</label>.<a href="#line-26" class="ident">Length1</a> = <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r88" class="ident">precontext</label>)
				<label for="r89" class="ident">patch</label>.<a href="#line-27" class="ident">Length2</a> = <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r88" class="ident">precontext</label>)
				<label for="r89" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a> = <a href="../../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r89" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a>, <a href="diff.go.html#line-40" class="ident">Diff</a>{<a href="diff.go.html#line-36" class="ident">DiffEqual</a>, <label for="r88" class="ident">precontext</label>})
			}
			<span class="keyword">for</span> <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r85" class="ident">bigpatch</label>.<a href="#line-23" class="ident">diffs</a>) != <span class="lit-number">0</span> &amp;&amp; <label for="r89" class="ident">patch</label>.<a href="#line-26" class="ident">Length1</a> &lt; <label for="r83" class="ident">patchSize</label>-<label for="r80" class="ident">dmp</label>.<a href="diffmatchpatch.go.html#line-27" class="ident">PatchMargin</a> {
				<label for="r91" class="ident">diffType</label> := <label for="r85" class="ident">bigpatch</label>.<a href="#line-23" class="ident">diffs</a>[<span class="lit-number">0</span>].<a href="diff.go.html#line-41" class="ident">Type</a>
				<label for="r92" class="ident">diffText</label> := <label for="r85" class="ident">bigpatch</label>.<a href="#line-23" class="ident">diffs</a>[<span class="lit-number">0</span>].<a href="diff.go.html#line-42" class="ident">Text</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Insertions are harmless.</span></div>
<div class="code"><pre><code>					<label for="r89" class="ident">patch</label>.<a href="#line-27" class="ident">Length2</a> += <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r92" class="ident">diffText</label>)
					<label for="r87" class="ident">Start2</label> += <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r92" class="ident">diffText</label>)
					<label for="r89" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a> = <a href="../../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r89" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a>, <label for="r85" class="ident">bigpatch</label>.<a href="#line-23" class="ident">diffs</a>[<span class="lit-number">0</span>])
					<label for="r85" class="ident">bigpatch</label>.<a href="#line-23" class="ident">diffs</a> = <label for="r85" class="ident">bigpatch</label>.<a href="#line-23" class="ident">diffs</a>[<span class="lit-number">1</span>:]
					<label for="r90" class="ident">empty</label> = <a href="../../../../../pkg/builtin.html#name-false" class="ident">false</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> This is a large deletion.  Let it pass in one chunk.</span></div>
<div class="code"><pre><code>					<label for="r89" class="ident">patch</label>.<a href="#line-26" class="ident">Length1</a> += <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r92" class="ident">diffText</label>)
					<label for="r86" class="ident">Start1</label> += <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r92" class="ident">diffText</label>)
					<label for="r90" class="ident">empty</label> = <a href="../../../../../pkg/builtin.html#name-false" class="ident">false</a>
					<label for="r89" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a> = <a href="../../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r89" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a>, <a href="diff.go.html#line-40" class="ident">Diff</a>{<label for="r91" class="ident">diffType</label>, <label for="r92" class="ident">diffText</label>})
					<label for="r85" class="ident">bigpatch</label>.<a href="#line-23" class="ident">diffs</a> = <label for="r85" class="ident">bigpatch</label>.<a href="#line-23" class="ident">diffs</a>[<span class="lit-number">1</span>:]
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Deletion or equality.  Only take as much as we can stomach.</span></div>
<div class="code"><pre><code>					<label for="r92" class="ident">diffText</label> = <label for="r92" class="ident">diffText</label>[:<a href="mathutil.go.html#line-11" class="ident">min</a>(<a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r92" class="ident">diffText</label>), <label for="r83" class="ident">patchSize</label>-<label for="r89" class="ident">patch</label>.<a href="#line-26" class="ident">Length1</a>-<label for="r80" class="ident">dmp</label>.<a href="diffmatchpatch.go.html#line-27" class="ident">PatchMargin</a>)]

					<label for="r89" class="ident">patch</label>.<a href="#line-26" class="ident">Length1</a> += <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r92" class="ident">diffText</label>)
					<label for="r86" class="ident">Start1</label> += <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r92" class="ident">diffText</label>)
					<span class="keyword">if</span> <label for="r91" class="ident">diffType</label> == <a href="diff.go.html#line-36" class="ident">DiffEqual</a> {
						<label for="r89" class="ident">patch</label>.<a href="#line-27" class="ident">Length2</a> += <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r92" class="ident">diffText</label>)
						<label for="r87" class="ident">Start2</label> += <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r92" class="ident">diffText</label>)
					} <span class="keyword">else</span> {
						<label for="r90" class="ident">empty</label> = <a href="../../../../../pkg/builtin.html#name-false" class="ident">false</a>
					}
					<label for="r89" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a> = <a href="../../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r89" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a>, <a href="diff.go.html#line-40" class="ident">Diff</a>{<label for="r91" class="ident">diffType</label>, <label for="r92" class="ident">diffText</label>})
					<span class="keyword">if</span> <label for="r92" class="ident">diffText</label> == <label for="r85" class="ident">bigpatch</label>.<a href="#line-23" class="ident">diffs</a>[<span class="lit-number">0</span>].<a href="diff.go.html#line-42" class="ident">Text</a> {
						<label for="r85" class="ident">bigpatch</label>.<a href="#line-23" class="ident">diffs</a> = <label for="r85" class="ident">bigpatch</label>.<a href="#line-23" class="ident">diffs</a>[<span class="lit-number">1</span>:]
					} <span class="keyword">else</span> {
						<label for="r85" class="ident">bigpatch</label>.<a href="#line-23" class="ident">diffs</a>[<span class="lit-number">0</span>].<a href="diff.go.html#line-42" class="ident">Text</a> =
							<label for="r85" class="ident">bigpatch</label>.<a href="#line-23" class="ident">diffs</a>[<span class="lit-number">0</span>].<a href="diff.go.html#line-42" class="ident">Text</a>[<a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r92" class="ident">diffText</label>):]
					}
				}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Compute the head context for the next patch.</span></div>
<div class="code"><pre><code>			<label for="r88" class="ident">precontext</label> = <label for="r80" class="ident">dmp</label>.<a href="diff.go.html#line-1219" class="ident">DiffText2</a>(<label for="r89" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a>)
			<label for="r88" class="ident">precontext</label> = <label for="r88" class="ident">precontext</label>[<a href="mathutil.go.html#line-18" class="ident">max</a>(<span class="lit-number">0</span>, <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r88" class="ident">precontext</label>)-<label for="r80" class="ident">dmp</label>.<a href="diffmatchpatch.go.html#line-27" class="ident">PatchMargin</a>):]

</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Append the end context for this patch.</span></div>
<div class="code"><pre><code>			<span class="keyword">if</span> <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r80" class="ident">dmp</label>.<a href="diff.go.html#line-1206" class="ident">DiffText1</a>(<label for="r85" class="ident">bigpatch</label>.<a href="#line-23" class="ident">diffs</a>)) &gt; <label for="r80" class="ident">dmp</label>.<a href="diffmatchpatch.go.html#line-27" class="ident">PatchMargin</a> {
				<label for="r93" class="ident">postcontext</label> = <label for="r80" class="ident">dmp</label>.<a href="diff.go.html#line-1206" class="ident">DiffText1</a>(<label for="r85" class="ident">bigpatch</label>.<a href="#line-23" class="ident">diffs</a>)[:<label for="r80" class="ident">dmp</label>.<a href="diffmatchpatch.go.html#line-27" class="ident">PatchMargin</a>]
			} <span class="keyword">else</span> {
				<label for="r93" class="ident">postcontext</label> = <label for="r80" class="ident">dmp</label>.<a href="diff.go.html#line-1206" class="ident">DiffText1</a>(<label for="r85" class="ident">bigpatch</label>.<a href="#line-23" class="ident">diffs</a>)
			}

			<span class="keyword">if</span> <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r93" class="ident">postcontext</label>) != <span class="lit-number">0</span> {
				<label for="r89" class="ident">patch</label>.<a href="#line-26" class="ident">Length1</a> += <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r93" class="ident">postcontext</label>)
				<label for="r89" class="ident">patch</label>.<a href="#line-27" class="ident">Length2</a> += <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r93" class="ident">postcontext</label>)
				<span class="keyword">if</span> <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r89" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a>) != <span class="lit-number">0</span> &amp;&amp; <label for="r89" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a>[<a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r89" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a>)-<span class="lit-number">1</span>].<a href="diff.go.html#line-41" class="ident">Type</a> == <a href="diff.go.html#line-36" class="ident">DiffEqual</a> {
					<label for="r89" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a>[<a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r89" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a>)-<span class="lit-number">1</span>].<a href="diff.go.html#line-42" class="ident">Text</a> += <label for="r93" class="ident">postcontext</label>
				} <span class="keyword">else</span> {
					<label for="r89" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a> = <a href="../../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r89" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a>, <a href="diff.go.html#line-40" class="ident">Diff</a>{<a href="diff.go.html#line-36" class="ident">DiffEqual</a>, <label for="r93" class="ident">postcontext</label>})
				}
			}
			<span class="keyword">if</span> !<label for="r90" class="ident">empty</label> {
				<label for="r84" class="ident">x</label>++
				<label for="r82" class="ident">patches</label> = <a href="../../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r82" class="ident">patches</label>[:<label for="r84" class="ident">x</label>], <a href="../../../../../pkg/builtin.html#name-append" class="ident">append</a>([]<a href="#line-22" class="ident">Patch</a>{<label for="r89" class="ident">patch</label>}, <label for="r82" class="ident">patches</label>[<label for="r84" class="ident">x</label>:]...)...)
			}
		}
	}
	<span class="keyword">return</span> <label for="r82" class="ident">patches</label>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> PatchToText takes a list of patches and returns a textual representation.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r94" class="ident">dmp</label> *<a href="diffmatchpatch.go.html#line-17" class="ident">DiffMatchPatch</a>) <label for="r95" class="ident"><a href="../../../../../use/github.com/sergi/go-diff/diffmatchpatch..DiffMatchPatch.PatchToText.html" class="ident">PatchToText</a></label>(<label for="r96" class="ident">patches</label> []<a href="#line-22" class="ident">Patch</a>) <a href="../../../../../pkg/builtin.html#name-string" class="ident">string</a> {
	<span class="keyword">var</span> <label for="r97" class="ident">text</label> <a href="../../../../../pkg/bytes.html" class="ident i0">bytes</a>.<a href="../../../../bytes/buffer.go.html#line-20" class="ident">Buffer</a>
	<span class="keyword">for</span> <label for="r98" class="ident">_</label>, <label for="r99" class="ident">aPatch</label> := <span class="keyword">range</span> <label for="r96" class="ident">patches</label> {
		_, _ = <label for="r97" class="ident">text</label>.<a href="../../../../bytes/buffer.go.html#line-180" class="ident">WriteString</a>(<label for="r99" class="ident">aPatch</label>.<a href="#line-33" class="ident">String</a>())
	}
	<span class="keyword">return</span> <label for="r97" class="ident">text</label>.<a href="../../../../bytes/buffer.go.html#line-60" class="ident">String</a>()
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> PatchFromText parses a textual representation of patches and returns a List of Patch objects.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r100" class="ident">dmp</label> *<a href="diffmatchpatch.go.html#line-17" class="ident">DiffMatchPatch</a>) <label for="r101" class="ident"><a href="../../../../../use/github.com/sergi/go-diff/diffmatchpatch..DiffMatchPatch.PatchFromText.html" class="ident">PatchFromText</a></label>(<label for="r102" class="ident">textline</label> <a href="../../../../../pkg/builtin.html#name-string" class="ident">string</a>) ([]<a href="#line-22" class="ident">Patch</a>, <a href="../../../../../pkg/builtin.html#name-error" class="ident">error</a>) {
	<label for="r103" class="ident">patches</label> := []<a href="#line-22" class="ident">Patch</a>{}
	<span class="keyword">if</span> <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r102" class="ident">textline</label>) == <span class="lit-number">0</span> {
		<span class="keyword">return</span> <label for="r103" class="ident">patches</label>, <a href="../../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
	}
	<label for="r104" class="ident">text</label> := <a href="../../../../../pkg/strings.html" class="ident i6">strings</a>.<a href="../../../../strings/strings.go.html#line-299" class="ident">Split</a>(<label for="r102" class="ident">textline</label>, <span class="lit-string">"\n"</span>)
	<label for="r105" class="ident">textPointer</label> := <span class="lit-number">0</span>
	<label for="r106" class="ident">patchHeader</label> := <a href="../../../../../pkg/regexp.html" class="ident i4">regexp</a>.<a href="../../../../regexp/regexp.go.html#line-308" class="ident">MustCompile</a>(<span class="lit-string">"^@@ -(\\d+),?(\\d*) \\+(\\d+),?(\\d*) @@$"</span>)

	<span class="keyword">var</span> <label for="r107" class="ident">patch</label> <a href="#line-22" class="ident">Patch</a>
	<span class="keyword">var</span> <label for="r108" class="ident">sign</label> <a href="../../../../../pkg/builtin.html#name-uint8" class="ident">uint8</a>
	<span class="keyword">var</span> <label for="r109" class="ident">line</label> <a href="../../../../../pkg/builtin.html#name-string" class="ident">string</a>
	<span class="keyword">for</span> <label for="r105" class="ident">textPointer</label> &lt; <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r104" class="ident">text</label>) {

		<span class="keyword">if</span> !<label for="r106" class="ident">patchHeader</label>.<a href="../../../../regexp/regexp.go.html#line-524" class="ident">MatchString</a>(<label for="r104" class="ident">text</label>[<label for="r105" class="ident">textPointer</label>]) {
			<span class="keyword">return</span> <label for="r103" class="ident">patches</label>, <a href="../../../../../pkg/errors.html" class="ident i1">errors</a>.<a href="../../../../errors/errors.go.html#line-58" class="ident">New</a>(<span class="lit-string">"Invalid patch string: "</span> + <label for="r104" class="ident">text</label>[<label for="r105" class="ident">textPointer</label>])
		}

		<label for="r107" class="ident">patch</label> = <a href="#line-22" class="ident">Patch</a>{}
		<label for="r110" class="ident">m</label> := <label for="r106" class="ident">patchHeader</label>.<a href="../../../../regexp/regexp.go.html#line-1037" class="ident">FindStringSubmatch</a>(<label for="r104" class="ident">text</label>[<label for="r105" class="ident">textPointer</label>])

		<label for="r107" class="ident">patch</label>.<a href="#line-24" class="ident">Start1</a>, _ = <a href="../../../../../pkg/strconv.html" class="ident i5">strconv</a>.<a href="../../../../strconv/atoi.go.html#line-224" class="ident">Atoi</a>(<label for="r110" class="ident">m</label>[<span class="lit-number">1</span>])
		<span class="keyword">if</span> <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r110" class="ident">m</label>[<span class="lit-number">2</span>]) == <span class="lit-number">0</span> {
			<label for="r107" class="ident">patch</label>.<a href="#line-24" class="ident">Start1</a>--
			<label for="r107" class="ident">patch</label>.<a href="#line-26" class="ident">Length1</a> = <span class="lit-number">1</span>
		} <span class="keyword">else</span> <span class="keyword">if</span> <label for="r110" class="ident">m</label>[<span class="lit-number">2</span>] == <span class="lit-string">"0"</span> {
			<label for="r107" class="ident">patch</label>.<a href="#line-26" class="ident">Length1</a> = <span class="lit-number">0</span>
		} <span class="keyword">else</span> {
			<label for="r107" class="ident">patch</label>.<a href="#line-24" class="ident">Start1</a>--
			<label for="r107" class="ident">patch</label>.<a href="#line-26" class="ident">Length1</a>, _ = <a href="../../../../../pkg/strconv.html" class="ident i5">strconv</a>.<a href="../../../../strconv/atoi.go.html#line-224" class="ident">Atoi</a>(<label for="r110" class="ident">m</label>[<span class="lit-number">2</span>])
		}

		<label for="r107" class="ident">patch</label>.<a href="#line-25" class="ident">Start2</a>, _ = <a href="../../../../../pkg/strconv.html" class="ident i5">strconv</a>.<a href="../../../../strconv/atoi.go.html#line-224" class="ident">Atoi</a>(<label for="r110" class="ident">m</label>[<span class="lit-number">3</span>])

		<span class="keyword">if</span> <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r110" class="ident">m</label>[<span class="lit-number">4</span>]) == <span class="lit-number">0</span> {
			<label for="r107" class="ident">patch</label>.<a href="#line-25" class="ident">Start2</a>--
			<label for="r107" class="ident">patch</label>.<a href="#line-27" class="ident">Length2</a> = <span class="lit-number">1</span>
		} <span class="keyword">else</span> <span class="keyword">if</span> <label for="r110" class="ident">m</label>[<span class="lit-number">4</span>] == <span class="lit-string">"0"</span> {
			<label for="r107" class="ident">patch</label>.<a href="#line-27" class="ident">Length2</a> = <span class="lit-number">0</span>
		} <span class="keyword">else</span> {
			<label for="r107" class="ident">patch</label>.<a href="#line-25" class="ident">Start2</a>--
			<label for="r107" class="ident">patch</label>.<a href="#line-27" class="ident">Length2</a>, _ = <a href="../../../../../pkg/strconv.html" class="ident i5">strconv</a>.<a href="../../../../strconv/atoi.go.html#line-224" class="ident">Atoi</a>(<label for="r110" class="ident">m</label>[<span class="lit-number">4</span>])
		}
		<label for="r105" class="ident">textPointer</label>++

		<span class="keyword">for</span> <label for="r105" class="ident">textPointer</label> &lt; <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r104" class="ident">text</label>) {
			<span class="keyword">if</span> <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r104" class="ident">text</label>[<label for="r105" class="ident">textPointer</label>]) &gt; <span class="lit-number">0</span> {
				<label for="r108" class="ident">sign</label> = <label for="r104" class="ident">text</label>[<label for="r105" class="ident">textPointer</label>][<span class="lit-number">0</span>]
			} <span class="keyword">else</span> {
				<label for="r105" class="ident">textPointer</label>++
				<span class="keyword">continue</span>
			}

			<label for="r109" class="ident">line</label> = <label for="r104" class="ident">text</label>[<label for="r105" class="ident">textPointer</label>][<span class="lit-number">1</span>:]
			<label for="r109" class="ident">line</label> = <a href="../../../../../pkg/strings.html" class="ident i6">strings</a>.<a href="../../../../strings/strings.go.html#line-924" class="ident">Replace</a>(<label for="r109" class="ident">line</label>, <span class="lit-string">"+"</span>, <span class="lit-string">"%2b"</span>, -<span class="lit-number">1</span>)
			<label for="r109" class="ident">line</label>, _ = <a href="../../../../../pkg/net/url.html" class="ident i3">url</a>.<a href="../../../../net/url/url.go.html#line-182" class="ident">QueryUnescape</a>(<label for="r109" class="ident">line</label>)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Deletion.</span></div>
<div class="code"><pre><code>				<label for="r107" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a> = <a href="../../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r107" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a>, <a href="diff.go.html#line-40" class="ident">Diff</a>{<a href="diff.go.html#line-32" class="ident">DiffDelete</a>, <label for="r109" class="ident">line</label>})
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Insertion.</span></div>
<div class="code"><pre><code>				<label for="r107" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a> = <a href="../../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r107" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a>, <a href="diff.go.html#line-40" class="ident">Diff</a>{<a href="diff.go.html#line-34" class="ident">DiffInsert</a>, <label for="r109" class="ident">line</label>})
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Minor equality.</span></div>
<div class="code"><pre><code>				<label for="r107" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a> = <a href="../../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r107" class="ident">patch</label>.<a href="#line-23" class="ident">diffs</a>, <a href="diff.go.html#line-40" class="ident">Diff</a>{<a href="diff.go.html#line-36" class="ident">DiffEqual</a>, <label for="r109" class="ident">line</label>})
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Start of next patch.</span></div>
<div class="code"><pre><code>				<span class="keyword">break</span>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> WTF?</span></div>
<div class="code"><pre><code>				<span class="keyword">return</span> <label for="r103" class="ident">patches</label>, <a href="../../../../../pkg/errors.html" class="ident i1">errors</a>.<a href="../../../../errors/errors.go.html#line-58" class="ident">New</a>(<span class="lit-string">"Invalid patch mode '"</span> + <a href="../../../../../pkg/builtin.html#name-string" class="ident">string</a>(<label for="r108" class="ident">sign</label>) + <span class="lit-string">"' in: "</span> + <a href="../../../../../pkg/builtin.html#name-string" class="ident">string</a>(<label for="r109" class="ident">line</label>))
			}
			<label for="r105" class="ident">textPointer</label>++
		}

		<label for="r103" class="ident">patches</label> = <a href="../../../../../pkg/builtin.html#name-append" class="ident">append</a>(<label for="r103" class="ident">patches</label>, <label for="r107" class="ident">patch</label>)
	}
	<span class="keyword">return</span> <label for="r103" class="ident">patches</label>, <a href="../../../../../pkg/builtin.html#name-nil" class="ident">nil</a>
</code></pre></div></div>

</div><pre id="footer">
<table><tr><td><img src="../../../../../png/go101-twitter.png"></td>
<td>The pages are generated with <a href="https://go101.org/article/tool-golds.html"><b>Golds</b></a> <i>v0.3.2-preview</i>. (GOOS=darwin GOARCH=amd64)
<b>Golds</b> is a <a href="https://go101.org">Go 101</a> project developed by <a href="https://tapirgames.com">Tapir Liu</a>.
PR and bug reports are welcome and can be submitted to <a href="https://github.com/go101/golds">the issue list</a>.
Please follow <a href="https://twitter.com/go100and1">@Go100and1</a> (reachable from the left QR code) to get the latest news of <b>Golds</b>.</td></tr></table></pre>