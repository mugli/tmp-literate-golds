<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Source: value.go in package google.golang.org/protobuf/reflect/protoreflect</title>
<link href="../../../../../css/lightLiterate-v0.3.2-preview.css" rel="stylesheet">
<script src="../../../../../jvs/golds-v0.3.2-preview.js"></script>
<body onload="onPageLoad()"><div>

<pre id="header"><code><span class="title">Source File</span>
	value.go

<span class="title">Belonging Package</span>
	<a href="../../../../../pkg/google.golang.org/protobuf/reflect/protoreflect.html">google.golang.org/protobuf/reflect/protoreflect</a>
</code></pre>
<style>input[type=radio] {display: none;}
input[id=r0]:checked ~pre label[for=r0],
input[id=r1]:checked ~pre label[for=r1],
input[id=r2]:checked ~pre label[for=r2],
input[id=r3]:checked ~pre label[for=r3],
input[id=r4]:checked ~pre label[for=r4]
{background: #226; color: #ff8;}
input[id=i0]:checked ~pre .i0
{background: brown; color: #eed;}
</style><input id="r0" type="radio" name="g"/>
<input id="r1" type="radio" name="g"/>
<input id="r2" type="radio" name="g"/>
<input id="r3" type="radio" name="g"/>
<input id="r4" type="radio" name="g"/>
<input id="i0" type="radio" name="i"/>
<div id="container"><div class="section">
<div class="doc">
<span class="comment"> Copyright 2018 The Go Authors. All rights reserved.</span><span class="comment"> Use of this source code is governed by a BSD-style</span><span class="comment"> license that can be found in the LICENSE file.</span></div>
<div class="code"><pre><code>
<span class="keyword">package</span> protoreflect

<span class="keyword">import</span> <label for="i0"><span class="lit-string i0">"google.golang.org/protobuf/encoding/protowire"</span></label>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Enum is a reflection interface for a concrete enum value,</span><span class="comment"> which provides type information and a getter for the enum number.</span><span class="comment"> Enum does not provide a mutable API since enums are commonly backed by</span><span class="comment"> Go constants, which are not addressable.</span></div>
<div class="code"><pre><code></code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Descriptor returns enum descriptor, which contains only the protobuf</span><span class="comment">	 type information for the enum.</span></div>
<div class="code"><pre><code>	Descriptor() <a href="type.go.html#line-501" class="ident">EnumDescriptor</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Type returns the enum type, which encapsulates both Go and protobuf</span><span class="comment">	 type information. If the Go type information is not needed,</span><span class="comment">	 it is recommended that the enum descriptor be used instead.</span></div>
<div class="code"><pre><code>	Type() <a href="type.go.html#line-517" class="ident">EnumType</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Number returns the enum value as an integer.</span></div>
<div class="code"><pre><code>	Number() <a href="proto.go.html#line-396" class="ident">EnumNumber</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Message is a reflective interface for a concrete message value,</span><span class="comment"> encapsulating both type and value information for the message.</span><span class="comment"></span><span class="comment"> Accessor/mutators for individual fields are keyed by FieldDescriptor.</span><span class="comment"> For non-extension fields, the descriptor must exactly match the</span><span class="comment"> field known by the parent message.</span><span class="comment"> For extension fields, the descriptor must implement ExtensionTypeDescriptor,</span><span class="comment"> extend the parent message (i.e., have the same message FullName), and</span><span class="comment"> be within the parent's extension range.</span><span class="comment"></span><span class="comment"> Each field Value can be a scalar or a composite type (Message, List, or Map).</span><span class="comment"> See Value for the Go types associated with a FieldDescriptor.</span><span class="comment"> Providing a Value that is invalid or of an incorrect type panics.</span></div>
<div class="code"><pre><code></code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Descriptor returns message descriptor, which contains only the protobuf</span><span class="comment">	 type information for the message.</span></div>
<div class="code"><pre><code>	Descriptor() <a href="type.go.html#line-185" class="ident">MessageDescriptor</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Type returns the message type, which encapsulates both Go and protobuf</span><span class="comment">	 type information. If the Go type information is not needed,</span><span class="comment">	 it is recommended that the message descriptor be used instead.</span></div>
<div class="code"><pre><code>	Type() <a href="type.go.html#line-235" class="ident">MessageType</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> New returns a newly allocated and mutable empty message.</span></div>
<div class="code"><pre><code>	New() <a href="#line-40" class="ident">Message</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Interface unwraps the message reflection interface and</span><span class="comment">	 returns the underlying ProtoMessage interface.</span></div>
<div class="code"><pre><code>	Interface() <a href="proto.go.html#line-142" class="ident">ProtoMessage</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Range iterates over every populated field in an undefined order,</span><span class="comment">	 calling f for each field descriptor and value encountered.</span><span class="comment">	 Range returns immediately if f returns false.</span><span class="comment">	 While iterating, mutating operations may only be performed</span><span class="comment">	 on the current field descriptor.</span></div>
<div class="code"><pre><code>	Range(f <span class="keyword">func</span>(<a href="type.go.html#line-267" class="ident">FieldDescriptor</a>, <a href="value_union.go.html#line-44" class="ident">Value</a>) <a href="../../../../../pkg/builtin.html#name-bool" class="ident">bool</a>)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Has reports whether a field is populated.</span><span class="comment">	</span><span class="comment">	 Some fields have the property of nullability where it is possible to</span><span class="comment">	 distinguish between the default value of a field and whether the field</span><span class="comment">	 was explicitly populated with the default value. Singular message fields,</span><span class="comment">	 member fields of a oneof, and proto2 scalar fields are nullable. Such</span><span class="comment">	 fields are populated only if explicitly set.</span><span class="comment">	</span><span class="comment">	 In other cases (aside from the nullable cases above),</span><span class="comment">	 a proto3 scalar field is populated if it contains a non-zero value, and</span><span class="comment">	 a repeated field is populated if it is non-empty.</span></div>
<div class="code"><pre><code>	Has(<a href="type.go.html#line-267" class="ident">FieldDescriptor</a>) <a href="../../../../../pkg/builtin.html#name-bool" class="ident">bool</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Clear clears the field such that a subsequent Has call reports false.</span><span class="comment">	</span><span class="comment">	 Clearing an extension field clears both the extension type and value</span><span class="comment">	 associated with the given field number.</span><span class="comment">	</span><span class="comment">	 Clear is a mutating operation and unsafe for concurrent use.</span></div>
<div class="code"><pre><code>	Clear(<a href="type.go.html#line-267" class="ident">FieldDescriptor</a>)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Get retrieves the value for a field.</span><span class="comment">	</span><span class="comment">	 For unpopulated scalars, it returns the default value, where</span><span class="comment">	 the default value of a bytes scalar is guaranteed to be a copy.</span><span class="comment">	 For unpopulated composite types, it returns an empty, read-only view</span><span class="comment">	 of the value; to obtain a mutable reference, use Mutable.</span></div>
<div class="code"><pre><code>	Get(<a href="type.go.html#line-267" class="ident">FieldDescriptor</a>) <a href="value_union.go.html#line-44" class="ident">Value</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Set stores the value for a field.</span><span class="comment">	</span><span class="comment">	 For a field belonging to a oneof, it implicitly clears any other field</span><span class="comment">	 that may be currently set within the same oneof.</span><span class="comment">	 For extension fields, it implicitly stores the provided ExtensionType.</span><span class="comment">	 When setting a composite type, it is unspecified whether the stored value</span><span class="comment">	 aliases the source's memory in any way. If the composite value is an</span><span class="comment">	 empty, read-only value, then it panics.</span><span class="comment">	</span><span class="comment">	 Set is a mutating operation and unsafe for concurrent use.</span></div>
<div class="code"><pre><code>	Set(<a href="type.go.html#line-267" class="ident">FieldDescriptor</a>, <a href="value_union.go.html#line-44" class="ident">Value</a>)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Mutable returns a mutable reference to a composite type.</span><span class="comment">	</span><span class="comment">	 If the field is unpopulated, it may allocate a composite value.</span><span class="comment">	 For a field belonging to a oneof, it implicitly clears any other field</span><span class="comment">	 that may be currently set within the same oneof.</span><span class="comment">	 For extension fields, it implicitly stores the provided ExtensionType</span><span class="comment">	 if not already stored.</span><span class="comment">	 It panics if the field does not contain a composite type.</span><span class="comment">	</span><span class="comment">	 Mutable is a mutating operation and unsafe for concurrent use.</span></div>
<div class="code"><pre><code>	Mutable(<a href="type.go.html#line-267" class="ident">FieldDescriptor</a>) <a href="value_union.go.html#line-44" class="ident">Value</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> NewField returns a new value that is assignable to the field</span><span class="comment">	 for the given descriptor. For scalars, this returns the default value.</span><span class="comment">	 For lists, maps, and messages, this returns a new, empty, mutable value.</span></div>
<div class="code"><pre><code>	NewField(<a href="type.go.html#line-267" class="ident">FieldDescriptor</a>) <a href="value_union.go.html#line-44" class="ident">Value</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> WhichOneof reports which field within the oneof is populated,</span><span class="comment">	 returning nil if none are populated.</span><span class="comment">	 It panics if the oneof descriptor does not belong to this message.</span></div>
<div class="code"><pre><code>	WhichOneof(<a href="type.go.html#line-383" class="ident">OneofDescriptor</a>) <a href="type.go.html#line-267" class="ident">FieldDescriptor</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> GetUnknown retrieves the entire list of unknown fields.</span><span class="comment">	 The caller may only mutate the contents of the RawFields</span><span class="comment">	 if the mutated bytes are stored back into the message with SetUnknown.</span></div>
<div class="code"><pre><code>	GetUnknown() <a href="#line-163" class="ident">RawFields</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> SetUnknown stores an entire list of unknown fields.</span><span class="comment">	 The raw fields must be syntactically valid according to the wire format.</span><span class="comment">	 An implementation may panic if this is not the case.</span><span class="comment">	 Once stored, the caller must not mutate the content of the RawFields.</span><span class="comment">	 An empty RawFields may be passed to clear the fields.</span><span class="comment">	</span><span class="comment">	 SetUnknown is a mutating operation and unsafe for concurrent use.</span></div>
<div class="code"><pre><code>	SetUnknown(<a href="#line-163" class="ident">RawFields</a>)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> IsValid reports whether the message is valid.</span><span class="comment">	</span><span class="comment">	 An invalid message is an empty, read-only value.</span><span class="comment">	</span><span class="comment">	 An invalid message often corresponds to a nil pointer of the concrete</span><span class="comment">	 message type, but the details are implementation dependent.</span><span class="comment">	 Validity is not part of the protobuf data model, and may not</span><span class="comment">	 be preserved in marshaling or other operations.</span></div>
<div class="code"><pre><code>	IsValid() <a href="../../../../../pkg/builtin.html#name-bool" class="ident">bool</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> ProtoMethods returns optional fast-path implementions of various operations.</span><span class="comment">	 This method may return nil.</span><span class="comment">	</span><span class="comment">	 The returned methods type is identical to</span><span class="comment">	 "google.golang.org/protobuf/runtime/protoiface".Methods.</span><span class="comment">	 Consult the protoiface package documentation for details.</span></div>
<div class="code"><pre><code>	ProtoMethods() *<a href="methods.go.html#line-18" class="ident">methods</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> RawFields is the raw bytes for an ordered sequence of fields.</span><span class="comment"> Each field contains both the tag (representing field number and wire type),</span><span class="comment"> and also the wire data itself.</span></div>
<div class="code"><pre><code><span class="keyword">type</span> <a href="../../../../../pkg/google.golang.org/protobuf/reflect/protoreflect.html#name-RawFields" class="ident">RawFields</a> []<a href="../../../../../pkg/builtin.html#name-byte" class="ident">byte</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> IsValid reports whether b is syntactically correct wire format.</span></div>
<div class="code"><pre><code><span class="keyword">func</span> (<label for="r0" class="ident">b</label> <a href="#line-163" class="ident">RawFields</a>) <label for="r1" class="ident"><a href="../../../../../use/google.golang.org/protobuf/reflect/protoreflect..RawFields.IsValid.html" class="ident">IsValid</a></label>() <a href="../../../../../pkg/builtin.html#name-bool" class="ident">bool</a> {
	<span class="keyword">for</span> <a href="../../../../../pkg/builtin.html#name-len" class="ident">len</a>(<label for="r0" class="ident">b</label>) &gt; <span class="lit-number">0</span> {
		<label for="r2" class="ident">_</label>, <label for="r3" class="ident">_</label>, <label for="r4" class="ident">n</label> := <a href="../../../../../pkg/google.golang.org/protobuf/encoding/protowire.html" class="ident i0">protowire</a>.<a href="../../encoding/protowire/wire.go.html#line-96" class="ident">ConsumeField</a>(<label for="r0" class="ident">b</label>)
		<span class="keyword">if</span> <label for="r4" class="ident">n</label> &lt; <span class="lit-number">0</span> {
			<span class="keyword">return</span> <a href="../../../../../pkg/builtin.html#name-false" class="ident">false</a>
		}
		<label for="r0" class="ident">b</label> = <label for="r0" class="ident">b</label>[<label for="r4" class="ident">n</label>:]
	}
	<span class="keyword">return</span> <a href="../../../../../pkg/builtin.html#name-true" class="ident">true</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> List is a zero-indexed, ordered list.</span><span class="comment"> The element Value type is determined by FieldDescriptor.Kind.</span><span class="comment"> Providing a Value that is invalid or of an incorrect type panics.</span></div>
<div class="code"><pre><code></code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Len reports the number of entries in the List.</span><span class="comment">	 Get, Set, and Truncate panic with out of bound indexes.</span></div>
<div class="code"><pre><code>	Len() <a href="../../../../../pkg/builtin.html#name-int" class="ident">int</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Get retrieves the value at the given index.</span><span class="comment">	 It never returns an invalid value.</span></div>
<div class="code"><pre><code>	Get(<a href="../../../../../pkg/builtin.html#name-int" class="ident">int</a>) <a href="value_union.go.html#line-44" class="ident">Value</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Set stores a value for the given index.</span><span class="comment">	 When setting a composite type, it is unspecified whether the set</span><span class="comment">	 value aliases the source's memory in any way.</span><span class="comment">	</span><span class="comment">	 Set is a mutating operation and unsafe for concurrent use.</span></div>
<div class="code"><pre><code>	Set(<a href="../../../../../pkg/builtin.html#name-int" class="ident">int</a>, <a href="value_union.go.html#line-44" class="ident">Value</a>)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Append appends the provided value to the end of the list.</span><span class="comment">	 When appending a composite type, it is unspecified whether the appended</span><span class="comment">	 value aliases the source's memory in any way.</span><span class="comment">	</span><span class="comment">	 Append is a mutating operation and unsafe for concurrent use.</span></div>
<div class="code"><pre><code>	Append(<a href="value_union.go.html#line-44" class="ident">Value</a>)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> AppendMutable appends a new, empty, mutable message value to the end</span><span class="comment">	 of the list and returns it.</span><span class="comment">	 It panics if the list does not contain a message type.</span></div>
<div class="code"><pre><code>	AppendMutable() <a href="value_union.go.html#line-44" class="ident">Value</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Truncate truncates the list to a smaller length.</span><span class="comment">	</span><span class="comment">	 Truncate is a mutating operation and unsafe for concurrent use.</span></div>
<div class="code"><pre><code>	Truncate(<a href="../../../../../pkg/builtin.html#name-int" class="ident">int</a>)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> NewElement returns a new value for a list element.</span><span class="comment">	 For enums, this returns the first enum value.</span><span class="comment">	 For other scalars, this returns the zero value.</span><span class="comment">	 For messages, this returns a new, empty, mutable value.</span></div>
<div class="code"><pre><code>	NewElement() <a href="value_union.go.html#line-44" class="ident">Value</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> IsValid reports whether the list is valid.</span><span class="comment">	</span><span class="comment">	 An invalid list is an empty, read-only value.</span><span class="comment">	</span><span class="comment">	 Validity is not part of the protobuf data model, and may not</span><span class="comment">	 be preserved in marshaling or other operations.</span></div>
<div class="code"><pre><code>	IsValid() <a href="../../../../../pkg/builtin.html#name-bool" class="ident">bool</a>
}
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Map is an unordered, associative map.</span><span class="comment"> The entry MapKey type is determined by FieldDescriptor.MapKey.Kind.</span><span class="comment"> The entry Value type is determined by FieldDescriptor.MapValue.Kind.</span><span class="comment"> Providing a MapKey or Value that is invalid or of an incorrect type panics.</span></div>
<div class="code"><pre><code></code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Len reports the number of elements in the map.</span></div>
<div class="code"><pre><code>	Len() <a href="../../../../../pkg/builtin.html#name-int" class="ident">int</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Range iterates over every map entry in an undefined order,</span><span class="comment">	 calling f for each key and value encountered.</span><span class="comment">	 Range calls f Len times unless f returns false, which stops iteration.</span><span class="comment">	 While iterating, mutating operations may only be performed</span><span class="comment">	 on the current map key.</span></div>
<div class="code"><pre><code>	Range(f <span class="keyword">func</span>(<a href="value_union.go.html#line-375" class="ident">MapKey</a>, <a href="value_union.go.html#line-44" class="ident">Value</a>) <a href="../../../../../pkg/builtin.html#name-bool" class="ident">bool</a>)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Has reports whether an entry with the given key is in the map.</span></div>
<div class="code"><pre><code>	Has(<a href="value_union.go.html#line-375" class="ident">MapKey</a>) <a href="../../../../../pkg/builtin.html#name-bool" class="ident">bool</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Clear clears the entry associated with they given key.</span><span class="comment">	 The operation does nothing if there is no entry associated with the key.</span><span class="comment">	</span><span class="comment">	 Clear is a mutating operation and unsafe for concurrent use.</span></div>
<div class="code"><pre><code>	Clear(<a href="value_union.go.html#line-375" class="ident">MapKey</a>)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Get retrieves the value for an entry with the given key.</span><span class="comment">	 It returns an invalid value for non-existent entries.</span></div>
<div class="code"><pre><code>	Get(<a href="value_union.go.html#line-375" class="ident">MapKey</a>) <a href="value_union.go.html#line-44" class="ident">Value</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Set stores the value for an entry with the given key.</span><span class="comment">	 It panics when given a key or value that is invalid or the wrong type.</span><span class="comment">	 When setting a composite type, it is unspecified whether the set</span><span class="comment">	 value aliases the source's memory in any way.</span><span class="comment">	</span><span class="comment">	 Set is a mutating operation and unsafe for concurrent use.</span></div>
<div class="code"><pre><code>	Set(<a href="value_union.go.html#line-375" class="ident">MapKey</a>, <a href="value_union.go.html#line-44" class="ident">Value</a>)
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> Mutable retrieves a mutable reference to the entry for the given key.</span><span class="comment">	 If no entry exists for the key, it creates a new, empty, mutable value</span><span class="comment">	 and stores it as the entry for the key.</span><span class="comment">	 It panics if the map value is not a message.</span></div>
<div class="code"><pre><code>	Mutable(<a href="value_union.go.html#line-375" class="ident">MapKey</a>) <a href="value_union.go.html#line-44" class="ident">Value</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> NewValue returns a new value assignable as a map value.</span><span class="comment">	 For enums, this returns the first enum value.</span><span class="comment">	 For other scalars, this returns the zero value.</span><span class="comment">	 For messages, this returns a new, empty, mutable value.</span></div>
<div class="code"><pre><code>	NewValue() <a href="value_union.go.html#line-44" class="ident">Value</a>
</code></pre></div></div>
<div class="section">
<div class="doc">
<span class="comment"> IsValid reports whether the map is valid.</span><span class="comment">	</span><span class="comment">	 An invalid map is an empty, read-only value.</span><span class="comment">	</span><span class="comment">	 An invalid message often corresponds to a nil Go map value,</span><span class="comment">	 but the details are implementation dependent.</span><span class="comment">	 Validity is not part of the protobuf data model, and may not</span><span class="comment">	 be preserved in marshaling or other operations.</span></div>
<div class="code"><pre><code>	IsValid() <a href="../../../../../pkg/builtin.html#name-bool" class="ident">bool</a>
</code></pre></div></div>

</div><pre id="footer">
<table><tr><td><img src="../../../../../png/go101-twitter.png"></td>
<td>The pages are generated with <a href="https://go101.org/article/tool-golds.html"><b>Golds</b></a> <i>v0.3.2-preview</i>. (GOOS=darwin GOARCH=amd64)
<b>Golds</b> is a <a href="https://go101.org">Go 101</a> project developed by <a href="https://tapirgames.com">Tapir Liu</a>.
PR and bug reports are welcome and can be submitted to <a href="https://github.com/go101/golds">the issue list</a>.
Please follow <a href="https://twitter.com/go100and1">@Go100and1</a> (reachable from the left QR code) to get the latest news of <b>Golds</b>.</td></tr></table></pre>