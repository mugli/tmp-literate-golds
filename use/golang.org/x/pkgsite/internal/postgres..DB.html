<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>References: golang.org/x/pkgsite/internal/postgres.DB</title>
<link href="../../../../../css/light-v0.3.2-preview.css" rel="stylesheet">
<script src="../../../../../jvs/golds-v0.3.2-preview.js"></script>
<body onload="onPageLoad()"><div>

<pre><code><span style="font-size:x-large;">type <b><a href="../../../../../pkg/golang.org/x/pkgsite/internal/postgres.html">golang.org/x/pkgsite/internal/postgres</a>.<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/postgres.go.html#line-20">DB</a></b></span>

<span class="title">122 uses</span>

	golang.org/x/pkgsite/internal/postgres (current package)
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/clean.go.html#line-29">clean.go#L29</a>: func (db *<b>DB</b>) GetModuleVersionsToClean(ctx context.Context, daysOld, limit int) (modvers []ModuleVersion, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/clean.go.html#line-76" class="path-duplicate">clean.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/clean.go.html#line-76">#L76</a>: func (db *<b>DB</b>) CleanModuleVersions(ctx context.Context, mvs []ModuleVersion, reason string) (err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/clean.go.html#line-93" class="path-duplicate">clean.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/clean.go.html#line-93">#L93</a>: func (db *<b>DB</b>) CleanModule(ctx context.Context, modulePath, reason string) (err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/delete.go.html#line-18">delete.go#L18</a>: func (db *<b>DB</b>) DeletePseudoversionsExcept(ctx context.Context, modulePath, resolvedVersion string) (err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/details.go.html#line-23">details.go#L23</a>: func (db *<b>DB</b>) GetNestedModules(ctx context.Context, modulePath string) (_ []*internal.ModuleInfo, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/details.go.html#line-79" class="path-duplicate">details.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/details.go.html#line-79">#L79</a>: func (db *<b>DB</b>) GetImportedBy(ctx context.Context, pkgPath, modulePath string, limit int) (paths []string, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/details.go.html#line-103" class="path-duplicate">details.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/details.go.html#line-103">#L103</a>: func (db *<b>DB</b>) GetImportedByCount(ctx context.Context, pkgPath, modulePath string) (_ int, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/details.go.html#line-131" class="path-duplicate">details.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/details.go.html#line-131">#L131</a>: func (db *<b>DB</b>) GetModuleInfo(ctx context.Context, modulePath, resolvedVersion string) (_ *internal.ModuleInfo, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/excluded.go.html#line-21">excluded.go#L21</a>: func (db *<b>DB</b>) IsExcluded(ctx context.Context, path string) (_ bool, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/excluded.go.html#line-43" class="path-duplicate">excluded.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/excluded.go.html#line-43">#L43</a>: func (db *<b>DB</b>) InsertExcludedPrefix(ctx context.Context, prefix, user, reason string) (err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/excluded.go.html#line-55" class="path-duplicate">excluded.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/excluded.go.html#line-55">#L55</a>: func (db *<b>DB</b>) GetExcludedPrefixes(ctx context.Context) ([]string, error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/insert_module.go.html#line-35">insert_module.go#L35</a>: func (db *<b>DB</b>) InsertModule(ctx context.Context, m *internal.Module, lmv *internal.LatestModuleVersions) (isLatest bool, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/insert_module.go.html#line-75" class="path-duplicate">insert_module.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/insert_module.go.html#line-75">#L75</a>: func (db *<b>DB</b>) saveModule(ctx context.Context, m *internal.Module, lmv *internal.LatestModuleVersions) (isLatest bool, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/insert_module.go.html#line-329" class="path-duplicate">insert_module.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/insert_module.go.html#line-329">#L329</a>: func (pdb *<b>DB</b>) insertUnits(ctx context.Context, db *database.DB, m *internal.Module, moduleID int, pathToID map[string]int) (err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/insert_module.go.html#line-619" class="path-duplicate">insert_module.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/insert_module.go.html#line-619">#L619</a>: func (db *<b>DB</b>) ReInsertLatestVersion(ctx context.Context, modulePath string) (err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/insert_module.go.html#line-805" class="path-duplicate">insert_module.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/insert_module.go.html#line-805">#L805</a>: func (db *<b>DB</b>) compareLicenses(ctx context.Context, moduleID int, lics []*licenses.License) (err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/insert_module.go.html#line-827" class="path-duplicate">insert_module.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/insert_module.go.html#line-827">#L827</a>: func (db *<b>DB</b>) comparePaths(ctx context.Context, m *internal.Module) (err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/insert_module.go.html#line-846" class="path-duplicate">insert_module.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/insert_module.go.html#line-846">#L846</a>: func (db *<b>DB</b>) DeleteModule(ctx context.Context, modulePath, resolvedVersion string) (err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/licenses.go.html#line-25">licenses.go#L25</a>: func (db *<b>DB</b>) getLicenses(ctx context.Context, fullPath, modulePath string, unitID int) (_ []*licenses.License, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/licenses.go.html#line-85" class="path-duplicate">licenses.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/licenses.go.html#line-85">#L85</a>: func (db *<b>DB</b>) getModuleLicenses(ctx context.Context, moduleID int) (_ []*licenses.License, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/path.go.html#line-23">path.go#L23</a>: func (db *<b>DB</b>) GetLatestMajorPathForV1Path(ctx context.Context, v1path string) (_ string, _ int, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/postgres.go.html#line-20">postgres.go#L20</a>: type <b>DB</b> struct {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/postgres.go.html#line-28" class="path-duplicate">postgres.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/postgres.go.html#line-28">#L28</a>: func New(db *database.DB) *<b>DB</b> {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/postgres.go.html#line-35" class="path-duplicate">postgres.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/postgres.go.html#line-35">#L35</a>: func NewBypassingLicenseCheck(db *database.DB) *<b>DB</b> {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/postgres.go.html#line-42" class="path-duplicate">postgres.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/postgres.go.html#line-42">#L42</a>: func newdb(db *database.DB, bypass bool) *<b>DB</b> {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/postgres.go.html#line-56" class="path-duplicate">postgres.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/postgres.go.html#line-56">#L56</a>: 	return &amp;<b>DB</b>{
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/postgres.go.html#line-65" class="path-duplicate">postgres.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/postgres.go.html#line-65">#L65</a>: func (db *<b>DB</b>) Close() error {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/postgres.go.html#line-71" class="path-duplicate">postgres.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/postgres.go.html#line-71">#L71</a>: func (db *<b>DB</b>) Underlying() *database.DB {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/postgres.go.html#line-87" class="path-duplicate">postgres.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/postgres.go.html#line-87">#L87</a>: func (db *<b>DB</b>) StalenessTimestamp(ctx context.Context) (time.Time, error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/requeue.go.html#line-22">requeue.go#L22</a>: func (db *<b>DB</b>) UpdateModuleVersionStatesForReprocessing(ctx context.Context, appVersion string) (err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/requeue.go.html#line-39" class="path-duplicate">requeue.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/requeue.go.html#line-39">#L39</a>: func (db *<b>DB</b>) UpdateModuleVersionStatesForReprocessingReleaseVersionsOnly(ctx context.Context, appVersion string) (err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/requeue.go.html#line-65" class="path-duplicate">requeue.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/requeue.go.html#line-65">#L65</a>: func (db *<b>DB</b>) UpdateModuleVersionStatesForReprocessingLatestOnly(ctx context.Context, appVersion string) (err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/requeue.go.html#line-98" class="path-duplicate">requeue.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/requeue.go.html#line-98">#L98</a>: func (db *<b>DB</b>) UpdateModuleVersionStatesWithStatus(ctx context.Context, status int, appVersion string) (err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/requeue.go.html#line-135" class="path-duplicate">requeue.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/requeue.go.html#line-135">#L135</a>: func (db *<b>DB</b>) GetNextModulesToFetch(ctx context.Context, limit int) (_ []*internal.ModuleVersionState, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-85">search.go#L85</a>: type searcher func(db *<b>DB</b>, ctx context.Context, q string, limit, offset, maxResultCount int) searchResponse
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-89" class="path-duplicate">search.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-89">#L89</a>: 	"popular": (*<b>DB</b>).popularSearch,
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-90" class="path-duplicate">search.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-90">#L90</a>: 	"deep":    (*<b>DB</b>).deepSearch,
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-94" class="path-duplicate">search.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-94">#L94</a>: 	"symbol": (*<b>DB</b>).symbolSearch,
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-120" class="path-duplicate">search.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-120">#L120</a>: func (db *<b>DB</b>) Search(ctx context.Context, q string, limit, offset, maxResultCount int, searchSymbols bool) (_ []*internal.SearchResult, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-194" class="path-duplicate">search.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-194">#L194</a>: func (db *<b>DB</b>) hedgedSearch(ctx context.Context, q string, limit, offset, maxResultCount int, searchers map[string]searcher, guardTestResult func(string) func()) (_ *searchResponse, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-252" class="path-duplicate">search.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-252">#L252</a>: func (db *<b>DB</b>) deepSearch(ctx context.Context, q string, limit, offset, maxResultCount int) searchResponse {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-300" class="path-duplicate">search.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-300">#L300</a>: func (db *<b>DB</b>) popularSearch(ctx context.Context, searchQuery string, limit, offset, maxResultCount int) searchResponse {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-347" class="path-duplicate">search.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-347">#L347</a>: func (db *<b>DB</b>) symbolSearch(ctx context.Context, q string, limit, offset, maxResultCount int) searchResponse {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-430" class="path-duplicate">search.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-430">#L430</a>: func (db *<b>DB</b>) addPackageDataToSearchResults(ctx context.Context, results []*internal.SearchResult) (err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-689" class="path-duplicate">search.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-689">#L689</a>: func (db *<b>DB</b>) GetPackagesForSearchDocumentUpsert(ctx context.Context, before time.Time, limit int) (argsList []UpsertSearchDocumentArgs, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-745" class="path-duplicate">search.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-745">#L745</a>: func (db *<b>DB</b>) UpdateSearchDocumentsImportedByCount(ctx context.Context) (nUpdated int64, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-770" class="path-duplicate">search.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-770">#L770</a>: func (db *<b>DB</b>) getSearchPackages(ctx context.Context) (set map[string]bool, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-788" class="path-duplicate">search.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-788">#L788</a>: func (db *<b>DB</b>) computeImportedByCounts(ctx context.Context, searchDocsPackages map[string]bool) (counts map[string]int, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-1018" class="path-duplicate">search.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-1018">#L1018</a>: func (db *<b>DB</b>) DeleteOlderVersionFromSearchDocuments(ctx context.Context, modulePath, resolvedVersion string) (err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-1060" class="path-duplicate">search.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/search.go.html#line-1060">#L1060</a>: func (db *<b>DB</b>) UpsertSearchDocumentWithImportedByCount(ctx context.Context, args UpsertSearchDocumentArgs, importedByCount int) (err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/stdlib.go.html#line-20">stdlib.go#L20</a>: func (db *<b>DB</b>) GetStdlibPathsWithSuffix(ctx context.Context, suffix string) (paths []string, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/symbol_history.go.html#line-24">symbol_history.go#L24</a>: func (db *<b>DB</b>) GetSymbolHistory(ctx context.Context, packagePath, modulePath string,
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/test_helper.go.html#line-75">test_helper.go#L75</a>: func SetupTestDB(dbName string) (_ *<b>DB</b>, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/test_helper.go.html#line-107" class="path-duplicate">test_helper.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/test_helper.go.html#line-107">#L107</a>: func ResetTestDB(db *<b>DB</b>, t *testing.T) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/test_helper.go.html#line-137" class="path-duplicate">test_helper.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/test_helper.go.html#line-137">#L137</a>: func RunDBTests(dbName string, m *testing.M, testDB **<b>DB</b>) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/test_helper.go.html#line-163" class="path-duplicate">test_helper.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/test_helper.go.html#line-163">#L163</a>: func RunDBTestsInParallel(dbBaseName string, numDBs int, m *testing.M, acquirep *func(*testing.T) (*<b>DB</b>, func())) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/test_helper.go.html#line-166" class="path-duplicate">test_helper.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/test_helper.go.html#line-166">#L166</a>: 	dbs := make(chan *<b>DB</b>, numDBs)
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/test_helper.go.html#line-179" class="path-duplicate">test_helper.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/test_helper.go.html#line-179">#L179</a>: 	*acquirep = func(t *testing.T) (*<b>DB</b>, func()) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/test_helper.go.html#line-204" class="path-duplicate">test_helper.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/test_helper.go.html#line-204">#L204</a>: func MustInsertModule(ctx context.Context, t *testing.T, db *<b>DB</b>, m *internal.Module) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/test_helper.go.html#line-208" class="path-duplicate">test_helper.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/test_helper.go.html#line-208">#L208</a>: func MustInsertModuleGoMod(ctx context.Context, t *testing.T, db *<b>DB</b>, m *internal.Module, goMod string) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/test_helper.go.html#line-212" class="path-duplicate">test_helper.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/test_helper.go.html#line-212">#L212</a>: func MustInsertModuleNotLatest(ctx context.Context, t *testing.T, db *<b>DB</b>, m *internal.Module) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/test_helper.go.html#line-216" class="path-duplicate">test_helper.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/test_helper.go.html#line-216">#L216</a>: func mustInsertModule(ctx context.Context, t *testing.T, db *<b>DB</b>, m *internal.Module, goMod string, latest bool) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/test_helper.go.html#line-231" class="path-duplicate">test_helper.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/test_helper.go.html#line-231">#L231</a>: func addLatest(ctx context.Context, t *testing.T, db *<b>DB</b>, modulePath, version, modFile string) *internal.LatestModuleVersions {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/test_helper.go.html#line-248" class="path-duplicate">test_helper.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/test_helper.go.html#line-248">#L248</a>: func InsertSampleDirectoryTree(ctx context.Context, t *testing.T, testDB *<b>DB</b>) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/test_helper.go.html#line-325" class="path-duplicate">test_helper.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/test_helper.go.html#line-325">#L325</a>: func GetFromSearchDocuments(ctx context.Context, t *testing.T, db *<b>DB</b>, packagePath string) (modulePath, version string, found bool) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/unit.go.html#line-38">unit.go#L38</a>: func (db *<b>DB</b>) GetUnitMeta(ctx context.Context, fullPath, requestedModulePath, requestedVersion string) (_ *internal.UnitMeta, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/unit.go.html#line-54" class="path-duplicate">unit.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/unit.go.html#line-54">#L54</a>: func (db *<b>DB</b>) getUnitMetaWithKnownLatestVersion(ctx context.Context, fullPath, modulePath, version string, lmv *internal.LatestModuleVersions) (_ *internal.UnitMeta, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/unit.go.html#line-143" class="path-duplicate">unit.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/unit.go.html#line-143">#L143</a>: func (db *<b>DB</b>) getLatestUnitVersion(ctx context.Context, fullPath, requestedModulePath string) (
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/unit.go.html#line-245" class="path-duplicate">unit.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/unit.go.html#line-245">#L245</a>: func (db *<b>DB</b>) GetUnit(ctx context.Context, um *internal.UnitMeta, fields internal.FieldSet, bc internal.BuildContext) (_ *internal.Unit, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/unit.go.html#line-291" class="path-duplicate">unit.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/unit.go.html#line-291">#L291</a>: func (db *<b>DB</b>) getUnitID(ctx context.Context, fullPath, modulePath, resolvedVersion string) (_ int, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/unit.go.html#line-316" class="path-duplicate">unit.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/unit.go.html#line-316">#L316</a>: func (db *<b>DB</b>) getImports(ctx context.Context, unitID int) (_ []string, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/unit.go.html#line-327" class="path-duplicate">unit.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/unit.go.html#line-327">#L327</a>: func (db *<b>DB</b>) getPackagesInUnit(ctx context.Context, fullPath string, moduleID int) (_ []*internal.PackageMeta, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/unit.go.html#line-425" class="path-duplicate">unit.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/unit.go.html#line-425">#L425</a>: func (db *<b>DB</b>) getUnitWithAllFields(ctx context.Context, um *internal.UnitMeta, bc internal.BuildContext) (_ *internal.Unit, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/unit.go.html#line-585" class="path-duplicate">unit.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/unit.go.html#line-585">#L585</a>: func (db *<b>DB</b>) getPathsInModule(ctx context.Context, modulePath, resolvedVersion string) (_ []*dbPath, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/unit.go.html#line-628" class="path-duplicate">unit.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/unit.go.html#line-628">#L628</a>: func (db *<b>DB</b>) GetModuleReadme(ctx context.Context, modulePath, resolvedVersion string) (_ *internal.Readme, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/version.go.html#line-29">version.go#L29</a>: func (db *<b>DB</b>) GetVersionsForPath(ctx context.Context, path string) (_ []*internal.ModuleInfo, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/version.go.html#line-50" class="path-duplicate">version.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/version.go.html#line-50">#L50</a>: func getPathVersions(ctx context.Context, db *<b>DB</b>, path string, versionTypes ...version.Type) (_ []*internal.ModuleInfo, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/version.go.html#line-114" class="path-duplicate">version.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/version.go.html#line-114">#L114</a>: func populateLatestInfo(ctx context.Context, db *<b>DB</b>, mi *internal.ModuleInfo) (err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/version.go.html#line-128" class="path-duplicate">version.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/version.go.html#line-128">#L128</a>: func populateLatestInfos(ctx context.Context, db *<b>DB</b>, mis []*internal.ModuleInfo) (err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/version.go.html#line-156" class="path-duplicate">version.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/version.go.html#line-156">#L156</a>: func (db *<b>DB</b>) GetLatestInfo(ctx context.Context, unitPath, modulePath string, latestUnitMeta *internal.UnitMeta) (latest internal.LatestInfo, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/version.go.html#line-201" class="path-duplicate">version.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/version.go.html#line-201">#L201</a>: func (db *<b>DB</b>) getLatestMajorVersion(ctx context.Context, fullPath, modulePath string) (modPath, pkgPath string, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/version.go.html#line-279" class="path-duplicate">version.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/version.go.html#line-279">#L279</a>: func (db *<b>DB</b>) unitExistsAtLatest(ctx context.Context, unitPath, modulePath string) (unitExists bool, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/version.go.html#line-329" class="path-duplicate">version.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/version.go.html#line-329">#L329</a>: func (db *<b>DB</b>) getMultiLatestModuleVersions(ctx context.Context, modulePaths []string) (lmvs []*internal.LatestModuleVersions, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/version.go.html#line-408" class="path-duplicate">version.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/version.go.html#line-408">#L408</a>: func (db *<b>DB</b>) GetLatestModuleVersions(ctx context.Context, modulePath string) (_ *internal.LatestModuleVersions, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/version.go.html#line-459" class="path-duplicate">version.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/version.go.html#line-459">#L459</a>: func (db *<b>DB</b>) UpdateLatestModuleVersions(ctx context.Context, vNew *internal.LatestModuleVersions) (_ *internal.LatestModuleVersions, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/version.go.html#line-510" class="path-duplicate">version.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/version.go.html#line-510">#L510</a>: func (db *<b>DB</b>) UpdateLatestModuleVersionsStatus(ctx context.Context, modulePath string, newStatus int) (err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/version_map.go.html#line-20">version_map.go#L20</a>: func (db *<b>DB</b>) UpsertVersionMap(ctx context.Context, vm *internal.VersionMap) (err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/version_map.go.html#line-70" class="path-duplicate">version_map.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/version_map.go.html#line-70">#L70</a>: func (db *<b>DB</b>) GetVersionMap(ctx context.Context, modulePath, requestedVersion string) (_ *internal.VersionMap, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/version_map.go.html#line-99" class="path-duplicate">version_map.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/version_map.go.html#line-99">#L99</a>: func (db *<b>DB</b>) GetVersionMaps(ctx context.Context, paths []string, requestedVersion string) (_ []*internal.VersionMap, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/versionstate.go.html#line-25">versionstate.go#L25</a>: func (db *<b>DB</b>) InsertIndexVersions(ctx context.Context, versions []*internal.IndexVersion) (err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/versionstate.go.html#line-59" class="path-duplicate">versionstate.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/versionstate.go.html#line-59">#L59</a>: func (db *<b>DB</b>) UpsertModuleVersionState(ctx context.Context, mvs *ModuleVersionStateForUpsert) (err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/versionstate.go.html#line-165" class="path-duplicate">versionstate.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/versionstate.go.html#line-165">#L165</a>: func (db *<b>DB</b>) UpdateModuleVersionStatus(ctx context.Context, modulePath, version string, status int, error string) (err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/versionstate.go.html#line-210" class="path-duplicate">versionstate.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/versionstate.go.html#line-210">#L210</a>: func (db *<b>DB</b>) LatestIndexTimestamp(ctx context.Context) (_ time.Time, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/versionstate.go.html#line-276" class="path-duplicate">versionstate.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/versionstate.go.html#line-276">#L276</a>: func (db *<b>DB</b>) queryModuleVersionStates(ctx context.Context, queryFormat string, args ...interface{}) ([]*internal.ModuleVersionState, error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/versionstate.go.html#line-297" class="path-duplicate">versionstate.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/versionstate.go.html#line-297">#L297</a>: func (db *<b>DB</b>) GetRecentFailedVersions(ctx context.Context, limit int) (_ []*internal.ModuleVersionState, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/versionstate.go.html#line-311" class="path-duplicate">versionstate.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/versionstate.go.html#line-311">#L311</a>: func (db *<b>DB</b>) GetRecentVersions(ctx context.Context, limit int) (_ []*internal.ModuleVersionState, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/versionstate.go.html#line-325" class="path-duplicate">versionstate.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/versionstate.go.html#line-325">#L325</a>: func (db *<b>DB</b>) GetModuleVersionState(ctx context.Context, modulePath, resolvedVersion string) (_ *internal.ModuleVersionState, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/versionstate.go.html#line-350" class="path-duplicate">versionstate.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/versionstate.go.html#line-350">#L350</a>: func (db *<b>DB</b>) GetPackageVersionStatesForModule(ctx context.Context, modulePath, resolvedVersion string) (_ []*internal.PackageVersionState, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/versionstate.go.html#line-384" class="path-duplicate">versionstate.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/versionstate.go.html#line-384">#L384</a>: func (db *<b>DB</b>) GetPackageVersionState(ctx context.Context, pkgPath, modulePath, resolvedVersion string) (_ *internal.PackageVersionState, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/versionstate.go.html#line-425" class="path-duplicate">versionstate.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/versionstate.go.html#line-425">#L425</a>: func (db *<b>DB</b>) GetVersionStats(ctx context.Context) (_ *VersionStats, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/versionstate.go.html#line-463" class="path-duplicate">versionstate.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/postgres/versionstate.go.html#line-463">#L463</a>: func (db *<b>DB</b>) HasGoMod(ctx context.Context, modulePath, version string) (has bool, err error) {

	<a href="../../../../../pkg/golang.org/x/pkgsite/internal/frontend.html">golang.org/x/pkgsite/internal/frontend</a>
		<a href="../../../../../src/golang.org/x/pkgsite/internal/frontend/404.go.html#line-48">404.go#L48</a>: 	db, ok := ds.(*postgres.<b>DB</b>)
		<a href="../../../../../src/golang.org/x/pkgsite/internal/frontend/404.go.html#line-181" class="path-duplicate">404.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/frontend/404.go.html#line-181">#L181</a>: func previousFetchStatusAndResponse(ctx context.Context, db *postgres.<b>DB</b>,
		<a href="../../../../../src/golang.org/x/pkgsite/internal/frontend/fetch.go.html#line-92">fetch.go#L92</a>: 	if _, ok := ds.(*postgres.<b>DB</b>); !ok {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/frontend/fetch.go.html#line-146" class="path-duplicate">fetch.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/frontend/fetch.go.html#line-146">#L146</a>: 	db := ds.(*postgres.<b>DB</b>)
		<a href="../../../../../src/golang.org/x/pkgsite/internal/frontend/fetch.go.html#line-175" class="path-duplicate">fetch.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/frontend/fetch.go.html#line-175">#L175</a>: func (s *Server) checkPossibleModulePaths(ctx context.Context, db *postgres.<b>DB</b>,
		<a href="../../../../../src/golang.org/x/pkgsite/internal/frontend/fetch.go.html#line-336" class="path-duplicate">fetch.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/frontend/fetch.go.html#line-336">#L336</a>: func pollForPath(ctx context.Context, db *postgres.<b>DB</b>, pollEvery time.Duration,
		<a href="../../../../../src/golang.org/x/pkgsite/internal/frontend/fetch.go.html#line-370" class="path-duplicate">fetch.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/frontend/fetch.go.html#line-370">#L370</a>: func checkForPath(ctx context.Context, db *postgres.<b>DB</b>,
		<a href="../../../../../src/golang.org/x/pkgsite/internal/frontend/fetch.go.html#line-548" class="path-duplicate">fetch.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/frontend/fetch.go.html#line-548">#L548</a>: func FetchAndUpdateState(ctx context.Context, modulePath, requestedVersion string, proxyClient *proxy.Client, sourceClient *source.Client, db *postgres.<b>DB</b>) (_ int, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/frontend/imports.go.html#line-98">imports.go#L98</a>: 	db, ok := ds.(*postgres.<b>DB</b>)
		<a href="../../../../../src/golang.org/x/pkgsite/internal/frontend/redirect.go.html#line-31">redirect.go#L31</a>: func stdlibPathForShortcut(ctx context.Context, db *postgres.<b>DB</b>, shortcut string) (path string, err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/frontend/search.go.html#line-60">search.go#L60</a>: func fetchSearchPage(ctx context.Context, db *postgres.<b>DB</b>, query string, pageParams paginationParams) (*SearchPage, error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/frontend/search.go.html#line-230" class="path-duplicate">search.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/frontend/search.go.html#line-230">#L230</a>: 	db, ok := ds.(*postgres.<b>DB</b>)
		<a href="../../../../../src/golang.org/x/pkgsite/internal/frontend/urlinfo.go.html#line-193">urlinfo.go#L193</a>: 	db, ok := ds.(*postgres.<b>DB</b>)
		<a href="../../../../../src/golang.org/x/pkgsite/internal/frontend/versions.go.html#line-85">versions.go#L85</a>: 	db, ok := ds.(*postgres.<b>DB</b>)

	<a href="../../../../../pkg/golang.org/x/pkgsite/internal/worker.html">golang.org/x/pkgsite/internal/worker</a>
		<a href="../../../../../src/golang.org/x/pkgsite/internal/worker/fetch.go.html#line-46">fetch.go#L46</a>: 	DB           *postgres.<b>DB</b>
		<a href="../../../../../src/golang.org/x/pkgsite/internal/worker/fetch.go.html#line-323" class="path-duplicate">fetch.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/worker/fetch.go.html#line-323">#L323</a>: func updateVersionMap(ctx context.Context, db *postgres.<b>DB</b>, ft *fetchTask) (err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/worker/fetch.go.html#line-364" class="path-duplicate">fetch.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/worker/fetch.go.html#line-364">#L364</a>: func deleteModule(ctx context.Context, db *postgres.<b>DB</b>, ft *fetchTask) (err error) {
		<a href="../../../../../src/golang.org/x/pkgsite/internal/worker/server.go.html#line-49">server.go#L49</a>: 	db              *postgres.<b>DB</b>
		<a href="../../../../../src/golang.org/x/pkgsite/internal/worker/server.go.html#line-59" class="path-duplicate">server.go</a><a href="../../../../../src/golang.org/x/pkgsite/internal/worker/server.go.html#line-59">#L59</a>: 	DB               *postgres.<b>DB</b>

	<a href="../../../../../pkg/golang.org/x/pkgsite/cmd/internal/cmdconfig.html">golang.org/x/pkgsite/cmd/internal/cmdconfig</a>
		<a href="../../../../../src/golang.org/x/pkgsite/cmd/internal/cmdconfig/cmdconfig.go.html#line-98">cmdconfig.go#L98</a>: func OpenDB(ctx context.Context, cfg *config.Config, bypassLicenseCheck bool) (_ *postgres.<b>DB</b>, err error) {

	<a href="../../../../../pkg/golang.org/x/pkgsite/cmd/worker.html">golang.org/x/pkgsite/cmd/worker</a>
		<a href="../../../../../src/golang.org/x/pkgsite/cmd/worker/main.go.html#line-206">main.go#L206</a>: func populateExcluded(ctx context.Context, db *postgres.<b>DB</b>) {
</code></pre><pre id="footer">
<table><tr><td><img src="../../../../../png/go101-twitter.png"></td>
<td>The pages are generated with <a href="https://go101.org/article/tool-golds.html"><b>Golds</b></a> <i>v0.3.2-preview</i>. (GOOS=darwin GOARCH=amd64)
<b>Golds</b> is a <a href="https://go101.org">Go 101</a> project developed by <a href="https://tapirgames.com">Tapir Liu</a>.
PR and bug reports are welcome and can be submitted to <a href="https://github.com/go101/golds">the issue list</a>.
Please follow <a href="https://twitter.com/go100and1">@Go100and1</a> (reachable from the left QR code) to get the latest news of <b>Golds</b>.</td></tr></table></pre>